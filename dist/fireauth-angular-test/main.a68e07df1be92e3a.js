"use strict";(self.webpackChunkfireauth_angular_test=self.webpackChunkfireauth_angular_test||[]).push([[179],{6304:(Bt,$e,j)=>{j.d($e,{Dh:()=>at,GT:()=>Ke,cc:()=>Se,hO:()=>ht,on:()=>De,pX:()=>Pe,xv:()=>Ge});var _=j(8926),G=j(120),X=j(6528);Bt=j.hmd(Bt);const me=["ngOnDestroy"],Pe=(Le,Ct,ze,Be={})=>new Proxy(Le,{get:(Re,ke)=>ze.runOutsideAngular(()=>{var qe;if(Le[ke])return!(null===(qe=Be?.spy)||void 0===qe)&&qe.get&&Be.spy.get(ke,Le[ke]),Le[ke];if(me.indexOf(ke)>-1)return()=>{};const le=Ct.toPromise().then(W=>{const ce=W&&W[ke];return"function"==typeof ce?ce.bind(W):ce&&ce.then?ce.then(ve=>ze.run(()=>ve)):ze.run(()=>ce)});return new Proxy(()=>{},{get:(W,ce)=>le[ce],apply:(W,ce,ve)=>le.then(rn=>{var zn;const ir=rn&&rn(...ve);return!(null===(zn=Be?.spy)||void 0===zn)&&zn.apply&&Be.spy.apply(ke,ve,ir),ir})})})}),Ke=(Le,Ct)=>{Ct.forEach(ze=>{Object.getOwnPropertyNames(ze.prototype||ze).forEach(Be=>{Object.defineProperty(Le.prototype,Be,Object.getOwnPropertyDescriptor(ze.prototype||ze,Be))})})};class et{constructor(Ct){return Ct}}const at=new _.OlP("angularfire2.app.options"),Ge=new _.OlP("angularfire2.app.name");function De(Le,Ct,ze){const Re="object"==typeof ze&&ze||{};Re.name=Re.name||"string"==typeof ze&&ze||"[DEFAULT]";const qe=G.Z.apps.filter(le=>le&&le.name===Re.name)[0]||Ct.runOutsideAngular(()=>G.Z.initializeApp(Le,Re));try{JSON.stringify(Le)!==JSON.stringify(qe.options)&&ie("error",`${qe.name} Firebase App already initialized with different options${Bt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new et(qe)}const ie=(Le,...Ct)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Le](...Ct)},Fe={provide:et,useFactory:De,deps:[at,_.R0b,[new _.FiY,Ge]]};let ht=(()=>{class Le{constructor(ze){G.Z.registerVersion("angularfire",X.q4.full,"core"),G.Z.registerVersion("angularfire",X.q4.full,"app-compat"),G.Z.registerVersion("angular",_.q4F.full,ze.toString())}static initializeApp(ze,Be){return{ngModule:Le,providers:[{provide:at,useValue:ze},{provide:Ge,useValue:Be}]}}}return Le.\u0275fac=function(ze){return new(ze||Le)(_.LFG(_.Lbi))},Le.\u0275mod=_.oAB({type:Le}),Le.\u0275inj=_.cJS({providers:[Fe]}),Le})();function Se(Le,Ct,ze,Be,Re){const[,ke,qe]=globalThis.\u0275AngularfireInstanceCache.find(le=>le[0]===Le)||[];if(ke)return function ft(Le,Ct){try{return Le.toString()===Ct.toString()}catch{return Le===Ct}}(Re,qe)||(dt("error",`${Ct} was already initialized on the ${ze} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),dt("warn",{is:Re,was:qe})),ke;{const le=Be();return globalThis.\u0275AngularfireInstanceCache.push([Le,le,Re]),le}}const lt=!!Bt.hot,dt=(Le,...Ct)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Le](...Ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6528:(Bt,$e,j)=>{j.d($e,{q4:()=>SC,iC:()=>l_,HU:()=>Sw,vb:()=>Cw,JM:()=>Aw,u3:()=>XM});var _=j(8926),G=j(4097),X=j(5861),me=j(7954);Error;function Ne(){try{return"object"==typeof indexedDB}catch{return!1}}class wn extends Error{constructor(p,v,D){super(v),this.code=p,this.customData=D,this.name="FirebaseError",Object.setPrototypeOf(this,wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ht.prototype.create)}}class Ht{constructor(p,v,D){this.service=p,this.serviceName=v,this.errors=D}create(p,...v){const D=v[0]||{},A=`${this.service}/${p}`,O=this.errors[p],$=O?function tn(f,p){return f.replace(Dt,(v,D)=>{const A=p[D];return null!=A?String(A):`<${D}?>`})}(O,D):"Error";return new wn(A,`${this.serviceName}: ${$} (${A}).`,D)}}const Dt=/\{\$([^}]+)}/g;function Q(f,p=1e3,v=2){const D=p*Math.pow(v,f),A=Math.round(.5*D*(Math.random()-.5)*2);return Math.min(144e5,D+A)}var fe=j(5031),Tt=j(7879);Error;class ri extends Error{constructor(p,v,D){super(v),this.code=p,this.customData=D,this.name="FirebaseError",Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(p,v,D){this.service=p,this.serviceName=v,this.errors=D}create(p,...v){const D=v[0]||{},A=`${this.service}/${p}`,O=this.errors[p],$=O?function gl(f,p){return f.replace(ml,(v,D)=>{const A=p[D];return null!=A?String(A):`<${D}?>`})}(O,D):"Error";return new ri(A,`${this.serviceName}: ${$} (${A}).`,D)}}const ml=/\{\$([^}]+)}/g,on=(f,p)=>p.some(v=>f instanceof v);let Df,vl;const Oo=new WeakMap,io=new WeakMap,sa=new WeakMap,$r=new WeakMap,hc=new WeakMap;let Cu={get(f,p,v){if(f instanceof IDBTransaction){if("done"===p)return io.get(f);if("objectStoreNames"===p)return f.objectStoreNames||sa.get(f);if("store"===p)return v.objectStoreNames[1]?void 0:v.objectStore(v.objectStoreNames[0])}return so(f[p])},set:(f,p,v)=>(f[p]=v,!0),has:(f,p)=>f instanceof IDBTransaction&&("done"===p||"store"===p)||p in f};function Vi(f){return"function"==typeof f?function Su(f){return f!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ro(){return vl||(vl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(f)?function(...p){return f.apply(Gd(this),p),so(Oo.get(this))}:function(...p){return so(f.apply(Gd(this),p))}:function(p,...v){const D=f.call(Gd(this),p,...v);return sa.set(D,p.sort?p.sort():[p]),so(D)}}(f):(f instanceof IDBTransaction&&function qn(f){if(io.has(f))return;const p=new Promise((v,D)=>{const A=()=>{f.removeEventListener("complete",O),f.removeEventListener("error",$),f.removeEventListener("abort",$)},O=()=>{v(),A()},$=()=>{D(f.error||new DOMException("AbortError","AbortError")),A()};f.addEventListener("complete",O),f.addEventListener("error",$),f.addEventListener("abort",$)});io.set(f,p)}(f),on(f,function Xg(){return Df||(Df=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(f,Cu):f)}function so(f){if(f instanceof IDBRequest)return function Ei(f){const p=new Promise((v,D)=>{const A=()=>{f.removeEventListener("success",O),f.removeEventListener("error",$)},O=()=>{v(so(f.result)),A()},$=()=>{D(f.error),A()};f.addEventListener("success",O),f.addEventListener("error",$)});return p.then(v=>{v instanceof IDBCursor&&Oo.set(v,f)}).catch(()=>{}),hc.set(p,f),p}(f);if($r.has(f))return $r.get(f);const p=Vi(f);return p!==f&&($r.set(f,p),hc.set(p,f)),p}const Gd=f=>hc.get(f),Hd=["get","getKey","getAll","getAllKeys","count"],Sf=["put","add","delete","clear"],El=new Map;function qd(f,p){if(!(f instanceof IDBDatabase)||p in f||"string"!=typeof p)return;if(El.get(p))return El.get(p);const v=p.replace(/FromIndex$/,""),D=p!==v,A=Sf.includes(v);if(!(v in(D?IDBIndex:IDBObjectStore).prototype)||!A&&!Hd.includes(v))return;const O=function(){var $=(0,X.Z)(function*(de,...xe){const pe=this.transaction(de,A?"readwrite":"readonly");let ct=pe.store;return D&&(ct=ct.index(xe.shift())),(yield Promise.all([ct[v](...xe),A&&pe.done]))[0]});return function(xe){return $.apply(this,arguments)}}();return El.set(p,O),O}!function Du(f){Cu=f(Cu)}(f=>({...f,get:(p,v,D)=>qd(p,v)||f.get(p,v,D),has:(p,v)=>!!qd(p,v)||f.has(p,v)}));const xf="@firebase/installations",Il="0.6.4",nm=1e4,Mf=`w:${Il}`,wl="FIS_v2",Rf="https://firebaseinstallations.googleapis.com/v1",rm=36e5,ko=new Tu("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function bl(f){return f instanceof ri&&f.code.includes("request-failed")}function sm({projectId:f}){return`${Rf}/projects/${f}/installations`}function Pf(f){return{token:f.token,requestStatus:2,expiresIn:Nf(f.expiresIn),creationTime:Date.now()}}function fc(f,p){return oo.apply(this,arguments)}function oo(){return(oo=(0,X.Z)(function*(f,p){const D=(yield p.json()).error;return ko.create("request-failed",{requestName:f,serverCode:D.code,serverMessage:D.message,serverStatus:D.status})})).apply(this,arguments)}function pc({apiKey:f}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":f})}function Tl(f){return mc.apply(this,arguments)}function mc(){return(mc=(0,X.Z)(function*(f){const p=yield f();return p.status>=500&&p.status<600?f():p})).apply(this,arguments)}function Nf(f){return Number(f.replace("s","000"))}function xu(){return(xu=(0,X.Z)(function*({appConfig:f,heartbeatServiceProvider:p},{fid:v}){const D=sm(f),A=pc(f),O=p.getImmediate({optional:!0});if(O){const pe=yield O.getHeartbeatsHeader();pe&&A.append("x-firebase-client",pe)}const de={method:"POST",headers:A,body:JSON.stringify({fid:v,authVersion:wl,appId:f.appId,sdkVersion:Mf})},xe=yield Tl(()=>fetch(D,de));if(xe.ok){const pe=yield xe.json();return{fid:pe.fid||v,registrationStatus:2,refreshToken:pe.refreshToken,authToken:Pf(pe.authToken)}}throw yield fc("Create Installation",xe)})).apply(this,arguments)}function Fa(f){return new Promise(p=>{setTimeout(p,f)})}const Kd=/^[cdef][\w-]{21}$/,ur="";function Zd(){try{const f=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(f),f[0]=112+f[0]%16;const v=function am(f){return function Ls(f){return btoa(String.fromCharCode(...f)).replace(/\+/g,"-").replace(/\//g,"_")}(f).substr(0,22)}(f);return Kd.test(v)?v:ur}catch{return ur}}function Va(f){return`${f.appName}!${f.appId}`}const oa=new Map;function aa(f,p){const v=Va(f);Al(v,p),function Of(f,p){const v=function Cl(){return!ua&&"BroadcastChannel"in self&&(ua=new BroadcastChannel("[Firebase] FID Change"),ua.onmessage=f=>{Al(f.data.key,f.data.fid)}),ua}();v&&v.postMessage({key:f,fid:p}),function Qd(){0===oa.size&&ua&&(ua.close(),ua=null)}()}(v,p)}function Al(f,p){const v=oa.get(f);if(v)for(const D of v)D(p)}let ua=null;const GI="firebase-installations-database",kf=1,Mu="firebase-installations-store";let Ru=null;function Yd(){return Ru||(Ru=function em(f,p,{blocked:v,upgrade:D,blocking:A,terminated:O}={}){const $=indexedDB.open(f,p),de=so($);return D&&$.addEventListener("upgradeneeded",xe=>{D(so($.result),xe.oldVersion,xe.newVersion,so($.transaction))}),v&&$.addEventListener("blocked",()=>v()),de.then(xe=>{O&&xe.addEventListener("close",()=>O()),A&&xe.addEventListener("versionchange",()=>A())}).catch(()=>{}),de}(GI,kf,{upgrade:(f,p)=>{0===p&&f.createObjectStore(Mu)}})),Ru}function _c(f,p){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,X.Z)(function*(f,p){const v=Va(f),A=(yield Yd()).transaction(Mu,"readwrite"),O=A.objectStore(Mu),$=yield O.get(v);return yield O.put(p,v),yield A.done,(!$||$.fid!==p.fid)&&aa(f,p.fid),p})).apply(this,arguments)}function yc(f){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,X.Z)(function*(f){const p=Va(f),D=(yield Yd()).transaction(Mu,"readwrite");yield D.objectStore(Mu).delete(p),yield D.done})).apply(this,arguments)}function Sl(f,p){return xl.apply(this,arguments)}function xl(){return(xl=(0,X.Z)(function*(f,p){const v=Va(f),A=(yield Yd()).transaction(Mu,"readwrite"),O=A.objectStore(Mu),$=yield O.get(v),de=p($);return void 0===de?yield O.delete(v):yield O.put(de,v),yield A.done,de&&(!$||$.fid!==de.fid)&&aa(f,de.fid),de})).apply(this,arguments)}function vc(f){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,X.Z)(function*(f){let p;const v=yield Sl(f.appConfig,D=>{const A=function La(f){return Ba(f||{fid:Zd(),registrationStatus:0})}(D),O=function um(f,p){if(0===p.registrationStatus){if(!navigator.onLine)return{installationEntry:p,registrationPromise:Promise.reject(ko.create("app-offline"))};const v={fid:p.fid,registrationStatus:1,registrationTime:Date.now()},D=function rs(f,p){return Ml.apply(this,arguments)}(f,v);return{installationEntry:v,registrationPromise:D}}return 1===p.registrationStatus?{installationEntry:p,registrationPromise:Rl(f)}:{installationEntry:p}}(f,A);return p=O.registrationPromise,O.installationEntry});return v.fid===ur?{installationEntry:yield p}:{installationEntry:v,registrationPromise:p}}),Vf.apply(this,arguments)}function Ml(){return Ml=(0,X.Z)(function*(f,p){try{const v=yield function om(f,p){return xu.apply(this,arguments)}(f,p);return _c(f.appConfig,v)}catch(v){throw bl(v)&&409===v.customData.serverCode?yield yc(f.appConfig):yield _c(f.appConfig,{fid:p.fid,registrationStatus:0}),v}}),Ml.apply(this,arguments)}function Rl(f){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,X.Z)(function*(f){let p=yield Lf(f.appConfig);for(;1===p.registrationStatus;)yield Fa(100),p=yield Lf(f.appConfig);if(0===p.registrationStatus){const{installationEntry:v,registrationPromise:D}=yield vc(f);return D||v}return p})).apply(this,arguments)}function Lf(f){return Sl(f,p=>{if(!p)throw ko.create("installation-not-found");return Ba(p)})}function Ba(f){return function is(f){return 1===f.registrationStatus&&f.registrationTime+nm<Date.now()}(f)?{fid:f.fid,registrationStatus:0}:f}function Pl(){return(Pl=(0,X.Z)(function*({appConfig:f,heartbeatServiceProvider:p},v){const D=function Ua(f,{fid:p}){return`${sm(f)}/${p}/authTokens:generate`}(f,v),A=function gc(f,{refreshToken:p}){const v=pc(f);return v.append("Authorization",function Wd(f){return`${wl} ${f}`}(p)),v}(f,v),O=p.getImmediate({optional:!0});if(O){const pe=yield O.getHeartbeatsHeader();pe&&A.append("x-firebase-client",pe)}const de={method:"POST",headers:A,body:JSON.stringify({installation:{sdkVersion:Mf,appId:f.appId}})},xe=yield Tl(()=>fetch(D,de));if(xe.ok)return Pf(yield xe.json());throw yield fc("Generate Auth Token",xe)})).apply(this,arguments)}function Ii(f){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,X.Z)(function*(f,p=!1){let v;const D=yield Sl(f.appConfig,O=>{if(!eh(O))throw ko.create("not-registered");const $=O.authToken;if(!p&&function Uf(f){return 2===f.requestStatus&&!function jf(f){const p=Date.now();return p<f.creationTime||f.creationTime+f.expiresIn<p+rm}(f)}($))return O;if(1===$.requestStatus)return v=function Bf(f,p){return Xd.apply(this,arguments)}(f,p),O;{if(!navigator.onLine)throw ko.create("app-offline");const de=function ov(f){const p={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},f),{authToken:p})}(O);return v=function ao(f,p){return Pu.apply(this,arguments)}(f,de),de}});return v?yield v:D.authToken}),Jd.apply(this,arguments)}function Xd(){return(Xd=(0,X.Z)(function*(f,p){let v=yield ss(f.appConfig);for(;1===v.authToken.requestStatus;)yield Fa(100),v=yield ss(f.appConfig);const D=v.authToken;return 0===D.requestStatus?Ii(f,p):D})).apply(this,arguments)}function ss(f){return Sl(f,p=>{if(!eh(p))throw ko.create("not-registered");return function Jt(f){return 1===f.requestStatus&&f.requestTime+nm<Date.now()}(p.authToken)?Object.assign(Object.assign({},p),{authToken:{requestStatus:0}}):p})}function Pu(){return Pu=(0,X.Z)(function*(f,p){try{const v=yield function cm(f,p){return Pl.apply(this,arguments)}(f,p),D=Object.assign(Object.assign({},p),{authToken:v});return yield _c(f.appConfig,D),v}catch(v){if(!bl(v)||401!==v.customData.serverCode&&404!==v.customData.serverCode){const D=Object.assign(Object.assign({},p),{authToken:{requestStatus:0}});yield _c(f.appConfig,D)}else yield yc(f.appConfig);throw v}}),Pu.apply(this,arguments)}function eh(f){return void 0!==f&&2===f.registrationStatus}function Ec(){return(Ec=(0,X.Z)(function*(f){const p=f,{installationEntry:v,registrationPromise:D}=yield vc(p);return D?D.catch(console.error):Ii(p).catch(console.error),v.fid})).apply(this,arguments)}function Ic(){return Ic=(0,X.Z)(function*(f,p=!1){const v=f;return yield function Ol(f){return kl.apply(this,arguments)}(v),(yield Ii(v,p)).token}),Ic.apply(this,arguments)}function kl(){return(kl=(0,X.Z)(function*(f){const{registrationPromise:p}=yield vc(f);p&&(yield p)})).apply(this,arguments)}function Vl(f){return ko.create("missing-app-config-values",{valueName:f})}const Nu="installations",fr=f=>{const p=f.getProvider("app").getImmediate(),v=function An(f){if(!f||!f.options)throw Vl("App Configuration");if(!f.name)throw Vl("App Name");const p=["projectId","apiKey","appId"];for(const v of p)if(!f.options[v])throw Vl(v);return{appName:f.name,projectId:f.options.projectId,apiKey:f.options.apiKey,appId:f.options.appId}}(p);return{app:p,appConfig:v,heartbeatServiceProvider:(0,me.qX)(p,"heartbeat"),_delete:()=>Promise.resolve()}},Ll=f=>{const p=f.getProvider("app").getImmediate(),v=(0,me.qX)(p,Nu).getImmediate();return{getId:()=>function $f(f){return Ec.apply(this,arguments)}(v),getToken:A=>function Nl(f){return Ic.apply(this,arguments)}(v,A)}};(function vs(){(0,me.Xd)(new fe.wA(Nu,fr,"PUBLIC")),(0,me.Xd)(new fe.wA("installations-internal",Ll,"PRIVATE"))})(),(0,me.KN)(xf,Il),(0,me.KN)(xf,Il,"esm2017");const wc="@firebase/remote-config",Un=new Ht("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qf{constructor(p,v,D,A){this.client=p,this.storage=v,this.storageCache=D,this.logger=A}isCachedDataFresh(p,v){if(!v)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const D=Date.now()-v,A=D<=p;return this.logger.debug(`Config fetch cache check. Cache age millis: ${D}. Cache max age millis (minimumFetchIntervalMillis setting): ${p}. Is cache hit: ${A}.`),A}fetch(p){var v=this;return(0,X.Z)(function*(){const[D,A]=yield Promise.all([v.storage.getLastSuccessfulFetchTimestampMillis(),v.storage.getLastSuccessfulFetchResponse()]);if(A&&v.isCachedDataFresh(p.cacheMaxAgeMillis,D))return A;p.eTag=A&&A.eTag;const O=yield v.client.fetch(p),$=[v.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===O.status&&$.push(v.storage.setLastSuccessfulFetchResponse(O)),yield Promise.all($),O})()}}function oh(f=navigator){return f.languages&&f.languages[0]||f.language}class hv{constructor(p,v,D,A,O,$){this.firebaseInstallations=p,this.sdkVersion=v,this.namespace=D,this.projectId=A,this.apiKey=O,this.appId=$}fetch(p){var v=this;return(0,X.Z)(function*(){const[D,A]=yield Promise.all([v.firebaseInstallations.getId(),v.firebaseInstallations.getToken()]),$=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${v.projectId}/namespaces/${v.namespace}:fetch?key=${v.apiKey}`,de={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":p.eTag||"*"},xe={sdk_version:v.sdkVersion,app_instance_id:D,app_instance_id_token:A,app_id:v.appId,language_code:oh()},pe={method:"POST",headers:de,body:JSON.stringify(xe)},ct=fetch($,pe),ge=new Promise((yo,qc)=>{p.signal.addEventListener(()=>{const d_=new Error("The operation was aborted.");d_.name="AbortError",qc(d_)})});let Xt;try{yield Promise.race([ct,ge]),Xt=yield ct}catch(yo){let qc="fetch-client-network";throw"AbortError"===yo?.name&&(qc="fetch-timeout"),Un.create(qc,{originalErrorMessage:yo?.message})}let Sn=Xt.status;const _o=Xt.headers.get("ETag")||void 0;let o0,Fp;if(200===Xt.status){let yo;try{yo=yield Xt.json()}catch(qc){throw Un.create("fetch-client-parse",{originalErrorMessage:qc?.message})}o0=yo.entries,Fp=yo.state}if("INSTANCE_STATE_UNSPECIFIED"===Fp?Sn=500:"NO_CHANGE"===Fp?Sn=304:("NO_TEMPLATE"===Fp||"EMPTY_CONFIG"===Fp)&&(o0={}),304!==Sn&&200!==Sn)throw Un.create("fetch-status",{httpStatus:Sn});return{status:Sn,eTag:_o,config:o0}})()}}class sr{constructor(p,v){this.client=p,this.storage=v}fetch(p){var v=this;return(0,X.Z)(function*(){const D=(yield v.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return v.attemptFetch(p,D)})()}attemptFetch(p,{throttleEndTimeMillis:v,backoffCount:D}){var A=this;return(0,X.Z)(function*(){yield function Li(f,p){return new Promise((v,D)=>{const A=Math.max(p-Date.now(),0),O=setTimeout(v,A);f.addEventListener(()=>{clearTimeout(O),D(Un.create("fetch-throttle",{throttleEndTimeMillis:p}))})})}(p.signal,v);try{const O=yield A.client.fetch(p);return yield A.storage.deleteThrottleMetadata(),O}catch(O){if(!function Fu(f){if(!(f instanceof wn&&f.customData))return!1;const p=Number(f.customData.httpStatus);return 429===p||500===p||503===p||504===p}(O))throw O;const $={throttleEndTimeMillis:Date.now()+Q(D),backoffCount:D+1};return yield A.storage.setThrottleMetadata($),A.attemptFetch(p,$)}})()}}class fv{constructor(p,v,D,A,O){this.app=p,this._client=v,this._storageCache=D,this._storage=A,this._logger=O,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ah(f,p){const v=f.target.error||void 0;return Un.create(p,{originalErrorMessage:v&&v?.message})}const za="app_namespace_store";class pv{constructor(p,v,D,A=function Ga(){return new Promise((f,p)=>{try{const v=indexedDB.open("firebase_remote_config",1);v.onerror=D=>{p(ah(D,"storage-open"))},v.onsuccess=D=>{f(D.target.result)},v.onupgradeneeded=D=>{0===D.oldVersion&&D.target.result.createObjectStore(za,{keyPath:"compositeKey"})}}catch(v){p(Un.create("storage-open",{originalErrorMessage:v?.message}))}})}()){this.appId=p,this.appName=v,this.namespace=D,this.openDbPromise=A}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(p){return this.set("last_fetch_status",p)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(p){return this.set("last_successful_fetch_timestamp_millis",p)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(p){return this.set("last_successful_fetch_response",p)}getActiveConfig(){return this.get("active_config")}setActiveConfig(p){return this.set("active_config",p)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(p){return this.set("active_config_etag",p)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(p){return this.set("throttle_metadata",p)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(p){var v=this;return(0,X.Z)(function*(){const D=yield v.openDbPromise;return new Promise((A,O)=>{const de=D.transaction([za],"readonly").objectStore(za),xe=v.createCompositeKey(p);try{const pe=de.get(xe);pe.onerror=ct=>{O(ah(ct,"storage-get"))},pe.onsuccess=ct=>{const ge=ct.target.result;A(ge?ge.value:void 0)}}catch(pe){O(Un.create("storage-get",{originalErrorMessage:pe?.message}))}})})()}set(p,v){var D=this;return(0,X.Z)(function*(){const A=yield D.openDbPromise;return new Promise((O,$)=>{const xe=A.transaction([za],"readwrite").objectStore(za),pe=D.createCompositeKey(p);try{const ct=xe.put({compositeKey:pe,value:v});ct.onerror=ge=>{$(ah(ge,"storage-set"))},ct.onsuccess=()=>{O()}}catch(ct){$(Un.create("storage-set",{originalErrorMessage:ct?.message}))}})})()}delete(p){var v=this;return(0,X.Z)(function*(){const D=yield v.openDbPromise;return new Promise((A,O)=>{const de=D.transaction([za],"readwrite").objectStore(za),xe=v.createCompositeKey(p);try{const pe=de.delete(xe);pe.onerror=ct=>{O(ah(ct,"storage-delete"))},pe.onsuccess=()=>{A()}}catch(pe){O(Un.create("storage-delete",{originalErrorMessage:pe?.message}))}})})()}createCompositeKey(p){return[this.appId,this.appName,this.namespace,p].join()}}class Bi{constructor(p){this.storage=p}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var p=this;return(0,X.Z)(function*(){const v=p.storage.getLastFetchStatus(),D=p.storage.getLastSuccessfulFetchTimestampMillis(),A=p.storage.getActiveConfig(),O=yield v;O&&(p.lastFetchStatus=O);const $=yield D;$&&(p.lastSuccessfulFetchTimestampMillis=$);const de=yield A;de&&(p.activeConfig=de)})()}setLastFetchStatus(p){return this.lastFetchStatus=p,this.storage.setLastFetchStatus(p)}setLastSuccessfulFetchTimestampMillis(p){return this.lastSuccessfulFetchTimestampMillis=p,this.storage.setLastSuccessfulFetchTimestampMillis(p)}setActiveConfig(p){return this.activeConfig=p,this.storage.setActiveConfig(p)}}function Kt(){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,X.Z)(function*(){if(!Ne())return!1;try{return yield function Je(){return new Promise((f,p)=>{try{let v=!0;const D="validate-browser-context-for-indexeddb-analytics-module",A=self.indexedDB.open(D);A.onsuccess=()=>{A.result.close(),v||self.indexedDB.deleteDatabase(D),f(!0)},A.onupgradeneeded=()=>{v=!1},A.onerror=()=>{var O;p((null===(O=A.error)||void 0===O?void 0:O.message)||"")}}catch(v){p(v)}})}()}catch{return!1}})).apply(this,arguments)}!function ca(){(0,me.Xd)(new fe.wA("remote-config",function f(p,{instanceIdentifier:v}){const D=p.getProvider("app").getImmediate(),A=p.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Un.create("registration-window");if(!Ne())throw Un.create("indexed-db-unavailable");const{projectId:O,apiKey:$,appId:de}=D.options;if(!O)throw Un.create("registration-project-id");if(!$)throw Un.create("registration-api-key");if(!de)throw Un.create("registration-app-id");const xe=new pv(de,D.name,v=v||"firebase"),pe=new Bi(xe),ct=new Tt.Yd(wc);ct.logLevel=Tt.in.ERROR;const ge=new hv(A,me.Jn,v,O,$,de),Xt=new sr(ge,xe),Sn=new qf(Xt,xe,pe,ct),_o=new fv(D,Sn,pe,xe,ct);return function bc(f){const p=function Te(f){return f&&f._delegate?f._delegate:f}(f);p._initializePromise||(p._initializePromise=p._storageCache.loadFromStorage().then(()=>{p._isInitializationComplete=!0}))}(_o),_o},"PUBLIC").setMultipleInstances(!0)),(0,me.KN)(wc,"0.4.4"),(0,me.KN)(wc,"0.4.4","esm2017")}();const ch=(f,p)=>p.some(v=>f instanceof v);let uo,la;const Ul=new WeakMap,Bs=new WeakMap,Cn=new WeakMap,dh=new WeakMap,Zf=new WeakMap;let ha={get(f,p,v){if(f instanceof IDBTransaction){if("done"===p)return Bs.get(f);if("objectStoreNames"===p)return f.objectStoreNames||Cn.get(f);if("store"===p)return v.objectStoreNames[1]?void 0:v.objectStore(v.objectStoreNames[0])}return Is(f[p])},set:(f,p,v)=>(f[p]=v,!0),has:(f,p)=>f instanceof IDBTransaction&&("done"===p||"store"===p)||p in f};function Ha(f){return"function"==typeof f?function jl(f){return f!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lh(){return la||(la=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(f)?function(...p){return f.apply(Cc(this),p),Is(Ul.get(this))}:function(...p){return Is(f.apply(Cc(this),p))}:function(p,...v){const D=f.call(Cc(this),p,...v);return Cn.set(D,p.sort?p.sort():[p]),Is(D)}}(f):(f instanceof IDBTransaction&&function da(f){if(Bs.has(f))return;const p=new Promise((v,D)=>{const A=()=>{f.removeEventListener("complete",O),f.removeEventListener("error",$),f.removeEventListener("abort",$)},O=()=>{v(),A()},$=()=>{D(f.error||new DOMException("AbortError","AbortError")),A()};f.addEventListener("complete",O),f.addEventListener("error",$),f.addEventListener("abort",$)});Bs.set(f,p)}(f),ch(f,function pm(){return uo||(uo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(f,ha):f)}function Is(f){if(f instanceof IDBRequest)return function gm(f){const p=new Promise((v,D)=>{const A=()=>{f.removeEventListener("success",O),f.removeEventListener("error",$)},O=()=>{v(Is(f.result)),A()},$=()=>{D(f.error),A()};f.addEventListener("success",O),f.addEventListener("error",$)});return p.then(v=>{v instanceof IDBCursor&&Ul.set(v,f)}).catch(()=>{}),Zf.set(p,f),p}(f);if(dh.has(f))return dh.get(f);const p=Ha(f);return p!==f&&(dh.set(f,p),Zf.set(p,f)),p}const Cc=f=>Zf.get(f);function hh(f,p,{blocked:v,upgrade:D,blocking:A,terminated:O}={}){const $=indexedDB.open(f,p),de=Is($);return D&&$.addEventListener("upgradeneeded",xe=>{D(Is($.result),xe.oldVersion,xe.newVersion,Is($.transaction))}),v&&$.addEventListener("blocked",()=>v()),de.then(xe=>{O&&xe.addEventListener("close",()=>O()),A&&xe.addEventListener("versionchange",()=>A())}).catch(()=>{}),de}function Vo(f,{blocked:p}={}){const v=indexedDB.deleteDatabase(f);return p&&v.addEventListener("blocked",()=>p()),Is(v).then(()=>{})}const qa=["get","getKey","getAll","getAllKeys","count"],co=["put","add","delete","clear"],Lo=new Map;function Wa(f,p){if(!(f instanceof IDBDatabase)||p in f||"string"!=typeof p)return;if(Lo.get(p))return Lo.get(p);const v=p.replace(/FromIndex$/,""),D=p!==v,A=co.includes(v);if(!(v in(D?IDBIndex:IDBObjectStore).prototype)||!A&&!qa.includes(v))return;const O=function(){var $=(0,X.Z)(function*(de,...xe){const pe=this.transaction(de,A?"readwrite":"readonly");let ct=pe.store;return D&&(ct=ct.index(xe.shift())),(yield Promise.all([ct[v](...xe),A&&pe.done]))[0]});return function(xe){return $.apply(this,arguments)}}();return Lo.set(p,O),O}!function Us(f){ha=f(ha)}(f=>({...f,get:(p,v,D)=>Wa(p,v)||f.get(p,v,D),has:(p,v)=>!!Wa(p,v)||f.has(p,v)}));Error;class gr extends Error{constructor(p,v,D){super(v),this.code=p,this.customData=D,this.name="FirebaseError",Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xf.prototype.create)}}class Xf{constructor(p,v,D){this.service=p,this.serviceName=v,this.errors=D}create(p,...v){const D=v[0]||{},A=`${this.service}/${p}`,O=this.errors[p],$=O?function Bu(f,p){return f.replace(_m,(v,D)=>{const A=p[D];return null!=A?String(A):`<${D}?>`})}(O,D):"Error";return new gr(A,`${this.serviceName}: ${$} (${A}).`,D)}}const _m=/\{\$([^}]+)}/g,T="/firebase-messaging-sw.js",y="/firebase-cloud-messaging-push-scope",I="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",S="https://fcmregistrations.googleapis.com/v1",P="google.c.a.c_id",F="google.c.a.c_l",ne="google.c.a.ts";var ut=(()=>((ut=ut||{}).PUSH_RECEIVED="push-received",ut.NOTIFICATION_CLICKED="notification-clicked",ut))();function St(f){const p=new Uint8Array(f);return btoa(String.fromCharCode(...p)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dn(f){const v=(f+"=".repeat((4-f.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),D=atob(v),A=new Uint8Array(D.length);for(let O=0;O<D.length;++O)A[O]=D.charCodeAt(O);return A}const li="fcm_token_details_db",bs=5,Jl="fcm_token_object_Store";function _a(){return _a=(0,X.Z)(function*(f){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(O=>O.name).includes(li))return null;let p=null;return(yield hh(li,bs,{upgrade:(D=(0,X.Z)(function*(A,O,$,de){var xe;if(O<2||!A.objectStoreNames.contains(Jl))return;const pe=de.objectStore(Jl),ct=yield pe.index("fcmSenderId").get(f);if(yield pe.clear(),ct)if(2===O){const ge=ct;if(!ge.auth||!ge.p256dh||!ge.endpoint)return;p={token:ge.fcmToken,createTime:null!==(xe=ge.createTime)&&void 0!==xe?xe:Date.now(),subscriptionOptions:{auth:ge.auth,p256dh:ge.p256dh,endpoint:ge.endpoint,swScope:ge.swScope,vapidKey:"string"==typeof ge.vapidKey?ge.vapidKey:St(ge.vapidKey)}}}else if(3===O){const ge=ct;p={token:ge.fcmToken,createTime:ge.createTime,subscriptionOptions:{auth:St(ge.auth),p256dh:St(ge.p256dh),endpoint:ge.endpoint,swScope:ge.swScope,vapidKey:St(ge.vapidKey)}}}else if(4===O){const ge=ct;p={token:ge.fcmToken,createTime:ge.createTime,subscriptionOptions:{auth:St(ge.auth),p256dh:St(ge.p256dh),endpoint:ge.endpoint,swScope:ge.swScope,vapidKey:St(ge.vapidKey)}}}}),function(O,$,de,xe){return D.apply(this,arguments)})})).close(),yield Vo(li),yield Vo("fcm_vapid_details_db"),yield Vo("undefined"),function Vc(f){if(!f||!f.subscriptionOptions)return!1;const{subscriptionOptions:p}=f;return"number"==typeof f.createTime&&f.createTime>0&&"string"==typeof f.token&&f.token.length>0&&"string"==typeof p.auth&&p.auth.length>0&&"string"==typeof p.p256dh&&p.p256dh.length>0&&"string"==typeof p.endpoint&&p.endpoint.length>0&&"string"==typeof p.swScope&&p.swScope.length>0&&"string"==typeof p.vapidKey&&p.vapidKey.length>0}(p)?p:null;var D}),_a.apply(this,arguments)}const po="firebase-messaging-database",Xl=1,ls="firebase-messaging-store";let zu=null;function Go(){return zu||(zu=hh(po,Xl,{upgrade:(f,p)=>{0===p&&f.createObjectStore(ls)}})),zu}function ya(f){return Gu.apply(this,arguments)}function Gu(){return Gu=(0,X.Z)(function*(f){const p=ap(f),D=yield(yield Go()).transaction(ls).objectStore(ls).get(p);if(D)return D;{const A=yield function op(f){return _a.apply(this,arguments)}(f.appConfig.senderId);if(A)return yield Hu(f,A),A}}),Gu.apply(this,arguments)}function Hu(f,p){return ed.apply(this,arguments)}function ed(){return(ed=(0,X.Z)(function*(f,p){const v=ap(f),A=(yield Go()).transaction(ls,"readwrite");return yield A.objectStore(ls).put(p,v),yield A.done,p})).apply(this,arguments)}function qu(){return(qu=(0,X.Z)(function*(f){const p=ap(f),D=(yield Go()).transaction(ls,"readwrite");yield D.objectStore(ls).delete(p),yield D.done})).apply(this,arguments)}function ap({appConfig:f}){return f.appId}const Gr=new Xf("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function up(f,p){return go.apply(this,arguments)}function go(){return(go=(0,X.Z)(function*(f,p){const v=yield dp(f),D=hp(p),A={method:"POST",headers:v,body:JSON.stringify(D)};let O;try{O=yield(yield fetch(Ya(f.appConfig),A)).json()}catch($){throw Gr.create("token-subscribe-failed",{errorInfo:$?.toString()})}if(O.error)throw Gr.create("token-subscribe-failed",{errorInfo:O.error.message});if(!O.token)throw Gr.create("token-subscribe-no-token");return O.token})).apply(this,arguments)}function cp(){return(cp=(0,X.Z)(function*(f,p){const v=yield dp(f),D=hp(p.subscriptionOptions),A={method:"PATCH",headers:v,body:JSON.stringify(D)};let O;try{O=yield(yield fetch(`${Ya(f.appConfig)}/${p.token}`,A)).json()}catch($){throw Gr.create("token-update-failed",{errorInfo:$?.toString()})}if(O.error)throw Gr.create("token-update-failed",{errorInfo:O.error.message});if(!O.token)throw Gr.create("token-update-no-token");return O.token})).apply(this,arguments)}function YI(f,p){return lp.apply(this,arguments)}function lp(){return(lp=(0,X.Z)(function*(f,p){const D={method:"DELETE",headers:yield dp(f)};try{const O=yield(yield fetch(`${Ya(f.appConfig)}/${p}`,D)).json();if(O.error)throw Gr.create("token-unsubscribe-failed",{errorInfo:O.error.message})}catch(A){throw Gr.create("token-unsubscribe-failed",{errorInfo:A?.toString()})}})).apply(this,arguments)}function Ya({projectId:f}){return`${S}/projects/${f}/registrations`}function dp(f){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,X.Z)(function*({appConfig:f,installations:p}){const v=yield p.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":f.apiKey,"x-goog-firebase-installations-auth":`FIS ${v}`})})).apply(this,arguments)}function hp({p256dh:f,auth:p,endpoint:v,vapidKey:D}){const A={web:{endpoint:v,auth:p,p256dh:f}};return D!==I&&(A.web.applicationPubKey=D),A}const va=6048e5;function fp(){return fp=(0,X.Z)(function*(f){const p=yield function Im(f,p){return rd.apply(this,arguments)}(f.swRegistration,f.vapidKey),v={vapidKey:f.vapidKey,swScope:f.swRegistration.scope,endpoint:p.endpoint,auth:St(p.getKey("auth")),p256dh:St(p.getKey("p256dh"))},D=yield ya(f.firebaseDependencies);if(D){if(function Ev(f,p){return p.vapidKey===f.vapidKey&&p.endpoint===f.endpoint&&p.auth===f.auth&&p.p256dh===f.p256dh}(D.subscriptionOptions,v))return Date.now()>=D.createTime+va?function Lc(f,p){return nd.apply(this,arguments)}(f,{token:D.token,createTime:Date.now(),subscriptionOptions:v}):D.token;try{yield YI(f.firebaseDependencies,D.token)}catch(A){console.warn(A)}return wi(f.firebaseDependencies,v)}return wi(f.firebaseDependencies,v)}),fp.apply(this,arguments)}function Ih(){return Ih=(0,X.Z)(function*(f){const p=yield ya(f.firebaseDependencies);p&&(yield YI(f.firebaseDependencies,p.token),yield function yv(f){return qu.apply(this,arguments)}(f.firebaseDependencies));const v=yield f.swRegistration.pushManager.getSubscription();return!v||v.unsubscribe()}),Ih.apply(this,arguments)}function nd(){return nd=(0,X.Z)(function*(f,p){try{const v=yield function QI(f,p){return cp.apply(this,arguments)}(f.firebaseDependencies,p),D=Object.assign(Object.assign({},p),{token:v,createTime:Date.now()});return yield Hu(f.firebaseDependencies,D),v}catch(v){throw yield function zi(f){return Ih.apply(this,arguments)}(f),v}}),nd.apply(this,arguments)}function wi(f,p){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,X.Z)(function*(f,p){const D={token:yield up(f,p),createTime:Date.now(),subscriptionOptions:p};return yield Hu(f,D),D.token})).apply(this,arguments)}function rd(){return(rd=(0,X.Z)(function*(f,p){return(yield f.pushManager.getSubscription())||f.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dn(p)})})).apply(this,arguments)}function wh(f){const p={from:f.from,collapseKey:f.collapse_key,messageId:f.fcmMessageId};return function wm(f,p){if(!p.notification)return;f.notification={};const v=p.notification.title;v&&(f.notification.title=v);const D=p.notification.body;D&&(f.notification.body=D);const A=p.notification.image;A&&(f.notification.image=A);const O=p.notification.icon;O&&(f.notification.icon=O)}(p,f),function pp(f,p){p.data&&(f.data=p.data)}(p,f),function JI(f,p){var v,D,A,O,$;if(!(p.fcmOptions||null!==(v=p.notification)&&void 0!==v&&v.click_action))return;f.fcmOptions={};const de=null!==(A=null===(D=p.fcmOptions)||void 0===D?void 0:D.link)&&void 0!==A?A:null===(O=p.notification)||void 0===O?void 0:O.click_action;de&&(f.fcmOptions.link=de);const xe=null===($=p.fcmOptions)||void 0===$?void 0:$.analytics_label;xe&&(f.fcmOptions.analyticsLabel=xe)}(p,f),p}function bm(f,p){const v=[];for(let D=0;D<f.length;D++)v.push(f.charAt(D)),D<p.length&&v.push(p.charAt(D));return v.join("")}function Ja(f){return Gr.create("missing-app-config-values",{valueName:f})}bm("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),bm("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Tm{constructor(p,v,D){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const A=function XI(f){if(!f||!f.options)throw Ja("App Configuration Object");if(!f.name)throw Ja("App Name");const p=["projectId","apiKey","appId","messagingSenderId"],{options:v}=f;for(const D of p)if(!v[D])throw Ja(D);return{appName:f.name,projectId:v.projectId,apiKey:v.apiKey,appId:v.appId,senderId:v.messagingSenderId}}(p);this.firebaseDependencies={app:p,appConfig:A,installations:v,analyticsProvider:D}}_delete(){return Promise.resolve()}}function Xa(){return(Xa=(0,X.Z)(function*(f){try{f.swRegistration=yield navigator.serviceWorker.register(T,{scope:y}),f.swRegistration.update().catch(()=>{})}catch(p){throw Gr.create("failed-service-worker-registration",{browserErrorMessage:p?.message})}})).apply(this,arguments)}function gp(){return(gp=(0,X.Z)(function*(f,p){if(!p&&!f.swRegistration&&(yield function Iv(f){return Xa.apply(this,arguments)}(f)),p||!f.swRegistration){if(!(p instanceof ServiceWorkerRegistration))throw Gr.create("invalid-sw-registration");f.swRegistration=p}})).apply(this,arguments)}function Th(){return(Th=(0,X.Z)(function*(f,p){p?f.vapidKey=p:f.vapidKey||(f.vapidKey=I)})).apply(this,arguments)}function Wu(){return Wu=(0,X.Z)(function*(f,p){if(!navigator)throw Gr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gr.create("permission-blocked");return yield function Am(f,p){return Th.apply(this,arguments)}(f,p?.vapidKey),yield function wv(f,p){return gp.apply(this,arguments)}(f,p?.serviceWorkerRegistration),function td(f){return fp.apply(this,arguments)}(f)}),Wu.apply(this,arguments)}function Dm(){return(Dm=(0,X.Z)(function*(f,p,v){const D=function bv(f){switch(f){case ut.NOTIFICATION_CLICKED:return"notification_open";case ut.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(p);(yield f.firebaseDependencies.analyticsProvider.get()).logEvent(D,{message_id:v[P],message_name:v[F],message_time:v[ne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xm(){return xm=(0,X.Z)(function*(f,p){const v=p.data;if(!v.isFirebaseMessaging)return;f.onMessageHandler&&v.messageType===ut.PUSH_RECEIVED&&("function"==typeof f.onMessageHandler?f.onMessageHandler(wh(v)):f.onMessageHandler.next(wh(v)));const D=v.data;(function bh(f){return"object"==typeof f&&!!f&&P in f})(D)&&"1"===D["google.c.a.e"]&&(yield function Cm(f,p,v){return Dm.apply(this,arguments)}(f,v.messageType,D))}),xm.apply(this,arguments)}const ew="@firebase/messaging",tw=f=>{const p=new Tm(f.getProvider("app").getImmediate(),f.getProvider("installations-internal").getImmediate(),f.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",v=>function Sm(f,p){return xm.apply(this,arguments)}(p,v)),p},Mm=f=>{const p=f.getProvider("messaging").getImmediate();return{getToken:D=>function mp(f,p){return Wu.apply(this,arguments)}(p,D)}};function Rm(){return eu.apply(this,arguments)}function eu(){return(eu=(0,X.Z)(function*(){try{yield function cs(){return new Promise((f,p)=>{try{let v=!0;const D="validate-browser-context-for-indexeddb-analytics-module",A=self.indexedDB.open(D);A.onsuccess=()=>{A.result.close(),v||self.indexedDB.deleteDatabase(D),f(!0)},A.onupgradeneeded=()=>{v=!1},A.onerror=()=>{var O;p((null===(O=A.error)||void 0===O?void 0:O.message)||"")}}catch(v){p(v)}})}()}catch{return!1}return typeof window<"u"&&function mm(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function mv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ho(){(0,me.Xd)(new fe.wA("messaging",tw,"PUBLIC")),(0,me.Xd)(new fe.wA("messaging-internal",Mm,"PRIVATE")),(0,me.KN)(ew,"0.12.4"),(0,me.KN)(ew,"0.12.4","esm2017")}();Error;function Fm(){const f="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof f&&void 0!==f.id}function Rh(){try{return"object"==typeof indexedDB}catch{return!1}}function ad(){return new Promise((f,p)=>{try{let v=!0;const D="validate-browser-context-for-indexeddb-analytics-module",A=self.indexedDB.open(D);A.onsuccess=()=>{A.result.close(),v||self.indexedDB.deleteDatabase(D),f(!0)},A.onupgradeneeded=()=>{v=!1},A.onerror=()=>{var O;p((null===(O=A.error)||void 0===O?void 0:O.message)||"")}}catch(v){p(v)}})}function wp(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ph extends Error{constructor(p,v,D){super(v),this.code=p,this.customData=D,this.name="FirebaseError",Object.setPrototypeOf(this,Ph.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vm.prototype.create)}}class Vm{constructor(p,v,D){this.service=p,this.serviceName=v,this.errors=D}create(p,...v){const D=v[0]||{},A=`${this.service}/${p}`,O=this.errors[p],$=O?function lw(f,p){return f.replace(bp,(v,D)=>{const A=p[D];return null!=A?String(A):`<${D}?>`})}(O,D):"Error";return new Ph(A,`${this.serviceName}: ${$} (${A}).`,D)}}const bp=/\{\$([^}]+)}/g,hw=1e3,js=2,kv=144e5,Fv=.5;function Oh(f,p=hw,v=js){const D=p*Math.pow(v,f),A=Math.round(Fv*D*(Math.random()-.5)*2);return Math.min(kv,D+A)}const Er="analytics",kh="firebase_id",fw="origin",Vv=6e4,$m="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Lv="https://www.googletagmanager.com/gtag/js",bi=new Tt.Yd("@firebase/analytics"),Ti=new Vm("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function zm(f){if(!f.startsWith(Lv)){const p=Ti.create("invalid-gtag-resource",{gtagURL:f});return bi.warn(p.message),""}return f}function wC(f){return Promise.all(f.map(p=>p.catch(v=>v)))}function Gm(){return(Gm=(0,X.Z)(function*(f,p,v,D,A,O){const $=D[A];try{if($)yield p[$];else{const xe=(yield wC(v)).find(pe=>pe.measurementId===A);xe&&(yield p[xe.appId])}}catch(de){bi.error(de)}f("config",A,O)})).apply(this,arguments)}function Fh(){return(Fh=(0,X.Z)(function*(f,p,v,D,A){try{let O=[];if(A&&A.send_to){let $=A.send_to;Array.isArray($)||($=[$]);const de=yield wC(v);for(const xe of $){const pe=de.find(ge=>ge.measurementId===xe),ct=pe&&p[pe.appId];if(!ct){O=[];break}O.push(ct)}}0===O.length&&(O=Object.values(p)),yield Promise.all(O),f("event",D,A||{})}catch(O){bi.error(O)}})).apply(this,arguments)}const Uv=30,xp=new class _w{constructor(p={},v=1e3){this.throttleMetadata=p,this.intervalMillis=v}getThrottleMetadata(p){return this.throttleMetadata[p]}setThrottleMetadata(p,v){this.throttleMetadata[p]=v}deleteThrottleMetadata(p){delete this.throttleMetadata[p]}};function bC(f){return new Headers({Accept:"application/json","x-goog-api-key":f})}function Wm(){return(Wm=(0,X.Z)(function*(f){var p;const{appId:v,apiKey:D}=f,A={method:"GET",headers:bC(D)},O=$m.replace("{app-id}",v),$=yield fetch(O,A);if(200!==$.status&&304!==$.status){let de="";try{const xe=yield $.json();null!==(p=xe.error)&&void 0!==p&&p.message&&(de=xe.error.message)}catch{}throw Ti.create("config-fetch-failed",{httpStatus:$.status,responseMessage:de})}return $.json()})).apply(this,arguments)}function Yu(){return(Yu=(0,X.Z)(function*(f,p=xp,v){const{appId:D,apiKey:A,measurementId:O}=f.options;if(!D)throw Ti.create("no-app-id");if(!A){if(O)return{measurementId:O,appId:D};throw Ti.create("no-api-key")}const $=p.getThrottleMetadata(D)||{backoffCount:0,throttleEndTimeMillis:Date.now()},de=new Zm;return setTimeout((0,X.Z)(function*(){de.abort()}),void 0!==v?v:Vv),Km({appId:D,apiKey:A,measurementId:O},$,de,p)})).apply(this,arguments)}function Km(f,p,v){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,X.Z)(function*(f,{throttleEndTimeMillis:p,backoffCount:v},D,A=xp){var O;const{appId:$,measurementId:de}=f;try{yield function Mp(f,p){return new Promise((v,D)=>{const A=Math.max(p-Date.now(),0),O=setTimeout(v,A);f.addEventListener(()=>{clearTimeout(O),D(Ti.create("fetch-throttle",{throttleEndTimeMillis:p}))})})}(D,p)}catch(xe){if(de)return bi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${de} provided in the "measurementId" field in the local Firebase config. [${xe?.message}]`),{appId:$,measurementId:de};throw xe}try{const xe=yield function $v(f){return Wm.apply(this,arguments)}(f);return A.deleteThrottleMetadata($),xe}catch(xe){const pe=xe;if(!function Gv(f){if(!(f instanceof Ph&&f.customData))return!1;const p=Number(f.customData.httpStatus);return 429===p||500===p||503===p||504===p}(pe)){if(A.deleteThrottleMetadata($),de)return bi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${de} provided in the "measurementId" field in the local Firebase config. [${pe?.message}]`),{appId:$,measurementId:de};throw xe}const ct=503===Number(null===(O=pe?.customData)||void 0===O?void 0:O.httpStatus)?Oh(v,A.intervalMillis,Uv):Oh(v,A.intervalMillis),ge={throttleEndTimeMillis:Date.now()+ct,backoffCount:v+1};return A.setThrottleMetadata($,ge),bi.debug(`Calling attemptFetch again in ${ct} millis`),Km(f,ge,D,A)}}),Vh.apply(this,arguments)}class Zm{constructor(){this.listeners=[]}addEventListener(p){this.listeners.push(p)}abort(){this.listeners.forEach(p=>p())}}let ud,Ju;function Lh(){return(Lh=(0,X.Z)(function*(f,p,v,D,A){if(A&&A.global)f("event",v,D);else{const O=yield p;f("event",v,Object.assign(Object.assign({},D),{send_to:O}))}})).apply(this,arguments)}function Kv(){return(Kv=(0,X.Z)(function*(){if(!Rh())return bi.warn(Ti.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ad()}catch(f){return bi.warn(Ti.create("indexeddb-unavailable",{errorInfo:f?.toString()}).message),!1}return!0})).apply(this,arguments)}function Xm(){return Xm=(0,X.Z)(function*(f,p,v,D,A,O,$){var de;const xe=function zv(f){return Yu.apply(this,arguments)}(f);xe.then(Sn=>{v[Sn.measurementId]=Sn.appId,f.options.measurementId&&Sn.measurementId!==f.options.measurementId&&bi.warn(`The measurement ID in the local Firebase config (${f.options.measurementId}) does not match the measurement ID fetched from the server (${Sn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Sn=>bi.error(Sn)),p.push(xe);const pe=function Jm(){return Kv.apply(this,arguments)}().then(Sn=>{if(Sn)return D.getId()}),[ct,ge]=yield Promise.all([xe,pe]);(function Bv(f){const p=window.document.getElementsByTagName("script");for(const v of Object.values(p))if(v.src&&v.src.includes(Lv)&&v.src.includes(f))return v;return null})(O)||function $s(f,p){const v=function gw(f,p){let v;return window.trustedTypes&&(v=window.trustedTypes.createPolicy(f,p)),v}("firebase-js-sdk-policy",{createScriptURL:zm}),D=document.createElement("script"),A=`${Lv}?l=${f}&id=${p}`;D.src=v?v?.createScriptURL(A):A,D.async=!0,document.head.appendChild(D)}(O,ct.measurementId),Ju&&(A("consent","default",Ju),function cd(f){Ju=f}(void 0)),A("js",new Date);const Xt=null!==(de=$?.config)&&void 0!==de?de:{};return Xt[fw]="firebase",Xt.update=!0,null!=ge&&(Xt[kh]=ge),A("config",ct.measurementId,Xt),ud&&(A("set",ud),function Yr(f){ud=f}(void 0)),ct.measurementId}),Xm.apply(this,arguments)}class AC{constructor(p){this.app=p}_delete(){return delete ru[this.app.options.appId],Promise.resolve()}}let ru={},ld=[];const e_={};let mo,di,Xu="dataLayer",wa=!1;function $h(f,p,v){!function t_(){const f=[];if(Fm()&&f.push("This is a browser extension environment."),wp()||f.push("Cookies are not available."),f.length>0){const p=f.map((D,A)=>`(${A+1}) ${D}`).join(" "),v=Ti.create("invalid-analytics-context",{errorInfo:p});bi.warn(v.message)}}();const D=f.options.appId;if(!D)throw Ti.create("no-app-id");if(!f.options.apiKey){if(!f.options.measurementId)throw Ti.create("no-api-key");bi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${f.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ru[D])throw Ti.create("already-exists",{id:D});if(!wa){!function jn(f){let p=[];Array.isArray(window[f])?p=window[f]:window[f]=p}(Xu);const{wrappedGtag:O,gtagCore:$}=function qm(f,p,v,D,A){let O=function(...$){window[D].push(arguments)};return window[A]&&"function"==typeof window[A]&&(O=window[A]),window[A]=function Hm(f,p,v,D){function O(){return O=(0,X.Z)(function*($,...de){try{if("event"===$){const[xe,pe]=de;yield function mw(f,p,v,D,A){return Fh.apply(this,arguments)}(f,p,v,xe,pe)}else if("config"===$){const[xe,pe]=de;yield function Sp(f,p,v,D,A,O){return Gm.apply(this,arguments)}(f,p,v,D,xe,pe)}else if("consent"===$){const[xe]=de;f("consent","update",xe)}else if("get"===$){const[xe,pe,ct]=de;f("get",xe,pe,ct)}else if("set"===$){const[xe]=de;f("set",xe)}else f($,...de)}catch(xe){bi.error(xe)}}),O.apply(this,arguments)}return function A($){return O.apply(this,arguments)}}(O,f,p,v),{gtagCore:O,wrappedGtag:window[A]}}(ru,ld,e_,Xu,"gtag");di=O,mo=$,wa=!0}return ru[D]=function Pp(f,p,v,D,A,O,$){return Xm.apply(this,arguments)}(f,ld,e_,p,mo,Xu,v),new AC(f)}function Np(){return Zv.apply(this,arguments)}function Zv(){return(Zv=(0,X.Z)(function*(){if(Fm()||!wp()||!Rh())return!1;try{return yield ad()}catch{return!1}})).apply(this,arguments)}const Ye="@firebase/analytics";!function zh(){(0,me.Xd)(new fe.wA(Er,(p,{options:v})=>$h(p.getProvider("app").getImmediate(),p.getProvider("installations-internal").getImmediate(),v),"PUBLIC")),(0,me.Xd)(new fe.wA("analytics-internal",function f(p){try{const v=p.getProvider(Er).getImmediate();return{logEvent:(D,A,O)=>function DC(f,p,v,D){f=function Ts(f){return f&&f._delegate?f._delegate:f}(f),function $c(f,p,v,D,A){return Lh.apply(this,arguments)}(di,ru[f.app.options.appId],p,v,D).catch(A=>bi.error(A))}(v,D,A,O)}}catch(v){throw Ti.create("interop-component-reg-failed",{reason:v})}},"PRIVATE")),(0,me.KN)(Ye,"0.10.0"),(0,me.KN)(Ye,"0.10.0","esm2017")}();var s_=j(7394);class Ew extends s_.w0{constructor(p,v){super()}schedule(p,v=0){return this}}const dd={setInterval(f,p,...v){const{delegate:D}=dd;return D?.setInterval?D.setInterval(f,p,...v):setInterval(f,p,...v)},clearInterval(f){const{delegate:p}=dd;return(p?.clearInterval||clearInterval)(f)},delegate:void 0};var o_=j(9039);class zc extends Ew{constructor(p,v){super(p,v),this.scheduler=p,this.work=v,this.pending=!1}schedule(p,v=0){var D;if(this.closed)return this;this.state=p;const A=this.id,O=this.scheduler;return null!=A&&(this.id=this.recycleAsyncId(O,A,v)),this.pending=!0,this.delay=v,this.id=null!==(D=this.id)&&void 0!==D?D:this.requestAsyncId(O,this.id,v),this}requestAsyncId(p,v,D=0){return dd.setInterval(p.flush.bind(p,this),D)}recycleAsyncId(p,v,D=0){if(null!=D&&this.delay===D&&!1===this.pending)return v;null!=v&&dd.clearInterval(v)}execute(p,v){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const D=this._execute(p,v);if(D)return D;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(p,v){let A,D=!1;try{this.work(p)}catch(O){D=!0,A=O||new Error("Scheduled action threw falsy error")}if(D)return this.unsubscribe(),A}unsubscribe(){if(!this.closed){const{id:p,scheduler:v}=this,{actions:D}=v;this.work=this.state=this.scheduler=null,this.pending=!1,(0,o_.P)(D,this),null!=p&&(this.id=this.recycleAsyncId(v,p,null)),this.delay=null,super.unsubscribe()}}}var Jv=j(4552);class hd{constructor(p,v=hd.now){this.schedulerActionCtor=p,this.now=v}schedule(p,v=0,D){return new this.schedulerActionCtor(this,p).schedule(D,v)}}hd.now=Jv.l.now;class Gh extends hd{constructor(p,v=hd.now){super(p,v),this.actions=[],this._active=!1}flush(p){const{actions:v}=this;if(this._active)return void v.push(p);let D;this._active=!0;do{if(D=p.execute(p.state,p.delay))break}while(p=v.shift());if(this._active=!1,D){for(;p=v.shift();)p.unsubscribe();throw D}}}const Xv=new class JM extends Gh{}(class Iw extends zc{constructor(p,v){super(p,v),this.scheduler=p,this.work=v}schedule(p,v=0){return v>0?super.schedule(p,v):(this.delay=v,this.state=p,this.scheduler.flush(this),this)}execute(p,v){return v>0||this.closed?super.execute(p,v):this._execute(p,v)}requestAsyncId(p,v,D=0){return null!=D&&D>0||null==D&&this.delay>0?super.requestAsyncId(p,v,D):(p.flush(this),0)}}),ww=new Gh(zc);var fd=j(5592),bw=j(9397),pd=j(5137),e0=j(3093);const SC=new _.GfV("7.6.1"),t0="__angularfire_symbol__analyticsIsSupportedValue",u_="__angularfire_symbol__analyticsIsSupported",gd="__angularfire_symbol__remoteConfigIsSupportedValue",Op="__angularfire_symbol__remoteConfigIsSupported",ba="__angularfire_symbol__messagingIsSupportedValue",c_="__angularfire_symbol__messagingIsSupported";function Aw(f,p,v){if(p){if(1===p.length)return p[0];const O=p.filter($=>$.app===v);if(1===O.length)return O[0]}return v.container.getProvider(f).getImmediate({optional:!0})}globalThis[u_]||(globalThis[u_]=Np().then(f=>globalThis[t0]=f).catch(()=>globalThis[t0]=!1)),globalThis[c_]||(globalThis[c_]=Rm().then(f=>globalThis[ba]=f).catch(()=>globalThis[ba]=!1)),globalThis[Op]||(globalThis[Op]=Kt().then(f=>globalThis[gd]=f).catch(()=>globalThis[gd]=!1));const Cw=(f,p)=>{const v=p?[p]:(0,G.C6)(),D=[];return v.forEach(A=>{A.container.getProvider(f).instances.forEach($=>{D.includes($)||D.push($)})}),D};function qh(){}class Dw{constructor(p,v=Xv){this.zone=p,this.delegate=v}now(){return this.delegate.now()}schedule(p,v,D){const A=this.zone;return this.delegate.schedule(function($){A.runGuarded(()=>{p.apply(this,[$])})},v,D)}}class xC{constructor(p){this.zone=p,this.task=null}call(p,v){const D=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qh,{},qh,qh)),v.pipe((0,bw.b)({next:D,complete:D,error:D})).subscribe(p).add(D)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Sw=(()=>{class f{constructor(v){this.ngZone=v,this.outsideAngular=v.runOutsideAngular(()=>new Dw(Zone.current)),this.insideAngular=v.run(()=>new Dw(Zone.current,ww)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return f.\u0275fac=function(v){return new(v||f)(_.LFG(_.R0b))},f.\u0275prov=_.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();function Gc(){const f=globalThis.\u0275AngularFireScheduler;if(!f)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return f}function tc(f){return Gc().ngZone.run(()=>f())}function l_(f){return Gc(),function RC(f){return function(v){return(v=v.lift(new xC(f.ngZone))).pipe((0,pd.R)(f.outsideAngular),(0,e0.Q)(f.insideAngular))}}(Gc())(f)}const s0=(f,p)=>function(){const D=arguments;return p&&setTimeout(()=>{"scheduled"===p.state&&p.invoke()},10),tc(()=>f.apply(void 0,D))},XM=(f,p)=>function(){let v;const D=arguments;for(let O=0;O<arguments.length;O++)"function"==typeof D[O]&&(p&&(v||(v=tc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qh,{},qh,qh)))),D[O]=s0(D[O],v));const A=function MC(f){return Gc().ngZone.runOutsideAngular(()=>f())}(()=>f.apply(this,D));if(!p){if(A instanceof fd.y){const O=Gc();return A.pipe((0,pd.R)(O.outsideAngular),(0,e0.Q)(O.insideAngular))}return tc(()=>A)}return A instanceof fd.y?A.pipe(l_):A instanceof Promise?tc(()=>new Promise((O,$)=>A.then(de=>tc(()=>O(de)),de=>tc(()=>$(de))))):"function"==typeof A&&v?function(){return setTimeout(()=>{v&&"scheduled"===v.state&&v.invoke()},10),A.apply(this,arguments)}:tc(()=>A)}},6710:(Bt,$e,j)=>{j.d($e,{$:()=>wl,A:()=>ie,D:()=>Se,I:()=>hl,J:()=>dc,L:()=>Qr,N:()=>xn,P:()=>Ul,Q:()=>mn,R:()=>Ga,U:()=>Df,V:()=>vl,W:()=>Xg,X:()=>on,Y:()=>sa,Z:()=>$r,_:()=>Du,a:()=>je,a0:()=>rm,a1:()=>iv,a2:()=>sm,a3:()=>Tl,a4:()=>Nf,a5:()=>om,a6:()=>Fa,a7:()=>Kd,a8:()=>Zd,a9:()=>Va,aA:()=>W,aB:()=>ho,aC:()=>Gt,aD:()=>Gn,aE:()=>ui,aF:()=>ji,aG:()=>Qf,aH:()=>er,aL:()=>Nu,aO:()=>Oo,aa:()=>oa,ab:()=>sv,ac:()=>zI,ad:()=>Cl,ae:()=>GI,af:()=>Mu,ai:()=>Dl,aj:()=>Ff,ak:()=>Sl,an:()=>em,ao:()=>Lf,aq:()=>eh,ar:()=>Ic,as:()=>ve,at:()=>Z,au:()=>Ut,av:()=>Be,aw:()=>ep,ax:()=>Gl,ay:()=>ue,az:()=>Re,b:()=>Fl,c:()=>jl,d:()=>hh,e:()=>Is,f:()=>Uo,g:()=>Sc,h:()=>fa,i:()=>Hf,j:()=>ws,k:()=>Pc,l:()=>pr,m:()=>Oc,o:()=>Em,p:()=>at,r:()=>Ui,s:()=>ca,u:()=>pm});var _=j(5861),G=j(229),X=j(7592),me=j(7582),Pe=j(7879),Ke=j(5031);const at={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ie={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Se=function Fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ft=function ht(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lt=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Le=new Pe.Yd("@firebase/auth");function ze(T,...y){Le.logLevel<=Pe.in.ERROR&&Le.error(`Auth (${X.SDK_VERSION}): ${T}`,...y)}function Be(T,...y){throw le(T,...y)}function Re(T,...y){return le(T,...y)}function ke(T,y,I){const S=Object.assign(Object.assign({},ft()),{[y]:I});return new G.LL("auth","Firebase",S).create(y,{appName:T.name})}function qe(T,y,I){if(!(y instanceof I))throw I.name!==y.constructor.name&&Be(T,"argument-error"),ke(T,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function le(T,...y){if("string"!=typeof T){const I=y[0],S=[...y.slice(1)];return S[0]&&(S[0].appName=T.name),T._errorFactory.create(I,...S)}return lt.create(T,...y)}function W(T,y,...I){if(!T)throw le(y,...I)}function ce(T){const y="INTERNAL ASSERTION FAILED: "+T;throw ze(y),new Error(y)}function ve(T,y){T||ce(y)}function rn(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function zn(){return"http:"===ir()||"https:"===ir()}function ir(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class Xn{constructor(y,I){this.shortDelay=y,this.longDelay=I,ve(I>y,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function Zn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(zn()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ni(T,y){ve(T.emulator,"Emulator should always be set here");const{url:I}=T.emulator;return y?`${I}${y.startsWith("/")?y.slice(1):y}`:I}class Ee{static initialize(y,I,S){this.fetchImpl=y,I&&(this.headersImpl=I),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Me=new Xn(3e4,6e4);function Ie(T,y){return T.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:T.tenantId}):y}function Ne(T,y,I,S){return Je.apply(this,arguments)}function Je(){return(Je=(0,_.Z)(function*(T,y,I,S,P={}){return zt(T,P,(0,_.Z)(function*(){let F={},ne={};S&&("GET"===y?ne=S:F={body:JSON.stringify(S)});const we=(0,G.xO)(Object.assign({key:T.config.apiKey},ne)).slice(1),ot=yield T._getAdditionalHeaders();return ot["Content-Type"]="application/json",T.languageCode&&(ot["X-Firebase-Locale"]=T.languageCode),Ee.fetch()(tn(T,T.config.apiHost,I,we),Object.assign({method:y,headers:ot,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function zt(T,y,I){return sn.apply(this,arguments)}function sn(){return(sn=(0,_.Z)(function*(T,y,I){T._canInitEmulator=!1;const S=Object.assign(Object.assign({},be),y);try{const P=new Dt(T),F=yield Promise.race([I(),P.promise]);P.clearNetworkTimeout();const ne=yield F.json();if("needConfirmation"in ne)throw On(T,"account-exists-with-different-credential",ne);if(F.ok&&!("errorMessage"in ne))return ne;{const we=F.ok?ne.errorMessage:ne.error.message,[ot,ut]=we.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ot)throw On(T,"credential-already-in-use",ne);if("EMAIL_EXISTS"===ot)throw On(T,"email-already-in-use",ne);if("USER_DISABLED"===ot)throw On(T,"user-disabled",ne);const St=S[ot]||ot.toLowerCase().replace(/[_\s]+/g,"-");if(ut)throw ke(T,St,ut);Be(T,St)}}catch(P){if(P instanceof G.ZR)throw P;Be(T,"network-request-failed",{message:String(P)})}})).apply(this,arguments)}function wn(T,y,I,S){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,_.Z)(function*(T,y,I,S,P={}){const F=yield Ne(T,y,I,S,P);return"mfaPendingCredential"in F&&Be(T,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function tn(T,y,I,S){const P=`${y}${I}?${S}`;return T.config.emulator?Ni(T.config,P):`${T.config.apiScheme}://${P}`}class Dt{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((I,S)=>{this.timer=setTimeout(()=>S(Re(this.auth,"network-request-failed")),Me.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function On(T,y,I){const S={appName:T.name};I.email&&(S.email=I.email),I.phoneNumber&&(S.phoneNumber=I.phoneNumber);const P=Re(T,y,S);return P.customData._tokenResponse=I,P}function Pr(){return(Pr=(0,_.Z)(function*(T,y){return Ne(T,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function ni(){return(ni=(0,_.Z)(function*(T,y){return Ne(T,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function ys(){return(ys=(0,_.Z)(function*(T,y){return Ne(T,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function Oi(T){if(T)try{const y=new Date(Number(T));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function eo(){return(eo=(0,_.Z)(function*(T,y=!1){const I=(0,G.m9)(T),S=yield I.getIdToken(y),P=Mt(S);W(P&&P.exp&&P.auth_time&&P.iat,I.auth,"internal-error");const F="object"==typeof P.firebase?P.firebase:void 0,ne=F?.sign_in_provider;return{claims:P,token:S,authTime:Oi(Mn(P.auth_time)),issuedAtTime:Oi(Mn(P.iat)),expirationTime:Oi(Mn(P.exp)),signInProvider:ne||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function Mn(T){return 1e3*Number(T)}function Mt(T){const[y,I,S]=T.split(".");if(void 0===y||void 0===I||void 0===S)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,G.tV)(I);return P?JSON.parse(P):(ze("Failed to decode base64 JWT payload"),null)}catch(P){return ze("Caught error parsing JWT payload as JSON",P?.toString()),null}}function _i(T,y){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,_.Z)(function*(T,y,I=!1){if(I)return y;try{return yield y}catch(S){throw S instanceof G.ZR&&function Ur({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(S)&&T.auth.currentUser===T&&(yield T.auth.signOut()),S}})).apply(this,arguments)}class Vs{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var I;if(y){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const P=(null!==(I=this.user.stsTokenManager.expirationTime)&&void 0!==I?I:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(y=!1){var I=this;if(!this.isRunning)return;const S=this.getInterval(y);this.timerId=setTimeout((0,_.Z)(function*(){yield I.iteration()}),S)}iteration(){var y=this;return(0,_.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===I?.code&&y.schedule(!0))}y.schedule()})()}}class vn{constructor(y,I){this.createdAt=y,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oi(this.lastLoginAt),this.creationTime=Oi(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yi(T){return Bn.apply(this,arguments)}function Bn(){return Bn=(0,_.Z)(function*(T){var y;const I=T.auth,S=yield T.getIdToken(),P=yield _i(T,function mi(T,y){return ys.apply(this,arguments)}(I,{idToken:S}));W(P?.users.length,I,"internal-error");const F=P.users[0];T._notifyReloadListener(F);const ne=null!==(y=F.providerUserInfo)&&void 0!==y&&y.length?function to(T){return T.map(y=>{var{providerId:I}=y,S=(0,me._T)(y,["providerId"]);return{providerId:I,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}(F.providerUserInfo):[],we=function ea(T,y){return[...T.filter(S=>!y.some(P=>P.providerId===S.providerId)),...y]}(T.providerData,ne),St=!!T.isAnonymous&&!(T.email&&F.passwordHash||we?.length),dn={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:we,metadata:new vn(F.createdAt,F.lastLoginAt),isAnonymous:St};Object.assign(T,dn)}),Bn.apply(this,arguments)}function bn(){return(bn=(0,_.Z)(function*(T){const y=(0,G.m9)(T);yield yi(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function Yi(){return(Yi=(0,_.Z)(function*(T,y){const I=yield zt(T,{},(0,_.Z)(function*(){const S=(0,G.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:P,apiKey:F}=T.config,ne=tn(T,P,"/v1/token",`key=${F}`),we=yield T._getAdditionalHeaders();return we["Content-Type"]="application/x-www-form-urlencoded",Ee.fetch()(ne,{method:"POST",headers:we,body:S})}));return{accessToken:I.access_token,expiresIn:I.expires_in,refreshToken:I.refresh_token}})).apply(this,arguments)}class Ji{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){W(y.idToken,"internal-error"),W(typeof y.idToken<"u","internal-error"),W(typeof y.refreshToken<"u","internal-error");const I="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function Qt(T){const y=Mt(T);return W(y,"internal-error"),W(typeof y.exp<"u","internal-error"),W(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,I)}getToken(y,I=!1){var S=this;return(0,_.Z)(function*(){return W(!S.accessToken||S.refreshToken,y,"user-token-expired"),I||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(y,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,I){var S=this;return(0,_.Z)(function*(){const{accessToken:P,refreshToken:F,expiresIn:ne}=yield function So(T,y){return Yi.apply(this,arguments)}(y,I);S.updateTokensAndExpiration(P,F,Number(ne))})()}updateTokensAndExpiration(y,I,S){this.refreshToken=I||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(y,I){const{refreshToken:S,accessToken:P,expirationTime:F}=I,ne=new Ji;return S&&(W("string"==typeof S,"internal-error",{appName:y}),ne.refreshToken=S),P&&(W("string"==typeof P,"internal-error",{appName:y}),ne.accessToken=P),F&&(W("number"==typeof F,"internal-error",{appName:y}),ne.expirationTime=F),ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new Ji,this.toJSON())}_performRefresh(){return ce("not implemented")}}function mt(T,y){W("string"==typeof T||typeof T>"u","internal-error",{appName:y})}class Ve{constructor(y){var{uid:I,auth:S,stsTokenManager:P}=y,F=(0,me._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=S,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new vn(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(y){var I=this;return(0,_.Z)(function*(){const S=yield _i(I,I.stsTokenManager.getToken(I.auth,y));return W(S,I.auth,"internal-error"),I.accessToken!==S&&(I.accessToken=S,yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)),S})()}getIdTokenResult(y){return function Fs(T){return eo.apply(this,arguments)}(this,y)}reload(){return function Rn(T){return bn.apply(this,arguments)}(this)}_assign(y){this!==y&&(W(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(I=>Object.assign({},I)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){const I=new Ve(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}));return I.metadata._copy(this.metadata),I}_onReload(y){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,I=!1){var S=this;return(0,_.Z)(function*(){let P=!1;y.idToken&&y.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(y),P=!0),I&&(yield yi(S)),yield S.auth._persistUserIfCurrent(S),P&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var y=this;return(0,_.Z)(function*(){const I=yield y.getIdToken();return yield _i(y,function Rr(T,y){return Pr.apply(this,arguments)}(y.auth,{idToken:I})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,I){var S,P,F,ne,we,ot,ut,St;const dn=null!==(S=I.displayName)&&void 0!==S?S:void 0,li=null!==(P=I.email)&&void 0!==P?P:void 0,bs=null!==(F=I.phoneNumber)&&void 0!==F?F:void 0,Jl=null!==(ne=I.photoURL)&&void 0!==ne?ne:void 0,op=null!==(we=I.tenantId)&&void 0!==we?we:void 0,_a=null!==(ot=I._redirectEventId)&&void 0!==ot?ot:void 0,Vc=null!==(ut=I.createdAt)&&void 0!==ut?ut:void 0,po=null!==(St=I.lastLoginAt)&&void 0!==St?St:void 0,{uid:Xl,emailVerified:ls,isAnonymous:zu,providerData:Go,stsTokenManager:ya}=I;W(Xl&&ya,y,"internal-error");const Gu=Ji.fromJSON(this.name,ya);W("string"==typeof Xl,y,"internal-error"),mt(dn,y.name),mt(li,y.name),W("boolean"==typeof ls,y,"internal-error"),W("boolean"==typeof zu,y,"internal-error"),mt(bs,y.name),mt(Jl,y.name),mt(op,y.name),mt(_a,y.name),mt(Vc,y.name),mt(po,y.name);const Hu=new Ve({uid:Xl,auth:y,email:li,emailVerified:ls,displayName:dn,isAnonymous:zu,photoURL:Jl,phoneNumber:bs,tenantId:op,stsTokenManager:Gu,createdAt:Vc,lastLoginAt:po});return Go&&Array.isArray(Go)&&(Hu.providerData=Go.map(ed=>Object.assign({},ed))),_a&&(Hu._redirectEventId=_a),Hu}static _fromIdTokenResponse(y,I,S=!1){return(0,_.Z)(function*(){const P=new Ji;P.updateFromServerResponse(I);const F=new Ve({uid:I.localId,auth:y,stsTokenManager:P,isAnonymous:S});return yield yi(F),F})()}}const bt=new Map;function Gt(T){ve(T instanceof Function,"Expected a class definition");let y=bt.get(T);return y?(ve(y instanceof T,"Instance stored in cache mismatched with class"),y):(y=new T,bt.set(T,y),y)}const xn=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(I,S){var P=this;return(0,_.Z)(function*(){P.storage[I]=S})()}_get(I){var S=this;return(0,_.Z)(function*(){const P=S.storage[I];return void 0===P?null:P})()}_remove(I){var S=this;return(0,_.Z)(function*(){delete S.storage[I]})()}_addListener(I,S){}_removeListener(I,S){}}return T.type="NONE",T})();function Gn(T,y,I){return`firebase:${T}:${y}:${I}`}class Q{constructor(y,I,S){this.persistence=y,this.auth=I,this.userKey=S;const{config:P,name:F}=this.auth;this.fullUserKey=Gn(this.userKey,P.apiKey,F),this.fullPersistenceKey=Gn("persistence",P.apiKey,F),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,_.Z)(function*(){const I=yield y.persistence._get(y.fullUserKey);return I?Ve._fromJSON(y.auth,I):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var I=this;return(0,_.Z)(function*(){if(I.persistence===y)return;const S=yield I.getCurrentUser();return yield I.removeCurrentUser(),I.persistence=y,S?I.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,I,S="authUser"){return(0,_.Z)(function*(){if(!I.length)return new Q(Gt(xn),y,S);const P=(yield Promise.all(I.map(function(){var ut=(0,_.Z)(function*(St){if(yield St._isAvailable())return St});return function(St){return ut.apply(this,arguments)}}()))).filter(ut=>ut);let F=P[0]||Gt(xn);const ne=Gn(S,y.config.apiKey,y.name);let we=null;for(const ut of I)try{const St=yield ut._get(ne);if(St){const dn=Ve._fromJSON(y,St);ut!==F&&(we=dn),F=ut;break}}catch{}const ot=P.filter(ut=>ut._shouldAllowMigration);return F._shouldAllowMigration&&ot.length?(F=ot[0],we&&(yield F._set(ne,we.toJSON())),yield Promise.all(I.map(function(){var ut=(0,_.Z)(function*(St){if(St!==F)try{yield St._remove(ne)}catch{}});return function(St){return ut.apply(this,arguments)}}())),new Q(F,y,S)):new Q(F,y,S)})()}}function H(T){const y=T.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Tt(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(te(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(K(y))return"Blackberry";if(B(y))return"Webos";if(Te(y))return"Safari";if((y.includes("chrome/")||fe(y))&&!y.includes("edge/"))return"Chrome";if(Ut(y))return"Android";{const S=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function te(T=(0,G.z$)()){return/firefox\//i.test(T)}function Te(T=(0,G.z$)()){const y=T.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function fe(T=(0,G.z$)()){return/crios\//i.test(T)}function Tt(T=(0,G.z$)()){return/iemobile/i.test(T)}function Ut(T=(0,G.z$)()){return/android/i.test(T)}function K(T=(0,G.z$)()){return/blackberry/i.test(T)}function B(T=(0,G.z$)()){return/webos/i.test(T)}function Z(T=(0,G.z$)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function ue(T=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}function Rt(T=(0,G.z$)()){return Z(T)||Ut(T)||B(T)||K(T)||/windows phone/i.test(T)||Tt(T)}function yr(T,y=[]){let I;switch(T){case"Browser":I=H((0,G.z$)());break;case"Worker":I=`${H((0,G.z$)())}-${T}`;break;default:I=T}const S=y.length?y.join(","):"FirebaseCore-web";return`${I}/JsCore/${X.SDK_VERSION}/${S}`}function Nr(){return(Nr=(0,_.Z)(function*(T){return(yield Ne(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Tn(T,y){return or.apply(this,arguments)}function or(){return(or=(0,_.Z)(function*(T,y){return Ne(T,"GET","/v2/recaptchaConfig",Ie(T,y))})).apply(this,arguments)}function Xi(T){return void 0!==T&&void 0!==T.getResponse}function xo(T){return void 0!==T&&void 0!==T.enterprise}class Na{constructor(y){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===y.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=y.recaptchaKey.split("/")[3],this.emailPasswordEnabled=y.recaptchaEnforcementState.some(I=>"EMAIL_PASSWORD_PROVIDER"===I.provider&&"OFF"!==I.enforcementState)}}function Iu(T){return new Promise((y,I)=>{const S=document.createElement("script");S.setAttribute("src",T),S.onload=y,S.onerror=P=>{const F=Re("internal-error");F.customData=P,I(F)},S.type="text/javascript",S.charset="UTF-8",function Mo(){var T,y;return null!==(y=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==y?y:document}().appendChild(S)})}function Ud(T){return`__${T}${Math.floor(1e6*Math.random())}`}class jd{constructor(y){this.type="recaptcha-enterprise",this.auth=er(y)}verify(y="verify",I=!1){var S=this;return(0,_.Z)(function*(){function F(){return F=(0,_.Z)(function*(we){if(!I){if(null==we.tenantId&&null!=we._agentRecaptchaConfig)return we._agentRecaptchaConfig.siteKey;if(null!=we.tenantId&&void 0!==we._tenantRecaptchaConfigs[we.tenantId])return we._tenantRecaptchaConfigs[we.tenantId].siteKey}return new Promise(function(){var ot=(0,_.Z)(function*(ut,St){Tn(we,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(dn=>{if(void 0!==dn.recaptchaKey){const li=new Na(dn);return null==we.tenantId?we._agentRecaptchaConfig=li:we._tenantRecaptchaConfigs[we.tenantId]=li,ut(li.siteKey)}St(new Error("recaptcha Enterprise site key undefined"))}).catch(dn=>{St(dn)})});return function(ut,St){return ot.apply(this,arguments)}}())}),F.apply(this,arguments)}function ne(we,ot,ut){const St=window.grecaptcha;xo(St)?St.enterprise.ready(()=>{St.enterprise.execute(we,{action:y}).then(dn=>{ot(dn)}).catch(()=>{ot("NO_RECAPTCHA")})}):ut(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((we,ot)=>{(function P(we){return F.apply(this,arguments)})(S.auth).then(ut=>{if(!I&&xo(window.grecaptcha))ne(ut,we,ot);else{if(typeof window>"u")return void ot(new Error("RecaptchaVerifier is only supported in browser"));Iu("https://www.google.com/recaptcha/enterprise.js?render="+ut).then(()=>{ne(ut,we,ot)}).catch(St=>{ot(St)})}}).catch(ut=>{ot(ut)})})})()}}function ki(T,y,I){return cc.apply(this,arguments)}function cc(){return(cc=(0,_.Z)(function*(T,y,I,S=!1){const P=new jd(T);let F;try{F=yield P.verify(I)}catch{F=yield P.verify(I,!0)}const ne=Object.assign({},y);return Object.assign(ne,S?{captchaResp:F}:{captchaResponse:F}),Object.assign(ne,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ne,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ne})).apply(this,arguments)}class $d{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,I){const S=F=>new Promise((ne,we)=>{try{ne(y(F))}catch(ot){we(ot)}});S.onAbort=I,this.queue.push(S);const P=this.queue.length-1;return()=>{this.queue[P]=()=>Promise.resolve()}}runMiddleware(y){var I=this;return(0,_.Z)(function*(){if(I.auth.currentUser===y)return;const S=[];try{for(const P of I.queue)yield P(y),P.onAbort&&S.push(P.onAbort)}catch(P){S.reverse();for(const F of S)try{F()}catch{}throw I.auth._errorFactory.create("login-blocked",{originalMessage:P?.message})}})()}}class es{constructor(y,I,S,P){this.app=y,this.heartbeatServiceProvider=I,this.appCheckServiceProvider=S,this.config=P,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zd(this),this.idTokenSubscription=new zd(this),this.beforeStateQueue=new $d(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=P.sdkClientVersion}_initializeWithPersistence(y,I){var S=this;return I&&(this._popupRedirectResolver=Gt(I)),this._initializationPromise=this.queue((0,_.Z)(function*(){var P,F;if(!S._deleted&&(S.persistenceManager=yield Q.create(S,y),!S._deleted)){if(null!==(P=S._popupRedirectResolver)&&void 0!==P&&P._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(I),S.lastNotifiedUid=(null===(F=S.currentUser)||void 0===F?void 0:F.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,_.Z)(function*(){if(y._deleted)return;const I=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||I){if(y.currentUser&&I&&y.currentUser.uid===I.uid)return y._currentUser._assign(I),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(I,!0)}})()}initializeCurrentUser(y){var I=this;return(0,_.Z)(function*(){var S;const P=yield I.assertedPersistence.getCurrentUser();let F=P,ne=!1;if(y&&I.config.authDomain){yield I.getOrInitRedirectPersistenceManager();const we=null===(S=I.redirectUser)||void 0===S?void 0:S._redirectEventId,ot=F?._redirectEventId,ut=yield I.tryRedirectSignIn(y);(!we||we===ot)&&ut?.user&&(F=ut.user,ne=!0)}if(!F)return I.directlySetCurrentUser(null);if(!F._redirectEventId){if(ne)try{yield I.beforeStateQueue.runMiddleware(F)}catch(we){F=P,I._popupRedirectResolver._overrideRedirectResult(I,()=>Promise.reject(we))}return F?I.reloadAndSetCurrentUserOrClear(F):I.directlySetCurrentUser(null)}return W(I._popupRedirectResolver,I,"argument-error"),yield I.getOrInitRedirectPersistenceManager(),I.redirectUser&&I.redirectUser._redirectEventId===F._redirectEventId?I.directlySetCurrentUser(F):I.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(y){var I=this;return(0,_.Z)(function*(){let S=null;try{S=yield I._popupRedirectResolver._completeRedirectFn(I,y,!0)}catch{yield I._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(y){var I=this;return(0,_.Z)(function*(){try{yield yi(y)}catch(S){if("auth/network-request-failed"!==S?.code)return I.directlySetCurrentUser(null)}return I.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function Jn(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var y=this;return(0,_.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var I=this;return(0,_.Z)(function*(){const S=y?(0,G.m9)(y):null;return S&&W(S.auth.config.apiKey===I.config.apiKey,I,"invalid-user-token"),I._updateCurrentUser(S&&S._clone(I))})()}_updateCurrentUser(y,I=!1){var S=this;return(0,_.Z)(function*(){if(!S._deleted)return y&&W(S.tenantId===y.tenantId,S,"tenant-id-mismatch"),I||(yield S.beforeStateQueue.runMiddleware(y)),S.queue((0,_.Z)(function*(){yield S.directlySetCurrentUser(y),S.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,_.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var I=this;return this.queue((0,_.Z)(function*(){yield I.assertedPersistence.setPersistence(Gt(y))}))}initializeRecaptchaConfig(){var y=this;return(0,_.Z)(function*(){const I=yield Tn(y,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),S=new Na(I);null==y.tenantId?y._agentRecaptchaConfig=S:y._tenantRecaptchaConfigs[y.tenantId]=S,S.emailPasswordEnabled&&new jd(y).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new G.LL("auth","Firebase",y())}onAuthStateChanged(y,I,S){return this.registerStateListener(this.authStateSubscription,y,I,S)}beforeAuthStateChanged(y,I){return this.beforeStateQueue.pushCallback(y,I)}onIdTokenChanged(y,I,S){return this.registerStateListener(this.idTokenSubscription,y,I,S)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,I){var S=this;return(0,_.Z)(function*(){const P=yield S.getOrInitRedirectPersistenceManager(I);return null===y?P.removeCurrentUser():P.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var I=this;return(0,_.Z)(function*(){if(!I.redirectPersistenceManager){const S=y&&Gt(y)||I._popupRedirectResolver;W(S,I,"argument-error"),I.redirectPersistenceManager=yield Q.create(I,[Gt(S._redirectPersistence)],"redirectUser"),I.redirectUser=yield I.redirectPersistenceManager.getCurrentUser()}return I.redirectPersistenceManager})()}_redirectUserForId(y){var I=this;return(0,_.Z)(function*(){var S,P;return I._isInitialized&&(yield I.queue((0,_.Z)(function*(){}))),(null===(S=I._currentUser)||void 0===S?void 0:S._redirectEventId)===y?I._currentUser:(null===(P=I.redirectUser)||void 0===P?void 0:P._redirectEventId)===y?I.redirectUser:null})()}_persistUserIfCurrent(y){var I=this;return(0,_.Z)(function*(){if(y===I.currentUser)return I.queue((0,_.Z)(function*(){return I.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(I=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==I?I:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,I,S,P){if(this._deleted)return()=>{};const F="function"==typeof I?I:I.next.bind(I),ne=this._isInitialized?Promise.resolve():this._initializationPromise;return W(ne,this,"internal-error"),ne.then(()=>F(this.currentUser)),"function"==typeof I?y.addObserver(I,S,P):y.addObserver(I)}directlySetCurrentUser(y){var I=this;return(0,_.Z)(function*(){I.currentUser&&I.currentUser!==y&&I._currentUser._stopProactiveRefresh(),y&&I.isProactiveRefreshEnabled&&y._startProactiveRefresh(),I.currentUser=y,y?yield I.assertedPersistence.setCurrentUser(y):yield I.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=yr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,_.Z)(function*(){var I;const S={"X-Client-Version":y.clientVersion};y.app.options.appId&&(S["X-Firebase-gmpid"]=y.app.options.appId);const P=yield null===(I=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getHeartbeatsHeader();P&&(S["X-Firebase-Client"]=P);const F=yield y._getAppCheckToken();return F&&(S["X-Firebase-AppCheck"]=F),S})()}_getAppCheckToken(){var y=this;return(0,_.Z)(function*(){var I;const S=yield null===(I=y.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getToken();return S?.error&&function Ct(T,...y){Le.logLevel<=Pe.in.WARN&&Le.warn(`Auth (${X.SDK_VERSION}): ${T}`,...y)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function er(T){return(0,G.m9)(T)}class zd{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,G.ne)(I=>this.observer=I)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hl(T,y,I){const S=er(T);W(S._canInitEmulator,S,"emulator-config-failed"),W(/^https?:\/\//.test(y),S,"invalid-emulator-scheme");const P=!!I?.disableWarnings,F=fl(y),{host:ne,port:we}=function na(T){const y=fl(T),I=/(\/\/)?([^?#/]+)/.exec(T.substr(y.length));if(!I)return{host:"",port:null};const S=I[2].split("@").pop()||"",P=/^(\[[^\]]+\])(:|$)/.exec(S);if(P){const F=P[1];return{host:F,port:pl(S.substr(F.length+1))}}{const[F,ne]=S.split(":");return{host:F,port:pl(ne)}}}(y);S.config.emulator={url:`${F}//${ne}${null===we?"":`:${we}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:ne,port:we,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:P})}),P||function Jg(){function T(){const y=document.createElement("p"),I=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}function fl(T){const y=T.indexOf(":");return y<0?"":T.substr(0,y+1)}function pl(T){if(!T)return null;const y=Number(T);return isNaN(y)?null:y}class dc{constructor(y,I){this.providerId=y,this.signInMethod=I}toJSON(){return ce("not implemented")}_getIdTokenResponse(y){return ce("not implemented")}_linkToIdToken(y,I){return ce("not implemented")}_getReauthenticationResolver(y){return ce("not implemented")}}function bu(T,y){return ri.apply(this,arguments)}function ri(){return(ri=(0,_.Z)(function*(T,y){return Ne(T,"POST","/v1/accounts:resetPassword",Ie(T,y))})).apply(this,arguments)}function Tu(T,y){return gl.apply(this,arguments)}function gl(){return(gl=(0,_.Z)(function*(T,y){return Ne(T,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function vi(){return(vi=(0,_.Z)(function*(T,y){return Ne(T,"POST","/v1/accounts:update",Ie(T,y))})).apply(this,arguments)}function _l(T,y){return ra.apply(this,arguments)}function ra(){return(ra=(0,_.Z)(function*(T,y){return wn(T,"POST","/v1/accounts:signInWithPassword",Ie(T,y))})).apply(this,arguments)}function ia(T,y){return yn.apply(this,arguments)}function yn(){return(yn=(0,_.Z)(function*(T,y){return Ne(T,"POST","/v1/accounts:sendOobCode",Ie(T,y))})).apply(this,arguments)}function si(){return(si=(0,_.Z)(function*(T,y){return ia(T,y)})).apply(this,arguments)}function Ro(T,y){return oi.apply(this,arguments)}function oi(){return(oi=(0,_.Z)(function*(T,y){return ia(T,y)})).apply(this,arguments)}function Po(T,y){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,_.Z)(function*(T,y){return ia(T,y)})).apply(this,arguments)}function Au(){return(Au=(0,_.Z)(function*(T,y){return ia(T,y)})).apply(this,arguments)}function ar(){return(ar=(0,_.Z)(function*(T,y){return wn(T,"POST","/v1/accounts:signInWithEmailLink",Ie(T,y))})).apply(this,arguments)}function Yt(){return(Yt=(0,_.Z)(function*(T,y){return wn(T,"POST","/v1/accounts:signInWithEmailLink",Ie(T,y))})).apply(this,arguments)}class Hn extends dc{constructor(y,I,S,P=null){super("password",S),this._email=y,this._password=I,this._tenantId=P}static _fromEmailAndPassword(y,I){return new Hn(y,I,"password")}static _fromEmailAndCode(y,I,S=null){return new Hn(y,I,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const I="string"==typeof y?JSON.parse(y):y;if(I?.email&&I?.password){if("password"===I.signInMethod)return this._fromEmailAndPassword(I.email,I.password);if("emailLink"===I.signInMethod)return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}_getIdTokenResponse(y){var I=this;return(0,_.Z)(function*(){var S;switch(I.signInMethod){case"password":const P={returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(S=y._getRecaptchaConfig())&&void 0!==S&&S.emailPasswordEnabled){const F=yield ki(y,P,"signInWithPassword");return _l(y,F)}return _l(y,P).catch(function(){var F=(0,_.Z)(function*(ne){if("auth/missing-recaptcha-token"===ne.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const we=yield ki(y,P,"signInWithPassword");return _l(y,we)}return Promise.reject(ne)});return function(ne){return F.apply(this,arguments)}}());case"emailLink":return function yl(T,y){return ar.apply(this,arguments)}(y,{email:I._email,oobCode:I._password});default:Be(y,"internal-error")}})()}_linkToIdToken(y,I){var S=this;return(0,_.Z)(function*(){switch(S.signInMethod){case"password":return Tu(y,{idToken:I,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function vt(T,y){return Yt.apply(this,arguments)}(y,{idToken:I,email:S._email,oobCode:S._password});default:Be(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Ar(T,y){return No.apply(this,arguments)}function No(){return(No=(0,_.Z)(function*(T,y){return wn(T,"POST","/v1/accounts:signInWithIdp",Ie(T,y))})).apply(this,arguments)}class Qr extends dc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const I=new Qr(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(I.idToken=y.idToken),y.accessToken&&(I.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(I.nonce=y.nonce),y.pendingToken&&(I.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(I.accessToken=y.oauthToken,I.secret=y.oauthTokenSecret):Be("argument-error"),I}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const I="string"==typeof y?JSON.parse(y):y,{providerId:S,signInMethod:P}=I,F=(0,me._T)(I,["providerId","signInMethod"]);if(!S||!P)return null;const ne=new Qr(S,P);return ne.idToken=F.idToken||void 0,ne.accessToken=F.accessToken||void 0,ne.secret=F.secret,ne.nonce=F.nonce,ne.pendingToken=F.pendingToken||null,ne}_getIdTokenResponse(y){return Ar(y,this.buildRequest())}_linkToIdToken(y,I){const S=this.buildRequest();return S.idToken=I,Ar(y,S)}_getReauthenticationResolver(y){const I=this.buildRequest();return I.autoCreate=!1,Ar(y,I)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const I={};this.idToken&&(I.id_token=this.idToken),this.accessToken&&(I.access_token=this.accessToken),this.secret&&(I.oauth_token_secret=this.secret),I.providerId=this.providerId,this.nonce&&!this.pendingToken&&(I.nonce=this.nonce),y.postBody=(0,G.xO)(I)}return y}}function no(){return(no=(0,_.Z)(function*(T,y){return Ne(T,"POST","/v1/accounts:sendVerificationCode",Ie(T,y))})).apply(this,arguments)}function U(){return(U=(0,_.Z)(function*(T,y){return wn(T,"POST","/v1/accounts:signInWithPhoneNumber",Ie(T,y))})).apply(this,arguments)}function q(){return(q=(0,_.Z)(function*(T,y){const I=yield wn(T,"POST","/v1/accounts:signInWithPhoneNumber",Ie(T,y));if(I.temporaryProof)throw On(T,"account-exists-with-different-credential",I);return I})).apply(this,arguments)}const _e={USER_NOT_FOUND:"user-not-found"};function st(){return(st=(0,_.Z)(function*(T,y){return wn(T,"POST","/v1/accounts:signInWithPhoneNumber",Ie(T,Object.assign(Object.assign({},y),{operation:"REAUTH"})),_e)})).apply(this,arguments)}class xt extends dc{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,I){return new xt({verificationId:y,verificationCode:I})}static _fromTokenResponse(y,I){return new xt({phoneNumber:y,temporaryProof:I})}_getIdTokenResponse(y){return function ts(T,y){return U.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,I){return function V(T,y){return q.apply(this,arguments)}(y,Object.assign({idToken:I},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function re(T,y){return st.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:I,verificationId:S,verificationCode:P}=this.params;return y&&I?{temporaryProof:y,phoneNumber:I}:{sessionInfo:S,code:P}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:I,verificationCode:S,phoneNumber:P,temporaryProof:F}=y;return S||I||P||F?new xt({verificationId:I,verificationCode:S,phoneNumber:P,temporaryProof:F}):null}}class dr{constructor(y){var I,S,P,F,ne,we;const ot=(0,G.zd)((0,G.pd)(y)),ut=null!==(I=ot.apiKey)&&void 0!==I?I:null,St=null!==(S=ot.oobCode)&&void 0!==S?S:null,dn=function un(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(P=ot.mode)&&void 0!==P?P:null);W(ut&&St&&dn,"argument-error"),this.apiKey=ut,this.operation=dn,this.code=St,this.continueUrl=null!==(F=ot.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(ne=ot.languageCode)&&void 0!==ne?ne:null,this.tenantId=null!==(we=ot.tenantId)&&void 0!==we?we:null}static parseLink(y){const I=function Cr(T){const y=(0,G.zd)((0,G.pd)(T)).link,I=y?(0,G.zd)((0,G.pd)(y)).deep_link_id:null,S=(0,G.zd)((0,G.pd)(T)).deep_link_id;return(S?(0,G.zd)((0,G.pd)(S)).link:null)||S||I||y||T}(y);try{return new dr(I)}catch{return null}}}let mn=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(I,S){return Hn._fromEmailAndPassword(I,S)}static credentialWithLink(I,S){const P=dr.parseLink(S);return W(P,"argument-error"),Hn._fromEmailAndCode(I,P.code,P.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class vr{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class ns extends vr{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class on extends ns{static credentialFromJSON(y){const I="string"==typeof y?JSON.parse(y):y;return W("providerId"in I&&"signInMethod"in I,"argument-error"),Qr._fromParams(I)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return W(y.idToken||y.accessToken,"argument-error"),Qr._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return on.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return on.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:I,oauthAccessToken:S,oauthTokenSecret:P,pendingToken:F,nonce:ne,providerId:we}=y;if(!S&&!P&&!I&&!F||!we)return null;try{return new on(we)._credential({idToken:I,accessToken:S,nonce:ne,pendingToken:F})}catch{return null}}}let Df=(()=>{class T extends ns{constructor(){super("facebook.com")}static credential(I){return Qr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return T.credentialFromTaggedObject(I)}static credentialFromError(I){return T.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return T.credential(I.oauthAccessToken)}catch{return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),vl=(()=>{class T extends ns{constructor(){super("google.com"),this.addScope("profile")}static credential(I,S){return Qr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:I,accessToken:S})}static credentialFromResult(I){return T.credentialFromTaggedObject(I)}static credentialFromError(I){return T.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthIdToken:S,oauthAccessToken:P}=I;if(!S&&!P)return null;try{return T.credential(S,P)}catch{return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),Xg=(()=>{class T extends ns{constructor(){super("github.com")}static credential(I){return Qr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return T.credentialFromTaggedObject(I)}static credentialFromError(I){return T.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return T.credential(I.oauthAccessToken)}catch{return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class Oo extends dc{constructor(y,I){super(y,y),this.pendingToken=I}_getIdTokenResponse(y){return Ar(y,this.buildRequest())}_linkToIdToken(y,I){const S=this.buildRequest();return S.idToken=I,Ar(y,S)}_getReauthenticationResolver(y){const I=this.buildRequest();return I.autoCreate=!1,Ar(y,I)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const I="string"==typeof y?JSON.parse(y):y,{providerId:S,signInMethod:P,pendingToken:F}=I;return S&&P&&F&&S===P?new Oo(S,F):null}static _create(y,I){return new Oo(y,I)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class sa extends vr{constructor(y){W(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return sa.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return sa.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const I=Oo.fromJSON(y);return W(I,"argument-error"),I}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:I,providerId:S}=y;if(!I||!S)return null;try{return Oo._create(S,I)}catch{return null}}}let $r=(()=>{class T extends ns{constructor(){super("twitter.com")}static credential(I,S){return Qr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:I,oauthTokenSecret:S})}static credentialFromResult(I){return T.credentialFromTaggedObject(I)}static credentialFromError(I){return T.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthAccessToken:S,oauthTokenSecret:P}=I;if(!S||!P)return null;try{return T.credential(S,P)}catch{return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function hc(T,y){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,_.Z)(function*(T,y){return wn(T,"POST","/v1/accounts:signUp",Ie(T,y))})).apply(this,arguments)}class qn{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,I,S,P=!1){return(0,_.Z)(function*(){const F=yield Ve._fromIdTokenResponse(y,S,P),ne=Cu(S);return new qn({user:F,providerId:ne,_tokenResponse:S,operationType:I})})()}static _forOperation(y,I,S){return(0,_.Z)(function*(){yield y._updateTokensIfNecessary(S,!0);const P=Cu(S);return new qn({user:y,providerId:P,_tokenResponse:S,operationType:I})})()}}function Cu(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function Du(T){return Su.apply(this,arguments)}function Su(){return(Su=(0,_.Z)(function*(T){var y;const I=er(T);if(yield I._initializationPromise,null!==(y=I.currentUser)&&void 0!==y&&y.isAnonymous)return new qn({user:I.currentUser,providerId:null,operationType:"signIn"});const S=yield hc(I,{returnSecureToken:!0}),P=yield qn._fromIdTokenResponse(I,"signIn",S,!0);return yield I._updateCurrentUser(P.user),P})).apply(this,arguments)}class Vi extends G.ZR{constructor(y,I,S,P){var F;super(I.code,I.message),this.operationType=S,this.user=P,Object.setPrototypeOf(this,Vi.prototype),this.customData={appName:y.name,tenantId:null!==(F=y.tenantId)&&void 0!==F?F:void 0,_serverResponse:I.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(y,I,S,P){return new Vi(y,I,S,P)}}function so(T,y,I,S){return("reauthenticate"===y?I._getReauthenticationResolver(T):I._getIdTokenResponse(T)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?Vi._fromErrorAndOperation(T,F,y,S):F})}function Gd(T){return new Set(T.map(({providerId:y})=>y).filter(y=>!!y))}function em(T,y){return tm.apply(this,arguments)}function tm(){return tm=(0,_.Z)(function*(T,y){const I=(0,G.m9)(T);yield El(!0,I,y);const{providerUserInfo:S}=yield function nn(T,y){return ni.apply(this,arguments)}(I.auth,{idToken:yield I.getIdToken(),deleteProvider:[y]}),P=Gd(S||[]);return I.providerData=I.providerData.filter(F=>P.has(F.providerId)),P.has("phone")||(I.phoneNumber=null),yield I.auth._persistUserIfCurrent(I),I}),tm.apply(this,arguments)}function Hd(T,y){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,_.Z)(function*(T,y,I=!1){const S=yield _i(T,y._linkToIdToken(T.auth,yield T.getIdToken()),I);return qn._forOperation(T,"link",S)})).apply(this,arguments)}function El(T,y,I){return qd.apply(this,arguments)}function qd(){return(qd=(0,_.Z)(function*(T,y,I){yield yi(y);const P=!1===T?"provider-already-linked":"no-such-provider";W(Gd(y.providerData).has(I)===T,y.auth,P)})).apply(this,arguments)}function xf(T,y){return Il.apply(this,arguments)}function Il(){return(Il=(0,_.Z)(function*(T,y,I=!1){const{auth:S}=T,P="reauthenticate";try{const F=yield _i(T,so(S,P,y,T),I);W(F.idToken,S,"internal-error");const ne=Mt(F.idToken);W(ne,S,"internal-error");const{sub:we}=ne;return W(T.uid===we,S,"user-mismatch"),qn._forOperation(T,P,F)}catch(F){throw"auth/user-not-found"===F?.code&&Be(S,"user-mismatch"),F}})).apply(this,arguments)}function nm(T,y){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,_.Z)(function*(T,y,I=!1){const S="signIn",P=yield so(T,S,y),F=yield qn._fromIdTokenResponse(T,S,P);return I||(yield T._updateCurrentUser(F.user)),F})).apply(this,arguments)}function wl(T,y){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,_.Z)(function*(T,y){return nm(er(T),y)})).apply(this,arguments)}function rm(T,y){return im.apply(this,arguments)}function im(){return(im=(0,_.Z)(function*(T,y){const I=(0,G.m9)(T);return yield El(!1,I,y.providerId),Hd(I,y)})).apply(this,arguments)}function iv(T,y){return hr.apply(this,arguments)}function hr(){return(hr=(0,_.Z)(function*(T,y){return xf((0,G.m9)(T),y)})).apply(this,arguments)}function bl(){return(bl=(0,_.Z)(function*(T,y){return wn(T,"POST","/v1/accounts:signInWithCustomToken",Ie(T,y))})).apply(this,arguments)}function sm(T,y){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,_.Z)(function*(T,y){const I=er(T),S=yield function ko(T,y){return bl.apply(this,arguments)}(I,{token:y,returnSecureToken:!0}),P=yield qn._fromIdTokenResponse(I,"signIn",S);return yield I._updateCurrentUser(P.user),P}),Pf.apply(this,arguments)}class fc{constructor(y,I){this.factorId=y,this.uid=I.mfaEnrollmentId,this.enrollmentTime=new Date(I.enrolledAt).toUTCString(),this.displayName=I.displayName}static _fromServerResponse(y,I){return"phoneInfo"in I?oo._fromServerResponse(y,I):"totpInfo"in I?pc._fromServerResponse(y,I):Be(y,"internal-error")}}class oo extends fc{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,I){return new oo(I)}}class pc extends fc{constructor(y){super("totp",y)}static _fromServerResponse(y,I){return new pc(I)}}function gc(T,y,I){var S;W((null===(S=I.url)||void 0===S?void 0:S.length)>0,T,"invalid-continue-uri"),W(typeof I.dynamicLinkDomain>"u"||I.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),y.continueUrl=I.url,y.dynamicLinkDomain=I.dynamicLinkDomain,y.canHandleCodeInApp=I.handleCodeInApp,I.iOS&&(W(I.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),y.iOSBundleId=I.iOS.bundleId),I.android&&(W(I.android.packageName.length>0,T,"missing-android-pkg-name"),y.androidInstallApp=I.android.installApp,y.androidMinimumVersionCode=I.android.minimumVersion,y.androidPackageName=I.android.packageName)}function Tl(T,y,I){return mc.apply(this,arguments)}function mc(){return mc=(0,_.Z)(function*(T,y,I){var S;const P=er(T),F={requestType:"PASSWORD_RESET",email:y,clientType:"CLIENT_TYPE_WEB"};if(null!==(S=P._getRecaptchaConfig())&&void 0!==S&&S.emailPasswordEnabled){const ne=yield ki(P,F,"getOobCode",!0);I&&gc(P,ne,I),yield Ro(P,ne)}else I&&gc(P,F,I),yield Ro(P,F).catch(function(){var ne=(0,_.Z)(function*(we){if("auth/missing-recaptcha-token"!==we.code)return Promise.reject(we);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const ot=yield ki(P,F,"getOobCode",!0);I&&gc(P,ot,I),yield Ro(P,ot)}});return function(we){return ne.apply(this,arguments)}}())}),mc.apply(this,arguments)}function Nf(T,y,I){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,_.Z)(function*(T,y,I){yield bu((0,G.m9)(T),{oobCode:y,newPassword:I})})).apply(this,arguments)}function om(T,y){return xu.apply(this,arguments)}function xu(){return xu=(0,_.Z)(function*(T,y){yield function ml(T,y){return vi.apply(this,arguments)}((0,G.m9)(T),{oobCode:y})}),xu.apply(this,arguments)}function Fa(T,y){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,_.Z)(function*(T,y){const I=(0,G.m9)(T),S=yield bu(I,{oobCode:y}),P=S.requestType;switch(W(P,I,"internal-error"),P){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(S.newEmail,I,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(S.mfaInfo,I,"internal-error");default:W(S.email,I,"internal-error")}let F=null;return S.mfaInfo&&(F=fc._fromServerResponse(er(I),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:F},operation:P}})).apply(this,arguments)}function Kd(T,y){return ur.apply(this,arguments)}function ur(){return(ur=(0,_.Z)(function*(T,y){const{data:I}=yield Fa((0,G.m9)(T),y);return I.email})).apply(this,arguments)}function Zd(T,y,I){return am.apply(this,arguments)}function am(){return am=(0,_.Z)(function*(T,y,I){var S;const P=er(T),F={returnSecureToken:!0,email:y,password:I,clientType:"CLIENT_TYPE_WEB"};let ne;if(null!==(S=P._getRecaptchaConfig())&&void 0!==S&&S.emailPasswordEnabled){const ut=yield ki(P,F,"signUpPassword");ne=hc(P,ut)}else ne=hc(P,F).catch(function(){var ut=(0,_.Z)(function*(St){if("auth/missing-recaptcha-token"===St.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const dn=yield ki(P,F,"signUpPassword");return hc(P,dn)}return Promise.reject(St)});return function(St){return ut.apply(this,arguments)}}());const we=yield ne.catch(ut=>Promise.reject(ut)),ot=yield qn._fromIdTokenResponse(P,"signIn",we);return yield P._updateCurrentUser(ot.user),ot}),am.apply(this,arguments)}function Va(T,y,I){return wl((0,G.m9)(T),mn.credential(y,I))}function oa(T,y,I){return aa.apply(this,arguments)}function aa(){return aa=(0,_.Z)(function*(T,y,I){var S;const P=er(T),F={requestType:"EMAIL_SIGNIN",email:y,clientType:"CLIENT_TYPE_WEB"};function ne(we,ot){W(ot.handleCodeInApp,P,"argument-error"),ot&&gc(P,we,ot)}if(null!==(S=P._getRecaptchaConfig())&&void 0!==S&&S.emailPasswordEnabled){const we=yield ki(P,F,"getOobCode",!0);ne(we,I),yield Po(P,we)}else ne(F,I),yield Po(P,F).catch(function(){var we=(0,_.Z)(function*(ot){if("auth/missing-recaptcha-token"!==ot.code)return Promise.reject(ot);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ut=yield ki(P,F,"getOobCode",!0);ne(ut,I),yield Po(P,ut)}});return function(ot){return we.apply(this,arguments)}}())}),aa.apply(this,arguments)}function sv(T,y){const I=dr.parseLink(y);return"EMAIL_SIGNIN"===I?.operation}function zI(T,y,I){return Al.apply(this,arguments)}function Al(){return(Al=(0,_.Z)(function*(T,y,I){const S=(0,G.m9)(T),P=mn.credentialWithLink(y,I||rn());return W(P._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),wl(S,P)})).apply(this,arguments)}function ua(){return(ua=(0,_.Z)(function*(T,y){return Ne(T,"POST","/v1/accounts:createAuthUri",Ie(T,y))})).apply(this,arguments)}function Cl(T,y){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,_.Z)(function*(T,y){const S={identifier:y,continueUri:zn()?rn():"http://localhost"},{signinMethods:P}=yield function Of(T,y){return ua.apply(this,arguments)}((0,G.m9)(T),S);return P||[]}),Qd.apply(this,arguments)}function GI(T,y){return kf.apply(this,arguments)}function kf(){return kf=(0,_.Z)(function*(T,y){const I=(0,G.m9)(T),P={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};y&&gc(I.auth,P,y);const{email:F}=yield function ii(T,y){return si.apply(this,arguments)}(I.auth,P);F!==T.email&&(yield T.reload())}),kf.apply(this,arguments)}function Mu(T,y,I){return Ru.apply(this,arguments)}function Ru(){return Ru=(0,_.Z)(function*(T,y,I){const S=(0,G.m9)(T),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:y};I&&gc(S.auth,F,I);const{email:ne}=yield function ka(T,y){return Au.apply(this,arguments)}(S.auth,F);ne!==T.email&&(yield T.reload())}),Ru.apply(this,arguments)}function _c(){return(_c=(0,_.Z)(function*(T,y){return Ne(T,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Dl(T,y){return yc.apply(this,arguments)}function yc(){return yc=(0,_.Z)(function*(T,{displayName:y,photoURL:I}){if(void 0===y&&void 0===I)return;const S=(0,G.m9)(T),F={idToken:yield S.getIdToken(),displayName:y,photoUrl:I,returnSecureToken:!0},ne=yield _i(S,function Yd(T,y){return _c.apply(this,arguments)}(S.auth,F));S.displayName=ne.displayName||null,S.photoURL=ne.photoUrl||null;const we=S.providerData.find(({providerId:ot})=>"password"===ot);we&&(we.displayName=S.displayName,we.photoURL=S.photoURL),yield S._updateTokensIfNecessary(ne)}),yc.apply(this,arguments)}function Ff(T,y){return xl((0,G.m9)(T),y,null)}function Sl(T,y){return xl((0,G.m9)(T),null,y)}function xl(T,y,I){return vc.apply(this,arguments)}function vc(){return(vc=(0,_.Z)(function*(T,y,I){const{auth:S}=T,F={idToken:yield T.getIdToken(),returnSecureToken:!0};y&&(F.email=y),I&&(F.password=I);const ne=yield _i(T,Tu(S,F));yield T._updateTokensIfNecessary(ne,!0)})).apply(this,arguments)}class La{constructor(y,I,S={}){this.isNewUser=y,this.providerId=I,this.profile=S}}class um extends La{constructor(y,I,S,P){super(y,I,S),this.username=P}}class rs extends La{constructor(y,I){super(y,"facebook.com",I)}}class Ml extends um{constructor(y,I){super(y,"github.com",I,"string"==typeof I?.login?I?.login:null)}}class Rl extends La{constructor(y,I){super(y,"google.com",I)}}class Nn extends um{constructor(y,I,S){super(y,"twitter.com",I,S)}}function Lf(T){const{user:y,_tokenResponse:I}=T;return y.isAnonymous&&!I?{providerId:null,isNewUser:!1,profile:null}:function Vf(T){var y,I;if(!T)return null;const{providerId:S}=T,P=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},F=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!S&&T?.idToken){const ne=null===(I=null===(y=Mt(T.idToken))||void 0===y?void 0:y.firebase)||void 0===I?void 0:I.sign_in_provider;if(ne)return new La(F,"anonymous"!==ne&&"custom"!==ne?ne:null)}if(!S)return null;switch(S){case"facebook.com":return new rs(F,P);case"github.com":return new Ml(F,P);case"google.com":return new Rl(F,P);case"twitter.com":return new Nn(F,P,T.screenName||null);case"custom":case"anonymous":return new La(F,null);default:return new La(F,S,P)}}(I)}class ao{constructor(y,I,S){this.type=y,this.credential=I,this.auth=S}static _fromIdtoken(y,I){return new ao("enroll",y,I)}static _fromMfaPendingCredential(y){return new ao("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var I,S;if(y?.multiFactorSession){if(null!==(I=y.multiFactorSession)&&void 0!==I&&I.pendingCredential)return ao._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(S=y.multiFactorSession)&&void 0!==S&&S.idToken)return ao._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Pu{constructor(y,I,S){this.session=y,this.hints=I,this.signInResolver=S}static _fromError(y,I){const S=er(y),P=I.customData._serverResponse,F=(P.mfaInfo||[]).map(we=>fc._fromServerResponse(S,we));W(P.mfaPendingCredential,S,"internal-error");const ne=ao._fromMfaPendingCredential(P.mfaPendingCredential);return new Pu(ne,F,function(){var we=(0,_.Z)(function*(ot){const ut=yield ot._process(S,ne);delete P.mfaInfo,delete P.mfaPendingCredential;const St=Object.assign(Object.assign({},P),{idToken:ut.idToken,refreshToken:ut.refreshToken});switch(I.operationType){case"signIn":const dn=yield qn._fromIdTokenResponse(S,I.operationType,St);return yield S._updateCurrentUser(dn.user),dn;case"reauthenticate":return W(I.user,S,"internal-error"),qn._forOperation(I.user,I.operationType,St);default:Be(S,"internal-error")}});return function(ot){return we.apply(this,arguments)}}())}resolveSignIn(y){var I=this;return(0,_.Z)(function*(){return I.signInResolver(y)})()}}function eh(T,y){var I;const S=(0,G.m9)(T),P=y;return W(y.customData.operationType,S,"argument-error"),W(null===(I=P.customData._serverResponse)||void 0===I?void 0:I.mfaPendingCredential,S,"argument-error"),Pu._fromError(S,P)}class Ec{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(I=>{I.mfaInfo&&(this.enrolledFactors=I.mfaInfo.map(S=>fc._fromServerResponse(y.auth,S)))})}static _fromUser(y){return new Ec(y)}getSession(){var y=this;return(0,_.Z)(function*(){return ao._fromIdtoken(yield y.user.getIdToken(),y.user.auth)})()}enroll(y,I){var S=this;return(0,_.Z)(function*(){const P=y,F=yield S.getSession(),ne=yield _i(S.user,P._process(S.user.auth,F,I));return yield S.user._updateTokensIfNecessary(ne),S.user.reload()})()}unenroll(y){var I=this;return(0,_.Z)(function*(){const S="string"==typeof y?y:y.uid,P=yield I.user.getIdToken();try{const F=yield _i(I.user,function $f(T,y){return Ne(T,"POST","/v2/accounts/mfaEnrollment:withdraw",Ie(T,y))}(I.user.auth,{idToken:P,mfaEnrollmentId:S}));I.enrolledFactors=I.enrolledFactors.filter(({uid:ne})=>ne!==S),yield I.user._updateTokensIfNecessary(F),yield I.user.reload()}catch(F){throw F}})()}}const Nl=new WeakMap;function Ic(T){const y=(0,G.m9)(T);return Nl.has(y)||Nl.set(y,Ec._fromUser(y)),Nl.get(y)}const Ol="__sak";class kl{constructor(y,I){this.storageRetriever=y,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(Ol,"1"),this.storage.removeItem(Ol),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,I){return this.storage.setItem(y,JSON.stringify(I)),Promise.resolve()}_get(y){const I=this.storage.getItem(y);return Promise.resolve(I?JSON.parse(I):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fl=(()=>{class T extends kl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(I,S)=>this.onStorageEvent(I,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ja(){const T=(0,G.z$)();return Te(T)||Z(T)}()&&function Nt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Rt(),this._shouldAllowMigration=!0}forAllChangedKeys(I){for(const S of Object.keys(this.listeners)){const P=this.storage.getItem(S),F=this.localCache[S];P!==F&&I(S,F,P)}}onStorageEvent(I,S=!1){if(!I.key)return void this.forAllChangedKeys((we,ot,ut)=>{this.notifyListeners(we,ut)});const P=I.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const we=this.storage.getItem(P);if(I.newValue!==we)null!==I.newValue?this.storage.setItem(P,I.newValue):this.storage.removeItem(P);else if(this.localCache[P]===I.newValue&&!S)return}const F=()=>{const we=this.storage.getItem(P);!S&&this.localCache[P]===we||this.notifyListeners(P,we)},ne=this.storage.getItem(P);!function it(){return(0,G.w1)()&&10===document.documentMode}()||ne===I.newValue||I.newValue===I.oldValue?F():setTimeout(F,10)}notifyListeners(I,S){this.localCache[I]=S;const P=this.listeners[I];if(P)for(const F of Array.from(P))F(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((I,S,P)=>{this.onStorageEvent(new StorageEvent("storage",{key:I,oldValue:S,newValue:P}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(I,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[I]||(this.listeners[I]=new Set,this.localCache[I]=this.storage.getItem(I)),this.listeners[I].add(S)}_removeListener(I,S){this.listeners[I]&&(this.listeners[I].delete(S),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(I,S){var P=()=>super._set,F=this;return(0,_.Z)(function*(){yield P().call(F,I,S),F.localCache[I]=JSON.stringify(S)})()}_get(I){var S=()=>super._get,P=this;return(0,_.Z)(function*(){const F=yield S().call(P,I);return P.localCache[I]=JSON.stringify(F),F})()}_remove(I){var S=()=>super._remove,P=this;return(0,_.Z)(function*(){yield S().call(P,I),delete P.localCache[I]})()}}return T.type="LOCAL",T})(),je=(()=>{class T extends kl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(I,S){}_removeListener(I,S){}}return T.type="SESSION",T})();let Vl=(()=>{class T{constructor(I){this.eventTarget=I,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(I){const S=this.receivers.find(F=>F.isListeningto(I));if(S)return S;const P=new T(I);return this.receivers.push(P),P}isListeningto(I){return this.eventTarget===I}handleEvent(I){var S=this;return(0,_.Z)(function*(){const P=I,{eventId:F,eventType:ne,data:we}=P.data,ot=S.handlersMap[ne];if(!ot?.size)return;P.ports[0].postMessage({status:"ack",eventId:F,eventType:ne});const ut=Array.from(ot).map(function(){var dn=(0,_.Z)(function*(li){return li(P.origin,we)});return function(li){return dn.apply(this,arguments)}}()),St=yield function An(T){return Promise.all(T.map(function(){var y=(0,_.Z)(function*(I){try{return{fulfilled:!0,value:yield I}}catch(S){return{fulfilled:!1,reason:S}}});return function(I){return y.apply(this,arguments)}}()))}(ut);P.ports[0].postMessage({status:"done",eventId:F,eventType:ne,response:St})})()}_subscribe(I,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[I]||(this.handlersMap[I]=new Set),this.handlersMap[I].add(S)}_unsubscribe(I,S){this.handlersMap[I]&&S&&this.handlersMap[I].delete(S),(!S||0===this.handlersMap[I].size)&&delete this.handlersMap[I],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function Nu(T="",y=10){let I="";for(let S=0;S<y;S++)I+=Math.floor(10*Math.random());return T+I}class ai{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,I,S=50){var P=this;return(0,_.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let ne,we;return new Promise((ot,ut)=>{const St=Nu("",20);F.port1.start();const dn=setTimeout(()=>{ut(new Error("unsupported_event"))},S);we={messageChannel:F,onMessage(li){const bs=li;if(bs.data.eventId===St)switch(bs.data.status){case"ack":clearTimeout(dn),ne=setTimeout(()=>{ut(new Error("timeout"))},3e3);break;case"done":clearTimeout(ne),ot(bs.data.response);break;default:clearTimeout(dn),clearTimeout(ne),ut(new Error("invalid_response"))}}},P.handlers.add(we),F.port1.addEventListener("message",we.onMessage),P.target.postMessage({eventType:y,eventId:St,data:I},[F.port2])}).finally(()=>{we&&P.removeMessageHandler(we)})})()}}function fr(){return window}function vs(){return typeof fr().WorkerGlobalScope<"u"&&"function"==typeof fr().importScripts}function Ou(){return(Ou=(0,_.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const rh="firebaseLocalStorageDb",os="firebaseLocalStorage",ih="fbase_key";class Fo{constructor(y){this.request=y}toPromise(){return new Promise((y,I)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function as(T,y){return T.transaction([os],y?"readwrite":"readonly").objectStore(os)}function ku(){const T=indexedDB.open(rh,1);return new Promise((y,I)=>{T.addEventListener("error",()=>{I(T.error)}),T.addEventListener("upgradeneeded",()=>{const S=T.result;try{S.createObjectStore(os,{keyPath:ih})}catch(P){I(P)}}),T.addEventListener("success",(0,_.Z)(function*(){const S=T.result;S.objectStoreNames.contains(os)?y(S):(S.close(),yield function cv(){const T=indexedDB.deleteDatabase(rh);return new Fo(T).toPromise()}(),y(yield ku()))}))})}function Gf(T,y,I){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,_.Z)(function*(T,y,I){const S=as(T,!0).put({[ih]:y,value:I});return new Fo(S).toPromise()})).apply(this,arguments)}function bc(){return(bc=(0,_.Z)(function*(T,y){const I=as(T,!1).get(y),S=yield new Fo(I).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function sh(T,y){const I=as(T,!0).delete(y);return new Fo(I).toPromise()}const Hf=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var I=this;return(0,_.Z)(function*(){return I.db||(I.db=yield ku()),I.db})()}_withRetries(I){var S=this;return(0,_.Z)(function*(){let P=0;for(;;)try{const F=yield S._openDb();return yield I(F)}catch(F){if(P++>3)throw F;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var I=this;return(0,_.Z)(function*(){return vs()?I.initializeReceiver():I.initializeSender()})()}initializeReceiver(){var I=this;return(0,_.Z)(function*(){I.receiver=Vl._getInstance(function lm(){return vs()?self:null}()),I.receiver._subscribe("keyChanged",function(){var S=(0,_.Z)(function*(P,F){return{keyProcessed:(yield I._poll()).includes(F.key)}});return function(P,F){return S.apply(this,arguments)}}()),I.receiver._subscribe("ping",function(){var S=(0,_.Z)(function*(P,F){return["keyChanged"]});return function(P,F){return S.apply(this,arguments)}}())})()}initializeSender(){var I=this;return(0,_.Z)(function*(){var S,P;if(I.activeServiceWorker=yield function wc(){return Ou.apply(this,arguments)}(),!I.activeServiceWorker)return;I.sender=new ai(I.activeServiceWorker);const F=yield I.sender._send("ping",{},800);F&&null!==(S=F[0])&&void 0!==S&&S.fulfilled&&null!==(P=F[0])&&void 0!==P&&P.value.includes("keyChanged")&&(I.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(I){var S=this;return(0,_.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function zf(){var T;return(null===(T=navigator?.serviceWorker)||void 0===T?void 0:T.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:I},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const I=yield ku();return yield Gf(I,Ol,"1"),yield sh(I,Ol),!0}catch{}return!1})()}_withPendingWrite(I){var S=this;return(0,_.Z)(function*(){S.pendingWrites++;try{yield I()}finally{S.pendingWrites--}})()}_set(I,S){var P=this;return(0,_.Z)(function*(){return P._withPendingWrite((0,_.Z)(function*(){return yield P._withRetries(F=>Gf(F,I,S)),P.localCache[I]=S,P.notifyServiceWorker(I)}))})()}_get(I){var S=this;return(0,_.Z)(function*(){const P=yield S._withRetries(F=>function Es(T,y){return bc.apply(this,arguments)}(F,I));return S.localCache[I]=P,P})()}_remove(I){var S=this;return(0,_.Z)(function*(){return S._withPendingWrite((0,_.Z)(function*(){return yield S._withRetries(P=>sh(P,I)),delete S.localCache[I],S.notifyServiceWorker(I)}))})()}_poll(){var I=this;return(0,_.Z)(function*(){const S=yield I._withRetries(ne=>{const we=as(ne,!1).getAll();return new Fo(we).toPromise()});if(!S)return[];if(0!==I.pendingWrites)return[];const P=[],F=new Set;for(const{fbase_key:ne,value:we}of S)F.add(ne),JSON.stringify(I.localCache[ne])!==JSON.stringify(we)&&(I.notifyListeners(ne,we),P.push(ne));for(const ne of Object.keys(I.localCache))I.localCache[ne]&&!F.has(ne)&&(I.notifyListeners(ne,null),P.push(ne));return P})()}notifyListeners(I,S){this.localCache[I]=S;const P=this.listeners[I];if(P)for(const F of Array.from(P))F(S)}startPolling(){var I=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return I._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(I,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[I]||(this.listeners[I]=new Set,this._get(I)),this.listeners[I].add(S)}_removeListener(I,S){this.listeners[I]&&(this.listeners[I].delete(S),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})(),oh=1e12;class hv{constructor(y){this.auth=y,this.counter=oh,this._widgets=new Map}render(y,I){const S=this.counter;return this._widgets.set(S,new Li(y,this.auth.name,I||{})),this.counter++,S}reset(y){var I;const S=y||oh;null===(I=this._widgets.get(S))||void 0===I||I.delete(),this._widgets.delete(S)}getResponse(y){var I;return(null===(I=this._widgets.get(y||oh))||void 0===I?void 0:I.getResponse())||""}execute(y){var I=this;return(0,_.Z)(function*(){var S;return null===(S=I._widgets.get(y||oh))||void 0===S||S.execute(),""})()}}class Li{constructor(y,I,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const P="string"==typeof y?document.getElementById(y):y;W(P,"argument-error",{appName:I}),this.container=P,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Fu(T){const y=[],I="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<T;S++)y.push(I.charAt(Math.floor(62*Math.random())));return y.join("")}(50);const{callback:y,"expired-callback":I}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,I)try{I()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const sr=Ud("rcb"),fm=new Xn(3e4,6e4);class fv{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=fr().grecaptcha)||void 0===y||!y.render)}load(y,I=""){return W(function ah(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(I),y,"argument-error"),this.shouldResolveImmediately(I)&&Xi(fr().grecaptcha)?Promise.resolve(fr().grecaptcha):new Promise((S,P)=>{const F=fr().setTimeout(()=>{P(Re(y,"network-request-failed"))},fm.get());fr()[sr]=()=>{fr().clearTimeout(F),delete fr()[sr];const we=fr().grecaptcha;if(!we||!Xi(we))return void P(Re(y,"internal-error"));const ot=we.render;we.render=(ut,St)=>{const dn=ot(ut,St);return this.counter++,dn},this.hostLanguage=I,S(we)},Iu(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:sr,render:"explicit",hl:I})}`).catch(()=>{clearTimeout(F),P(Re(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var I;return!(null===(I=fr().grecaptcha)||void 0===I||!I.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class za{load(y){return(0,_.Z)(function*(){return new hv(y)})()}clearedOneInstance(){}}const Kf="recaptcha",uh={theme:"light",type:"image"};class Ga{constructor(y,I=Object.assign({},uh),S){this.parameters=I,this.type=Kf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=er(S),this.isInvisible="invisible"===this.parameters.size,W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const P="string"==typeof y?document.getElementById(y):y;W(P,this.auth,"argument-error"),this.container=P,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new za:new fv,this.validateStartingState()}verify(){var y=this;return(0,_.Z)(function*(){y.assertNotDestroyed();const I=yield y.render(),S=y.getAssertedRecaptcha();return S.getResponse(I)||new Promise(F=>{const ne=we=>{we&&(y.tokenChangeListeners.delete(ne),F(we))};y.tokenChangeListeners.add(ne),y.isInvisible&&S.execute(I)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return I=>{if(this.tokenChangeListeners.forEach(S=>S(I)),"function"==typeof y)y(I);else if("string"==typeof y){const S=fr()[y];"function"==typeof S&&S(I)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,_.Z)(function*(){if(yield y.init(),!y.widgetId){let I=y.container;if(!y.isInvisible){const S=document.createElement("div");I.appendChild(S),I=S}y.widgetId=y.getAssertedRecaptcha().render(I,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,_.Z)(function*(){W(zn()&&!vs(),y.auth,"internal-error"),yield function pv(){let T=null;return new Promise(y=>{"complete"!==document.readyState?(T=()=>y(),window.addEventListener("load",T)):y()}).catch(y=>{throw T&&window.removeEventListener("load",T),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const I=yield function jr(T){return Nr.apply(this,arguments)}(y.auth);W(I,y.auth,"internal-error"),y.parameters.sitekey=I})()}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Bi{constructor(y,I){this.verificationId=y,this.onConfirmation=I}confirm(y){const I=xt._fromVerification(this.verificationId,y);return this.onConfirmation(I)}}function ca(T,y,I){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,_.Z)(function*(T,y,I){const S=er(T),P=yield uo(S,y,(0,G.m9)(I));return new Bi(P,F=>wl(S,F))})).apply(this,arguments)}function pr(T,y,I){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,_.Z)(function*(T,y,I){const S=(0,G.m9)(T);yield El(!1,S,"phone");const P=yield uo(S.auth,y,(0,G.m9)(I));return new Bi(P,F=>rm(S,F))})).apply(this,arguments)}function Ui(T,y,I){return ch.apply(this,arguments)}function ch(){return(ch=(0,_.Z)(function*(T,y,I){const S=(0,G.m9)(T),P=yield uo(S.auth,y,(0,G.m9)(I));return new Bi(P,F=>iv(S,F))})).apply(this,arguments)}function uo(T,y,I){return la.apply(this,arguments)}function la(){return la=(0,_.Z)(function*(T,y,I){var S;const P=yield I.verify();try{let F;if(W("string"==typeof P,T,"argument-error"),W(I.type===Kf,T,"argument-error"),F="string"==typeof y?{phoneNumber:y}:y,"session"in F){const ne=F.session;if("phoneNumber"in F)return W("enroll"===ne.type,T,"internal-error"),(yield function Uf(T,y){return Ne(T,"POST","/v2/accounts/mfaEnrollment:start",Ie(T,y))}(T,{idToken:ne.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:P}})).phoneSessionInfo.sessionInfo;{W("signin"===ne.type,T,"internal-error");const we=(null===(S=F.multiFactorHint)||void 0===S?void 0:S.uid)||F.multiFactorUid;return W(we,T,"missing-multi-factor-info"),(yield function lv(T,y){return Ne(T,"POST","/v2/accounts/mfaSignIn:start",Ie(T,y))}(T,{mfaPendingCredential:ne.credential,mfaEnrollmentId:we,phoneSignInInfo:{recaptchaToken:P}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ne}=yield function tr(T,y){return no.apply(this,arguments)}(T,{phoneNumber:F.phoneNumber,recaptchaToken:P});return ne}}finally{I._reset()}}),la.apply(this,arguments)}function pm(T,y){return lh.apply(this,arguments)}function lh(){return(lh=(0,_.Z)(function*(T,y){yield Hd((0,G.m9)(T),y)})).apply(this,arguments)}let Ul=(()=>{class T{constructor(I){this.providerId=T.PROVIDER_ID,this.auth=er(I)}verifyPhoneNumber(I,S){return uo(this.auth,I,(0,G.m9)(S))}static credential(I,S){return xt._fromVerification(I,S)}static credentialFromResult(I){return T.credentialFromTaggedObject(I)}static credentialFromError(I){return T.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{phoneNumber:S,temporaryProof:P}=I;return S&&P?xt._fromTokenResponse(S,P):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function Bs(T,y){return y?Gt(y):(W(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class Cn extends dc{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Ar(y,this._buildIdpRequest())}_linkToIdToken(y,I){return Ar(y,this._buildIdpRequest(I))}_getReauthenticationResolver(y){return Ar(y,this._buildIdpRequest())}_buildIdpRequest(y){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(I.idToken=y),I}}function dh(T){return nm(T.auth,new Cn(T),T.bypassAuthState)}function Zf(T){const{auth:y,user:I}=T;return W(I,y,"internal-error"),xf(I,new Cn(T),T.bypassAuthState)}function gm(T){return da.apply(this,arguments)}function da(){return(da=(0,_.Z)(function*(T){const{auth:y,user:I}=T;return W(I,y,"internal-error"),Hd(I,new Cn(T),T.bypassAuthState)})).apply(this,arguments)}class ha{constructor(y,I,S,P,F=!1){this.auth=y,this.resolver=S,this.user=P,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){var y=this;return new Promise(function(){var I=(0,_.Z)(function*(S,P){y.pendingPromise={resolve:S,reject:P};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(F){y.reject(F)}});return function(S,P){return I.apply(this,arguments)}}())}onAuthEvent(y){var I=this;return(0,_.Z)(function*(){const{urlResponse:S,sessionId:P,postBody:F,tenantId:ne,error:we,type:ot}=y;if(we)return void I.reject(we);const ut={auth:I.auth,requestUri:S,sessionId:P,tenantId:ne||void 0,postBody:F||void 0,user:I.user,bypassAuthState:I.bypassAuthState};try{I.resolve(yield I.getIdpTask(ot)(ut))}catch(St){I.reject(St)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return dh;case"linkViaPopup":case"linkViaRedirect":return gm;case"reauthViaPopup":case"reauthViaRedirect":return Zf;default:Be(this.auth,"internal-error")}}resolve(y){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Us=new Xn(2e3,1e4);function jl(T,y,I){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,_.Z)(function*(T,y,I){const S=er(T);qe(T,y,vr);const P=Bs(S,I);return new qa(S,"signInViaPopup",y,P).executeNotNull()})).apply(this,arguments)}function Is(T,y,I){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,_.Z)(function*(T,y,I){const S=(0,G.m9)(T);qe(S.auth,y,vr);const P=Bs(S.auth,I);return new qa(S.auth,"reauthViaPopup",y,P,S).executeNotNull()})).apply(this,arguments)}function hh(T,y,I){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,_.Z)(function*(T,y,I){const S=(0,G.m9)(T);qe(S.auth,y,vr);const P=Bs(S.auth,I);return new qa(S.auth,"linkViaPopup",y,P,S).executeNotNull()})).apply(this,arguments)}let qa=(()=>{class T extends ha{constructor(I,S,P,F,ne){super(I,S,F,ne),this.provider=P,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var I=this;return(0,_.Z)(function*(){const S=yield I.execute();return W(S,I.auth,"internal-error"),S})()}onExecution(){var I=this;return(0,_.Z)(function*(){ve(1===I.filter.length,"Popup operations only handle one event");const S=Nu();I.authWindow=yield I.resolver._openPopup(I.auth,I.provider,I.filter[0],S),I.authWindow.associatedEvent=S,I.resolver._originValidation(I.auth).catch(P=>{I.reject(P)}),I.resolver._isIframeWebStorageSupported(I.auth,P=>{P||I.reject(Re(I.auth,"web-storage-unsupported"))}),I.pollUserCancellation()})()}get eventId(){var I;return(null===(I=this.authWindow)||void 0===I?void 0:I.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const I=()=>{var S,P;this.pollId=null!==(P=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==P&&P.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(I,Us.get())};I()}}return T.currentPopupAction=null,T})();const co="pendingRedirect",Lo=new Map;class Wa extends ha{constructor(y,I,S=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,S),this.eventId=null}execute(){var y=()=>super.execute,I=this;return(0,_.Z)(function*(){let S=Lo.get(I.auth._key());if(!S){try{const F=(yield function Vu(T,y){return $l.apply(this,arguments)}(I.resolver,I.auth))?yield y().call(I):null;S=()=>Promise.resolve(F)}catch(P){S=()=>Promise.reject(P)}Lo.set(I.auth._key(),S)}return I.bypassAuthState||Lo.set(I.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(y){var I=()=>super.onAuthEvent,S=this;return(0,_.Z)(function*(){if("signInViaRedirect"===y.type)return I().call(S,y);if("unknown"!==y.type){if(y.eventId){const P=yield S.auth._redirectUserForId(y.eventId);if(P)return S.user=P,I().call(S,y);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function $l(){return($l=(0,_.Z)(function*(T,y){const I=zl(y),S=Dc(T);if(!(yield S._isAvailable()))return!1;const P="true"===(yield S._get(I));return yield S._remove(I),P})).apply(this,arguments)}function Bo(T,y){return us.apply(this,arguments)}function us(){return(us=(0,_.Z)(function*(T,y){return Dc(T)._set(zl(y),"true")})).apply(this,arguments)}function Qf(){Lo.clear()}function ji(T,y){Lo.set(T._key(),y)}function Dc(T){return Gt(T._redirectPersistence)}function zl(T){return Gn(co,T.config.apiKey,T.name)}function Uo(T,y,I){return function kr(T,y,I){return lo.apply(this,arguments)}(T,y,I)}function lo(){return(lo=(0,_.Z)(function*(T,y,I){const S=er(T);qe(T,y,vr),yield S._initializationPromise;const P=Bs(S,I);return yield Bo(P,S),P._openRedirect(S,y,"signInViaRedirect")})).apply(this,arguments)}function fa(T,y,I){return function jo(T,y,I){return zr.apply(this,arguments)}(T,y,I)}function zr(){return(zr=(0,_.Z)(function*(T,y,I){const S=(0,G.m9)(T);qe(S.auth,y,vr),yield S.auth._initializationPromise;const P=Bs(S.auth,I);yield Bo(P,S.auth);const F=yield ph(S);return P._openRedirect(S.auth,y,"reauthViaRedirect",F)})).apply(this,arguments)}function Sc(T,y,I){return function Ka(T,y,I){return fh.apply(this,arguments)}(T,y,I)}function fh(){return(fh=(0,_.Z)(function*(T,y,I){const S=(0,G.m9)(T);qe(S.auth,y,vr),yield S.auth._initializationPromise;const P=Bs(S.auth,I);yield El(!1,S,y.providerId),yield Bo(P,S.auth);const F=yield ph(S);return P._openRedirect(S.auth,y,"linkViaRedirect",F)})).apply(this,arguments)}function ws(T,y){return $o.apply(this,arguments)}function $o(){return($o=(0,_.Z)(function*(T,y){return yield er(T)._initializationPromise,ui(T,y,!1)})).apply(this,arguments)}function ui(T,y){return zo.apply(this,arguments)}function zo(){return(zo=(0,_.Z)(function*(T,y,I=!1){const S=er(T),P=Bs(S,y),ne=yield new Wa(S,P,I).execute();return ne&&!I&&(delete ne.user._redirectEventId,yield S._persistUserIfCurrent(ne.user),yield S._setRedirectUser(null,y)),ne})).apply(this,arguments)}function ph(T){return pa.apply(this,arguments)}function pa(){return(pa=(0,_.Z)(function*(T){const y=Nu(`${T.uid}:::`);return T._redirectEventId=y,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),y})).apply(this,arguments)}class ho{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let I=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(y,S)&&(I=!0,this.sendToConsumer(y,S),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function en(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lu(T);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=y,I=!0)),I}sendToConsumer(y,I){var S;if(y.error&&!Lu(y)){const P=(null===(S=y.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";I.onError(Re(this.auth,P))}else I.onAuthEvent(y)}isEventForConsumer(y,I){const S=null===I.eventId||!!y.eventId&&y.eventId===I.eventId;return I.filter.includes(y.type)&&S}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yf(y))}saveEventToCache(y){this.cachedEventUids.add(Yf(y)),this.lastProcessedEventTime=Date.now()}}function Yf(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(y=>y).join("-")}function Lu({type:T,error:y}){return"unknown"===T&&"auth/no-auth-event"===y?.code}function Gl(T){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,_.Z)(function*(T,y={}){return Ne(T,"GET","/v1/projects",y)})).apply(this,arguments)}const Hl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qI=/^https?/;function fo(){return(fo=(0,_.Z)(function*(T){if(T.config.emulator)return;const{authorizedDomains:y}=yield Gl(T);for(const I of y)try{if(gv(I))return}catch{}Be(T,"unauthorized-domain")})).apply(this,arguments)}function gv(T){const y=rn(),{protocol:I,hostname:S}=new URL(y);if(T.startsWith("chrome-extension://")){const ne=new URL(T);return""===ne.hostname&&""===S?"chrome-extension:"===I&&T.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===I&&ne.hostname===S}if(!qI.test(I))return!1;if(Hl.test(T))return S===T;const P=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+P+"|"+P+")$","i").test(S)}const mm=new Xn(3e4,6e4);function cs(){const T=fr().___jsl;if(T?.H)for(const y of Object.keys(T.H))if(T.H[y].r=T.H[y].r||[],T.H[y].L=T.H[y].L||[],T.H[y].r=[...T.H[y].L],T.CP)for(let I=0;I<T.CP.length;I++)T.CP[I]=null}let ql=null;const Xf=new Xn(5e3,15e3),Bu="__/auth/iframe",_m="emulator/auth/iframe",$i={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ga(T){const y=T.config;W(y.authDomain,T,"auth-domain-config-required");const I=y.emulator?Ni(y,_m):`https://${T.config.authDomain}/${Bu}`,S={apiKey:y.apiKey,appName:T.name,v:X.SDK_VERSION},P=xc.get(T.config.apiHost);P&&(S.eid=P);const F=T._getFrameworks();return F.length&&(S.fw=F.join(",")),`${I}?${(0,G.xO)(S).slice(1)}`}function Dn(){return Dn=(0,_.Z)(function*(T){const y=yield function gr(T){return ql=ql||function mv(T){return new Promise((y,I)=>{var S,P,F;function ne(){cs(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{cs(),I(Re(T,"network-request-failed"))},timeout:mm.get()})}if(null!==(P=null===(S=fr().gapi)||void 0===S?void 0:S.iframes)&&void 0!==P&&P.Iframe)y(gapi.iframes.getContext());else{if(null===(F=fr().gapi)||void 0===F||!F.load){const we=Ud("iframefcb");return fr()[we]=()=>{gapi.load?ne():I(Re(T,"network-request-failed"))},Iu(`https://apis.google.com/js/api.js?onload=${we}`).catch(ot=>I(ot))}ne()}}).catch(y=>{throw ql=null,y})}(T),ql}(T),I=fr().gapi;return W(I,T,"internal-error"),y.open({where:document.body,url:ga(T),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$i,dontclear:!0},S=>new Promise(function(){var P=(0,_.Z)(function*(F,ne){yield S.restyle({setHideOnLeave:!1});const we=Re(T,"network-request-failed"),ot=fr().setTimeout(()=>{ne(we)},Xf.get());function ut(){fr().clearTimeout(ot),F(S)}S.ping(ut).then(ut,()=>{ne(we)})});return function(F,ne){return P.apply(this,arguments)}}()))}),Dn.apply(this,arguments)}const Wl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Mc{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Rc="__/auth/handler",ym="emulator/auth/handler",gh=encodeURIComponent("fac");function ep(T,y,I,S,P,F){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,_.Z)(function*(T,y,I,S,P,F){W(T.config.authDomain,T,"auth-domain-config-required"),W(T.config.apiKey,T,"invalid-api-key");const ne={apiKey:T.config.apiKey,appName:T.name,authType:I,redirectUrl:S,v:X.SDK_VERSION,eventId:P};if(y instanceof vr){y.setDefaultLanguage(T.languageCode),ne.providerId=y.providerId||"",(0,G.xb)(y.getCustomParameters())||(ne.customParameters=JSON.stringify(y.getCustomParameters()));for(const[St,dn]of Object.entries(F||{}))ne[St]=dn}if(y instanceof ns){const St=y.getScopes().filter(dn=>""!==dn);St.length>0&&(ne.scopes=St.join(","))}T.tenantId&&(ne.tid=T.tenantId);const we=ne;for(const St of Object.keys(we))void 0===we[St]&&delete we[St];const ot=yield T._getAppCheckToken(),ut=ot?`#${gh}=${encodeURIComponent(ot)}`:"";return`${function mh({config:T}){return T.emulator?Ni(T,ym):`https://${T.authDomain}/${Rc}`}(T)}?${(0,G.xO)(we).slice(1)}${ut}`})).apply(this,arguments)}const Ql="webStorageSupport",Pc=class _h{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=je,this._completeRedirectFn=ui,this._overrideRedirectResult=ji}_openPopup(y,I,S,P){var F=this;return(0,_.Z)(function*(){var ne;ve(null===(ne=F.eventManagers[y._key()])||void 0===ne?void 0:ne.manager,"_initialize() not called before _openPopup()");const we=yield ep(y,I,S,rn(),P);return function ju(T,y,I,S=500,P=600){const F=Math.max((window.screen.availHeight-P)/2,0).toString(),ne=Math.max((window.screen.availWidth-S)/2,0).toString();let we="";const ot=Object.assign(Object.assign({},Wl),{width:S.toString(),height:P.toString(),top:F,left:ne}),ut=(0,G.z$)().toLowerCase();I&&(we=fe(ut)?"_blank":I),te(ut)&&(y=y||"http://localhost",ot.scrollbars="yes");const St=Object.entries(ot).reduce((li,[bs,Jl])=>`${li}${bs}=${Jl},`,"");if(function J(T=(0,G.z$)()){var y;return Z(T)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(ut)&&"_self"!==we)return function Kl(T,y){const I=document.createElement("a");I.href=T,I.target=y;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(S)}(y||"",we),new Mc(null);const dn=window.open(y||"",we,St);W(dn,T,"popup-blocked");try{dn.focus()}catch{}return new Mc(dn)}(y,we,Nu())})()}_openRedirect(y,I,S,P){var F=this;return(0,_.Z)(function*(){return yield F._originValidation(y),function Ll(T){fr().location.href=T}(yield ep(y,I,S,rn(),P)),new Promise(()=>{})})()}_initialize(y){const I=y._key();if(this.eventManagers[I]){const{manager:P,promise:F}=this.eventManagers[I];return P?Promise.resolve(P):(ve(F,"If manager is not set, promise should be"),F)}const S=this.initAndGetManager(y);return this.eventManagers[I]={promise:S},S.catch(()=>{delete this.eventManagers[I]}),S}initAndGetManager(y){var I=this;return(0,_.Z)(function*(){const S=yield function ma(T){return Dn.apply(this,arguments)}(y),P=new ho(y);return S.register("authEvent",F=>(W(F?.authEvent,y,"invalid-auth-event"),{status:P.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),I.eventManagers[y._key()]={manager:P},I.iframes[y._key()]=S,P})()}_isIframeWebStorageSupported(y,I){this.iframes[y._key()].send(Ql,{type:Ql},P=>{var F;const ne=null===(F=P?.[0])||void 0===F?void 0:F[Ql];void 0!==ne&&I(!!ne),Be(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const I=y._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function WI(T){return fo.apply(this,arguments)}(y)),this.originValidationPromises[I]}get _shouldInitProactively(){return Rt()||Te()||Z()}};class yh{constructor(y){this.factorId=y}_process(y,I,S){switch(I.type){case"enroll":return this._finalizeEnroll(y,I.credential,S);case"signin":return this._finalizeSignIn(y,I.credential);default:return ce("unexpected MultiFactorSessionType")}}}class Nc extends yh{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Nc(y)}_finalizeEnroll(y,I,S){return function jf(T,y){return Ne(T,"POST","/v2/accounts/mfaEnrollment:finalize",Ie(T,y))}(y,{idToken:I,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,I){return function Tc(T,y){return Ne(T,"POST","/v2/accounts/mfaSignIn:finalize",Ie(T,y))}(y,{mfaPendingCredential:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Oc=(()=>{class T{constructor(){}static assertion(I){return Nc._fromCredential(I)}}return T.FACTOR_ID="phone",T})();var Yl="@firebase/auth";class vm{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var I=this;return(0,_.Z)(function*(){return I.assertAuthConfigured(),yield I.auth._initializationPromise,I.auth.currentUser?{accessToken:yield I.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const I=this.auth.onIdTokenChanged(S=>{y(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(y,I),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const I=this.internalListeners.get(y);I&&(this.internalListeners.delete(y),I(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const $u=(0,G.Pz)("authIdTokenMaxAge")||300;let _v=null;const vh=T=>function(){var y=(0,_.Z)(function*(I){const S=I&&(yield I.getIdTokenResult()),P=S&&((new Date).getTime()-Date.parse(S.issuedAtTime))/1e3;if(P&&P>$u)return;const F=S?.token;_v!==F&&(_v=F,yield fetch(T,{method:F?"POST":"DELETE",headers:F?{Authorization:`Bearer ${F}`}:{}}))});return function(I){return y.apply(this,arguments)}}();function Em(T=(0,X.getApp)()){const y=(0,X._getProvider)(T,"auth");if(y.isInitialized())return y.getImmediate();const I=function ta(T,y){const I=(0,X._getProvider)(T,"auth");if(I.isInitialized()){const P=I.getImmediate(),F=I.getOptions();if((0,G.vZ)(F,y??{}))return P;Be(P,"already-initialized")}return I.initialize({options:y})}(T,{popupRedirectResolver:Pc,persistence:[Hf,Fl,je]}),S=(0,G.Pz)("authTokenSyncURL");if(S){const F=vh(S);(function Pl(T,y,I){(0,G.m9)(T).beforeAuthStateChanged(y,I)})(I,F,()=>F(I.currentUser)),function cm(T,y,I,S){(0,G.m9)(T).onIdTokenChanged(y,I,S)}(I,ne=>F(ne))}const P=(0,G.q4)("auth");return P&&hl(I,`http://${P}`),I}!function Qa(T){(0,X._registerComponent)(new Ke.wA("auth",(y,{options:I})=>{const S=y.getProvider("app").getImmediate(),P=y.getProvider("heartbeat"),F=y.getProvider("app-check-internal"),{apiKey:ne,authDomain:we}=S.options;W(ne&&!ne.includes(":"),"invalid-api-key",{appName:S.name});const ot={apiKey:ne,authDomain:we,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yr(T)},ut=new es(S,P,F,ot);return function lc(T,y){const I=y?.persistence||[],S=(Array.isArray(I)?I:[I]).map(Gt);y?.errorMap&&T._updateErrorMap(y.errorMap),T._initializeWithPersistence(S,y?.popupRedirectResolver)}(ut,I),ut},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,I,S)=>{y.getProvider("auth-internal").initialize()})),(0,X._registerComponent)(new Ke.wA("auth-internal",y=>{const I=er(y.getProvider("auth").getImmediate());return new vm(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,X.registerVersion)(Yl,"0.23.2",function sp(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(T)),(0,X.registerVersion)(Yl,"0.23.2","esm2017")}("Browser")},229:(Bt,$e,j)=>{j.d($e,{L:()=>Ge,LL:()=>Je,Pz:()=>Re,UG:()=>ce,ZB:()=>Fe,ZR:()=>Ne,aH:()=>Be,b$:()=>zn,eu:()=>be,hl:()=>Ee,jU:()=>ve,m9:()=>Gn,ne:()=>_i,pd:()=>Mt,q4:()=>Ct,r3:()=>nn,ru:()=>rn,tV:()=>De,uI:()=>W,vZ:()=>Oi,w1:()=>Zn,xO:()=>eo,xb:()=>mi,z$:()=>le,zd:()=>Mn});const me=function(Q){const H=[];let te=0;for(let Te=0;Te<Q.length;Te++){let fe=Q.charCodeAt(Te);fe<128?H[te++]=fe:fe<2048?(H[te++]=fe>>6|192,H[te++]=63&fe|128):55296==(64512&fe)&&Te+1<Q.length&&56320==(64512&Q.charCodeAt(Te+1))?(fe=65536+((1023&fe)<<10)+(1023&Q.charCodeAt(++Te)),H[te++]=fe>>18|240,H[te++]=fe>>12&63|128,H[te++]=fe>>6&63|128,H[te++]=63&fe|128):(H[te++]=fe>>12|224,H[te++]=fe>>6&63|128,H[te++]=63&fe|128)}return H},Ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,H){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const te=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,Te=[];for(let fe=0;fe<Q.length;fe+=3){const Tt=Q[fe],Ut=fe+1<Q.length,K=Ut?Q[fe+1]:0,B=fe+2<Q.length,Z=B?Q[fe+2]:0;let it=(15&K)<<2|Z>>6,Rt=63&Z;B||(Rt=64,Ut||(it=64)),Te.push(te[Tt>>2],te[(3&Tt)<<4|K>>4],te[it],te[Rt])}return Te.join("")},encodeString(Q,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(Q):this.encodeByteArray(me(Q),H)},decodeString(Q,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(Q):function(Q){const H=[];let te=0,Te=0;for(;te<Q.length;){const fe=Q[te++];if(fe<128)H[Te++]=String.fromCharCode(fe);else if(fe>191&&fe<224){const Tt=Q[te++];H[Te++]=String.fromCharCode((31&fe)<<6|63&Tt)}else if(fe>239&&fe<365){const B=((7&fe)<<18|(63&Q[te++])<<12|(63&Q[te++])<<6|63&Q[te++])-65536;H[Te++]=String.fromCharCode(55296+(B>>10)),H[Te++]=String.fromCharCode(56320+(1023&B))}else{const Tt=Q[te++],Ut=Q[te++];H[Te++]=String.fromCharCode((15&fe)<<12|(63&Tt)<<6|63&Ut)}}return H.join("")}(this.decodeStringToByteArray(Q,H))},decodeStringToByteArray(Q,H){this.init_();const te=H?this.charToByteMapWebSafe_:this.charToByteMap_,Te=[];for(let fe=0;fe<Q.length;){const Tt=te[Q.charAt(fe++)],K=fe<Q.length?te[Q.charAt(fe)]:0;++fe;const Z=fe<Q.length?te[Q.charAt(fe)]:64;++fe;const J=fe<Q.length?te[Q.charAt(fe)]:64;if(++fe,null==Tt||null==K||null==Z||null==J)throw new et;Te.push(Tt<<2|K>>4),64!==Z&&(Te.push(K<<4&240|Z>>2),64!==J&&Te.push(Z<<6&192|J))}return Te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}};class et extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ge=function(Q){return function(Q){const H=me(Q);return Ke.encodeByteArray(H,!0)}(Q).replace(/\./g,"")},De=function(Q){try{return Ke.decodeString(Q,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function Fe(Q,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===Q&&(Q={});break;case Array:Q=[];break;default:return H}for(const te in H)!H.hasOwnProperty(te)||!ht(te)||(Q[te]=Fe(Q[te],H[te]));return Q}function ht(Q){return"__proto__"!==Q}const Le=()=>{try{return function Se(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Q=process.env.__FIREBASE_DEFAULTS__;return Q?JSON.parse(Q):void 0})()||(()=>{if(typeof document>"u")return;let Q;try{Q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=Q&&De(Q[1]);return H&&JSON.parse(H)})()}catch(Q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Q}`)}},Ct=Q=>{var H,te;return null===(te=null===(H=Le())||void 0===H?void 0:H.emulatorHosts)||void 0===te?void 0:te[Q]},Be=()=>{var Q;return null===(Q=Le())||void 0===Q?void 0:Q.config},Re=Q=>{var H;return null===(H=Le())||void 0===H?void 0:H[`_${Q}`]};function le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function W(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(le())}function ce(){var Q;const H=null===(Q=Le())||void 0===Q?void 0:Q.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ve(){return"object"==typeof self&&self.self===self}function rn(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function zn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Zn(){const Q=le();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function Ee(){try{return"object"==typeof indexedDB}catch{return!1}}function be(){return new Promise((Q,H)=>{try{let te=!0;const Te="validate-browser-context-for-indexeddb-analytics-module",fe=self.indexedDB.open(Te);fe.onsuccess=()=>{fe.result.close(),te||self.indexedDB.deleteDatabase(Te),Q(!0)},fe.onupgradeneeded=()=>{te=!1},fe.onerror=()=>{var Tt;H((null===(Tt=fe.error)||void 0===Tt?void 0:Tt.message)||"")}}catch(te){H(te)}})}class Ne extends Error{constructor(H,te,Te){super(te),this.code=H,this.customData=Te,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Je.prototype.create)}}class Je{constructor(H,te,Te){this.service=H,this.serviceName=te,this.errors=Te}create(H,...te){const Te=te[0]||{},fe=`${this.service}/${H}`,Tt=this.errors[H],Ut=Tt?function zt(Q,H){return Q.replace(sn,(te,Te)=>{const fe=H[Te];return null!=fe?String(fe):`<${Te}?>`})}(Tt,Te):"Error";return new Ne(fe,`${this.serviceName}: ${Ut} (${fe}).`,Te)}}const sn=/\{\$([^}]+)}/g;function nn(Q,H){return Object.prototype.hasOwnProperty.call(Q,H)}function mi(Q){for(const H in Q)if(Object.prototype.hasOwnProperty.call(Q,H))return!1;return!0}function Oi(Q,H){if(Q===H)return!0;const te=Object.keys(Q),Te=Object.keys(H);for(const fe of te){if(!Te.includes(fe))return!1;const Tt=Q[fe],Ut=H[fe];if(Xo(Tt)&&Xo(Ut)){if(!Oi(Tt,Ut))return!1}else if(Tt!==Ut)return!1}for(const fe of Te)if(!te.includes(fe))return!1;return!0}function Xo(Q){return null!==Q&&"object"==typeof Q}function eo(Q){const H=[];for(const[te,Te]of Object.entries(Q))Array.isArray(Te)?Te.forEach(fe=>{H.push(encodeURIComponent(te)+"="+encodeURIComponent(fe))}):H.push(encodeURIComponent(te)+"="+encodeURIComponent(Te));return H.length?"&"+H.join("&"):""}function Mn(Q){const H={};return Q.replace(/^\?/,"").split("&").forEach(Te=>{if(Te){const[fe,Tt]=Te.split("=");H[decodeURIComponent(fe)]=decodeURIComponent(Tt)}}),H}function Mt(Q){const H=Q.indexOf("?");if(!H)return"";const te=Q.indexOf("#",H);return Q.substring(H,te>0?te:void 0)}function _i(Q,H){const te=new Ft(Q,H);return te.subscribe.bind(te)}class Ft{constructor(H,te){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=te,this.task.then(()=>{H(this)}).catch(Te=>{this.error(Te)})}next(H){this.forEachObserver(te=>{te.next(H)})}error(H){this.forEachObserver(te=>{te.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,te,Te){let fe;if(void 0===H&&void 0===te&&void 0===Te)throw new Error("Missing Observer.");fe=function Vs(Q,H){if("object"!=typeof Q||null===Q)return!1;for(const te of H)if(te in Q&&"function"==typeof Q[te])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:te,complete:Te},void 0===fe.next&&(fe.next=vn),void 0===fe.error&&(fe.error=vn),void 0===fe.complete&&(fe.complete=vn);const Tt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?fe.error(this.finalError):fe.complete()}catch{}}),this.observers.push(fe),Tt}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let te=0;te<this.observers.length;te++)this.sendOne(te,H)}sendOne(H,te){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{te(this.observers[H])}catch(Te){typeof console<"u"&&console.error&&console.error(Te)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vn(){}function Gn(Q){return Q&&Q._delegate?Q._delegate:Q}},6470:(Bt,$e,j)=>{var _=j(8926);let G=null;function X(){return G}class Pe{}const Ke=new _.OlP("DocumentToken");let et=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:function(){return(0,_.f3M)(Ge)},providedIn:"platform"}),n})();const at=new _.OlP("Location Initialized");let Ge=(()=>{class n extends et{constructor(){super(),this._doc=(0,_.f3M)(Ke),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(t){const r=X().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=X().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function De(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ie(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Fe(n){return n&&"?"!==n[0]?"?"+n:n}let ht=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:function(){return(0,_.f3M)(ft)},providedIn:"root"}),n})();const Se=new _.OlP("appBaseHref");let ft=(()=>{class n extends ht{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,_.f3M)(Ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return De(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Fe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const u=this.prepareExternalUrl(i+Fe(s));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,s){const u=this.prepareExternalUrl(i+Fe(s));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(et),_.LFG(Se,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lt=(()=>{class n extends ht{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=De(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let u=this.prepareExternalUrl(i+Fe(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,s){let u=this.prepareExternalUrl(i+Fe(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(et),_.LFG(Se,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})(),dt=(()=>{class n{constructor(t){this._subject=new _.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Be(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ie(ze(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Fe(r))}normalize(t){return n.stripTrailingSlash(function Ct(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Fe,n.joinWithSlash=De,n.stripTrailingSlash=ie,n.\u0275fac=function(t){return new(t||n)(_.LFG(ht))},n.\u0275prov=_.Yz7({token:n,factory:function(){return function Le(){return new dt((0,_.LFG)(ht))}()},providedIn:"root"}),n})();function ze(n){return n.replace(/\/index.html$/,"")}class $d{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let es=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new $d(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===s?void 0:s);else if(null!==s){const d=r.get(s);r.move(d,u),er(d,i)}});for(let i=0,s=r.length;i<s;i++){const d=r.get(i).context;d.index=i,d.count=s,d.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{er(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},n.\u0275dir=_.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function er(n,e){n.context.$implicit=e.item}let Tu=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),u=-1===i.indexOf("-")?void 0:_.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,u):this._renderer.removeStyle(this._ngEl.nativeElement,i,u)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(_.Y36(_.SBq),_.Y36(_.aQg),_.Y36(_.Qsj))},n.\u0275dir=_.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({}),n})();function dr(n){return"server"===n}let ns=(()=>{class n{}return n.\u0275prov=(0,_.Yz7)({token:n,providedIn:"root",factory:()=>new on((0,_.LFG)(Ke),window)}),n})();class on{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function vl(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const u=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Df(this.window.history)||Df(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Df(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ml extends Pe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Rl extends Ml{static makeCurrent(){!function me(n){G||(G=n)}(new Rl)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Lf(){return Nn=Nn||document.querySelector("base"),Nn?Nn.getAttribute("href"):null}();return null==t?null:function is(n){Ba=Ba||document.createElement("a"),Ba.setAttribute("href",n);const e=Ba.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Nn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function wu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Ba,Nn=null,Pl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();const Ua=new _.OlP("EventManagerPlugins");let Ii=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new _.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Ua),_.LFG(_.R0b))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();class Jd{constructor(e){this._doc=e}}const Bf="ng-app-id";let Xd=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=dr(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Bf}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(Bf),s;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=r,this.platformIsServer&&u.setAttribute(Bf,this.appId),u}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,u=s.get(r)?.elements;u?u.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Ke),_.LFG(_.AFp),_.LFG(_.Ojb,8),_.LFG(_.Lbi))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();const ss={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ao=/%COMP%/g,ov=new _.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ec(n,e){return e.map(t=>t.replace(ao,n))}let Nl=(()=>{class n{constructor(t,r,i,s,u,d,g,E=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=u,this.platformId=d,this.ngZone=g,this.nonce=E,this.rendererByCompId=new Map,this.platformIsServer=dr(d),this.defaultRenderer=new Ic(t,u,g,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===_.ifc.ShadowDom&&(r={...r,encapsulation:_.ifc.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof av?i.applyToHost(t):i instanceof nh&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const u=this.doc,d=this.ngZone,g=this.eventManager,E=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,x=this.platformIsServer;switch(r.encapsulation){case _.ifc.Emulated:s=new av(g,E,r,this.appId,b,u,d,x);break;case _.ifc.ShadowDom:return new th(g,E,t,r,u,d,this.nonce,x);default:s=new nh(g,E,r,b,u,d,x)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Ii),_.LFG(Xd),_.LFG(_.AFp),_.LFG(ov),_.LFG(Ke),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(_.Ojb))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();class Ic{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(ss[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(ja(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ja(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new _.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=ss[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ss[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(_.JOm.DashCase|_.JOm.Important)?e.style.setProperty(t,r,i&_.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&_.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=X().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function ja(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class th extends Ic{constructor(e,t,r,i,s,u,d,g){super(e,s,u,g),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const E=Ec(i.id,i.styles);for(const b of E){const x=document.createElement("style");d&&x.setAttribute("nonce",d),x.textContent=b,this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class nh extends Ic{constructor(e,t,r,i,s,u,d,g){super(e,s,u,d),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=g?Ec(g,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class av extends nh{constructor(e,t,r,i,s,u,d,g){const E=i+"-"+r.id;super(e,t,r,s,u,d,g,E),this.contentAttr=function Jt(n){return"_ngcontent-%COMP%".replace(ao,n)}(E),this.hostAttr=function $f(n){return"_nghost-%COMP%".replace(ao,n)}(E)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Fl=(()=>{class n extends Jd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Ke))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();const uv=["alt","control","meta","shift"],je={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},An={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Vl=(()=>{class n extends Jd{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),u=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>X().onAndCancel(t,s.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let u="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),u="code."),uv.forEach(E=>{const b=r.indexOf(E);b>-1&&(r.splice(b,1),u+=E+".")}),u+=s,0!=r.length||0===s.length)return null;const g={};return g.domEventName=i,g.fullKey=u,g}static matchEventFullKeyCode(t,r){let i=je[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),uv.forEach(u=>{u!==i&&(0,An[u])(t)&&(s+=u+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Ke))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();const lm=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:"browser"},{provide:_.g9A,useValue:function vs(){Rl.makeCurrent()},multi:!0},{provide:Ke,useFactory:function Ou(){return(0,_.RDi)(document),document},deps:[]}]),rh=new _.OlP(""),Un=[{provide:_.rWj,useClass:class cm{addToWindow(e){_.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new _.vHH(5103,!1);return s},_.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(r=>{const i=_.dqk.getAllAngularTestabilities();let s=i.length,u=!1;const d=function(g){u=u||g,s--,0==s&&r(u)};i.forEach(g=>{g.whenStable(d)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?X().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:_.lri,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]}],os=[{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function wc(){return new _.qLn},deps:[]},{provide:Ua,useClass:Fl,multi:!0,deps:[Ke,_.R0b,_.Lbi]},{provide:Ua,useClass:Vl,multi:!0,deps:[Ke]},Nl,Xd,Ii,{provide:_.FYo,useExisting:Nl},{provide:class ro{},useClass:Pl,deps:[]},[]];let ih=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:_.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(rh,12))},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({providers:[...os,...Un],imports:[_e,_.hGG]}),n})(),Gf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Ke))},n.\u0275prov=_.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ku(){return new Gf((0,_.LFG)(Ke))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Bi=j(5592),ca=j(4674),pr=j(2459),Kt=j(2096),Ui=j(5619);const{isArray:ch}=Array,{getPrototypeOf:uo,prototype:la,keys:pm}=Object;function lh(n){if(1===n.length){const e=n[0];if(ch(e))return{args:e,keys:null};if(function Ul(n){return n&&"object"==typeof n&&uo(n)===la}(e)){const t=pm(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Bs=j(2737),Cn=j(7398);const{isArray:dh}=Array;function gm(n){return(0,Cn.U)(e=>function Zf(n,e){return dh(e)?n(...e):n(e)}(n,e))}var da=j(4564);function ha(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Us=j(8251),jl=j(7103);function Ha(...n){const e=(0,da.yG)(n),t=(0,da.jO)(n),{args:r,keys:i}=lh(n);if(0===r.length)return(0,pr.D)([],e);const s=new Bi.y(function Is(n,e,t=Bs.y){return r=>{Cc(e,()=>{const{length:i}=n,s=new Array(i);let u=i,d=i;for(let g=0;g<i;g++)Cc(e,()=>{const E=(0,pr.D)(n[g],e);let b=!1;E.subscribe((0,Us.x)(r,x=>{s[g]=x,b||(b=!0,d--),d||r.next(t(s.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>ha(i,u):Bs.y));return t?s.pipe(gm(t)):s}function Cc(n,e,t){n?(0,jl.f)(t,n,e):e()}const Vo=(0,j(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var qa=j(7537);function Lo(...n){return function co(){return(0,qa.J)(1)}()((0,pr.D)(n,(0,da.yG)(n)))}var Wa=j(4829);function Vu(n){return new Bi.y(e=>{(0,Wa.Xf)(n()).subscribe(e)})}var $l=j(8407);function Bo(n,e){const t=(0,ca.m)(n)?n:()=>n,r=i=>i.error(t());return new Bi.y(e?i=>e.schedule(r,0,i):r)}var us=j(6232),Qf=j(7394),ji=j(9360);function Dc(){return(0,ji.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Us.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class zl extends Bi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ji.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Qf.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Us.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Qf.w0.EMPTY)}return e}refCount(){return Dc()(this)}}var Uo=j(8645),kr=j(4664);function lo(n){return n<=0?()=>us.E:(0,ji.e)((e,t)=>{let r=0;e.subscribe((0,Us.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function jo(n,e){return(0,ji.e)((t,r)=>{let i=0;t.subscribe((0,Us.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}var zr=j(1631);function Sc(n){return(0,ji.e)((e,t)=>{let r=!1;e.subscribe((0,Us.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ka(n=fh){return(0,ji.e)((e,t)=>{let r=!1;e.subscribe((0,Us.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function fh(){return new Vo}function ws(n,e){const t=arguments.length>=2;return r=>r.pipe(n?jo((i,s)=>n(i,s,r)):Bs.y,lo(1),t?Sc(e):Ka(()=>new Vo))}function $o(n,e){return(0,ca.m)(e)?(0,zr.z)(n,e,1):(0,zr.z)(n,1)}var ui=j(9397);function zo(n){return(0,ji.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,Us.x)(t,void 0,void 0,u=>{s=(0,Wa.Xf)(n(u,zo(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Za(n){return n<=0?()=>us.E:(0,ji.e)((e,t)=>{let r=[];e.subscribe((0,Us.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Lu(n){return(0,ji.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const en="primary",Gl=Symbol("RouteTitle");class Jf{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Hl(n){return new Jf(n)}function qI(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const u=r[s],d=n[s];if(u.startsWith(":"))i[u.substring(1)]=d;else if(u!==d.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function fo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!gv(n[i],e[i]))return!1;return!0}function gv(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function mm(n){return n.length>0?n[n.length-1]:null}function cs(n){return function Ac(n){return!!n&&(n instanceof Bi.y||(0,ca.m)(n.lift)&&(0,ca.m)(n.subscribe))}(n)?n:(0,_.QGY)(n)?(0,pr.D)(Promise.resolve(n)):(0,Kt.of)(n)}const mv={exact:function Bu(n,e,t){if(!Uu(n.segments,e.segments)||!ga(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Bu(n.children[r],e.children[r],t))return!1;return!0},subset:$i},ql={exact:function Xf(n,e){return fo(n,e)},subset:function _m(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>gv(n[t],e[t]))},ignored:()=>!0};function gr(n,e,t){return mv[t.paths](n.root,e.root,t.matrixParams)&&ql[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function $i(n,e,t){return xc(n,e,e.segments,t)}function xc(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Uu(i,t)||e.hasChildren()||!ga(i,t,r))}if(n.segments.length===t.length){if(!Uu(n.segments,t)||!ga(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!$i(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Uu(n.segments,i)&&ga(n.segments,i,r)&&n.children[en])&&xc(n.children[en],e,s,r)}}function ga(n,e,t){return e.every((r,i)=>ql[t](n[i].parameters,r.parameters))}class ma{constructor(e=new Dn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hl(this.queryParams)),this._queryParamMap}toString(){return ju.serialize(this)}}class Dn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kl(this)}}class Wl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Hl(this.parameters)),this._parameterMap}toString(){return _h(this)}}function Uu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ci=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:function(){return new Mc},providedIn:"root"}),n})();class Mc{parse(e){const t=new vm(e);return new ma(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Rc(e.root,!0)}`,r=function yh(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${gh(t)}=${gh(i)}`).join("&"):`${gh(t)}=${gh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ep(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ju=new Mc;function Kl(n){return n.segments.map(e=>_h(e)).join("/")}function Rc(n,e){if(!n.hasChildren())return Kl(n);if(e){const t=n.children[en]?Rc(n.children[en],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==en&&r.push(`${i}:${Rc(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ZI(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===en&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==en&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===en?[Rc(n.children[en],!1)]:[`${i}:${Rc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[en]?`${Kl(n)}/${t[0]}`:`${Kl(n)}/(${t.join("//")})`}}function ym(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gh(n){return ym(n).replace(/%3B/gi,";")}function Zl(n){return ym(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mh(n){return decodeURIComponent(n)}function Ql(n){return mh(n.replace(/\+/g,"%20"))}function _h(n){return`${Zl(n.path)}${function Pc(n){return Object.keys(n).map(e=>`;${Zl(e)}=${Zl(n[e])}`).join("")}(n.parameters)}`}const Nc=/^[^\/()?;#]+/;function Oc(n){const e=n.match(Nc);return e?e[0]:""}const tp=/^[^\/()?;=#]+/,rp=/^[^=?&#]+/,Yl=/^[^&#]+/;class vm{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[en]=new Dn(e,t)),r}parseSegment(){const e=Oc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new _.vHH(4009,!1);return this.capture(e),new Wl(mh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function np(n){const e=n.match(tp);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Oc(this.remaining);i&&(r=i,this.capture(r))}e[mh(t)]=mh(r)}parseQueryParam(e){const t=function kc(n){const e=n.match(rp);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function ip(n){const e=n.match(Yl);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=Ql(t),s=Ql(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Oc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new _.vHH(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=en);const u=this.parseChildren();t[s]=1===Object.keys(u).length?u[en]:new Dn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new _.vHH(4011,!1)}}function sp(n){return n.segments.length>0?new Dn([],{[en]:n}):n}function Qa(n){const e={};for(const r of Object.keys(n.children)){const s=Qa(n.children[r]);if(r===en&&0===s.segments.length&&s.hasChildren())for(const[u,d]of Object.entries(s.children))e[u]=d;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Fc(n){if(1===n.numberOfChildren&&n.children[en]){const e=n.children[en];return new Dn(n.segments.concat(e.segments),e.children)}return n}(new Dn(n.segments,e))}function $u(n){return n instanceof ma}function vh(n){let e;const i=sp(function t(s){const u={};for(const g of s.children){const E=t(g);u[g.outlet]=E}const d=new Dn(s.url,u);return s===n&&(e=d),d}(n.root));return e??i}function Em(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return I(i,i,i,t,r);const s=function F(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new P(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return Object.entries(s.outlets).forEach(([g,E])=>{d[g]="string"==typeof E?E.split("/"):E}),[...i,{outlets:d}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===u?(s.split("/").forEach((d,g)=>{0==g&&"."===d||(0==g&&""===d?t=!0:".."===d?e++:""!=d&&i.push(d))}),i):[...i,s]},[]);return new P(t,e,r)}(e);if(s.toRoot())return I(i,i,new Dn([],{}),t,r);const u=function we(n,e,t){if(n.isAbsolute)return new ne(e,!0,0);if(!t)return new ne(e,!1,NaN);if(null===t.parent)return new ne(t,!0,0);const r=T(n.commands[0])?0:1;return function ot(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new _.vHH(4005,!1);i=r.segments.length}return new ne(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),d=u.processChildren?dn(u.segmentGroup,u.index,s.commands):St(u.segmentGroup,u.index,s.commands);return I(i,u.segmentGroup,d,t,r)}function T(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function y(n){return"object"==typeof n&&null!=n&&n.outlets}function I(n,e,t,r,i){let u,s={};r&&Object.entries(r).forEach(([g,E])=>{s[g]=Array.isArray(E)?E.map(b=>`${b}`):`${E}`}),u=n===e?t:S(n,e,t);const d=sp(Qa(u));return new ma(d,s,i)}function S(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:S(s,e,t)}),new Dn(n.segments,r)}class P{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&T(r[0]))throw new _.vHH(4003,!1);const i=r.find(y);if(i&&i!==mm(r))throw new _.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ne{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function St(n,e,t){if(n||(n=new Dn([],{})),0===n.segments.length&&n.hasChildren())return dn(n,e,t);const r=function li(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const u=n.segments[i],d=t[r];if(y(d))break;const g=`${d}`,E=r<t.length-1?t[r+1]:null;if(i>0&&void 0===g)break;if(g&&E&&"object"==typeof E&&void 0===E.outlets){if(!_a(g,E,u))return s;r+=2}else{if(!_a(g,{},u))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Dn(n.segments.slice(0,r.pathIndex),{});return s.children[en]=new Dn(n.segments.slice(r.pathIndex),n.children),dn(s,0,i)}return r.match&&0===i.length?new Dn(n.segments,{}):r.match&&!n.hasChildren()?bs(n,e,t):r.match?dn(n,0,i):bs(n,e,t)}function dn(n,e,t){if(0===t.length)return new Dn(n.segments,{});{const r=function ut(n){return y(n[0])?n[0].outlets:{[en]:n}}(t),i={};if(!r[en]&&n.children[en]&&1===n.numberOfChildren&&0===n.children[en].segments.length){const s=dn(n.children[en],e,t);return new Dn(n.segments,s.children)}return Object.entries(r).forEach(([s,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(i[s]=St(n.children[s],e,u))}),Object.entries(n.children).forEach(([s,u])=>{void 0===r[s]&&(i[s]=u)}),new Dn(n.segments,i)}}function bs(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(y(s)){const g=Jl(s.outlets);return new Dn(r,g)}if(0===i&&T(t[0])){r.push(new Wl(n.segments[e].path,op(t[0]))),i++;continue}const u=y(s)?s.outlets[en]:`${s}`,d=i<t.length-1?t[i+1]:null;u&&d&&T(d)?(r.push(new Wl(u,op(d))),i+=2):(r.push(new Wl(u,{})),i++)}return new Dn(r,{})}function Jl(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=bs(new Dn([],{}),0,r))}),e}function op(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function _a(n,e,t){return n==t.path&&fo(e,t.parameters)}const Vc="imperative";class po{constructor(e,t){this.id=e,this.url=t}}class Xl extends po{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ls extends po{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zu extends po{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Go extends po{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class ya extends po{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gu extends po{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hu extends po{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ed extends po{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yv extends po{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qu extends po{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ap{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vv{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gr{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class up{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class go{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QI{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cp{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class lp{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ya,this.attachRef=null}}let Ya=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new lp,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dp{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Eh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Eh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=hp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return hp(e,this._root).map(t=>t.value)}}function Eh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Eh(n,t);if(r)return r}return null}function hp(n,e){if(n===e.value)return[e];for(const t of e.children){const r=hp(n,t);if(r.length)return r.unshift(e),r}return[]}class va{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function td(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class fp extends dp{constructor(e,t){super(e),this.snapshot=t,rd(this,e)}toString(){return this.snapshot.toString()}}function zi(n,e){const t=function Ih(n,e){const u=new Ea([],{},{},"",{},en,e,null,{});return new Im("",new va(u,[]))}(0,e),r=new Ui.X([new Wl("",{})]),i=new Ui.X({}),s=new Ui.X({}),u=new Ui.X({}),d=new Ui.X(""),g=new Lc(r,i,u,d,s,en,e,t.root);return g.snapshot=t.root,new fp(new va(g,[]),t)}class Lc{constructor(e,t,r,i,s,u,d,g){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=u,this.component=d,this._futureSnapshot=g,this.title=this.dataSubject?.pipe((0,Cn.U)(E=>E[Gl]))??(0,Kt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Cn.U)(e=>Hl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Cn.U)(e=>Hl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nd(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function wi(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ea{get title(){return this.data?.[Gl]}constructor(e,t,r,i,s,u,d,g,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=d,this.routeConfig=g,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Im extends dp{constructor(e,t){super(t),this.url=e,rd(this,t)}toString(){return Ev(this._root)}}function rd(n,e){e.value._routerState=n,e.children.forEach(t=>rd(n,t))}function Ev(n){const e=n.children.length>0?` { ${n.children.map(Ev).join(", ")} } `:"";return`${n.value}${e}`}function wh(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fo(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),fo(e.params,t.params)||n.paramsSubject.next(t.params),function WI(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),fo(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function wm(n,e){const t=fo(n.params,e.params)&&function KI(n,e){return Uu(n,e)&&n.every((t,r)=>fo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||wm(n.parent,e.parent))}let pp=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=en,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.parentContexts=(0,_.f3M)(Ya),this.location=(0,_.f3M)(_.s_b),this.changeDetector=(0,_.f3M)(_.sBO),this.environmentInjector=(0,_.f3M)(_.lqb),this.inputBinder=(0,_.f3M)(bh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new _.vHH(4013,!1);this._activatedRoute=t;const i=this.location,u=t.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,g=new JI(t,d,i.injector);this.activated=i.createComponent(u,{index:i.length,injector:g,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=_.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_.TTD]}),n})();class JI{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Lc?this.route:e===Ya?this.childContexts:this.parent.get(e,t)}}const bh=new _.OlP("");let bm=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Ha([r.queryParams,r.params,r.data]).pipe((0,kr.w)(([s,u,d],g)=>(d={...s,...u,...d},0===g?(0,Kt.of)(d):Promise.resolve(d)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const u=(0,_.qFp)(r.component);if(u)for(const{templateName:d}of u.inputs)t.activatedComponentRef.setInput(d,s[d]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();function Ja(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Tm(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ja(n,r,i);return Ja(n,r)})}(n,e,t);return new va(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(d=>Ja(n,d)),u}}const r=function Iv(n){return new Lc(new Ui.X(n.url),new Ui.X(n.params),new Ui.X(n.queryParams),new Ui.X(n.fragment),new Ui.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Ja(n,s));return new va(r,i)}}const Xa="ngNavigationCancelingError";function wv(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=$u(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gp(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function gp(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Xa]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Am(n){return Th(n)&&$u(n.url)}function Th(n){return n&&n[Xa]}let mp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=_.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[_.jDz],decls:1,vars:0,template:function(t,r){1&t&&_._UZ(0,"router-outlet")},dependencies:[pp],encapsulation:2}),n})();function Mm(n){const e=n.children&&n.children.map(Mm),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==en&&(t.component=mp),t}function Ho(n){return n.outlet||en}function eu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class rw{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),wh(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=td(t);e.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,i[u],r),delete i[u]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=td(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);if(r&&r.outlet){const u=r.outlet.detach(),d=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=td(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=td(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new QI(s.value.snapshot))}),e.children.length&&this.forwardEvent(new up(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(wh(i),i===s)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const d=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(d.contexts),u.attachRef=d.componentRef,u.route=d.route.value,u.outlet&&u.outlet.attach(d.componentRef,d.route.value),wh(d.route.value),this.activateChildRoutes(e,null,u.children)}else{const d=eu(i.snapshot);u.attachRef=null,u.route=i,u.injector=d,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class iw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ch{constructor(e,t){this.component=e,this.route=t}}function _p(n,e,t){const r=n._root;return Ku(r,e?e._root:null,t,[r.value])}function sd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,_.Z0I)(n)?e.get(n):n:r}function Ku(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=td(e);return n.children.forEach(u=>{(function sw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const g=function sC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Uu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Uu(n.url,e.url)||!fo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wm(n,e)||!fo(n.queryParams,e.queryParams);default:return!wm(n,e)}}(u,s,s.routeConfig.runGuardsAndResolvers);g?i.canActivateChecks.push(new iw(r)):(s.data=u.data,s._resolvedData=u._resolvedData),Ku(n,e,s.component?d?d.children:null:t,r,i),g&&d&&d.outlet&&d.outlet.isActivated&&i.canDeactivateChecks.push(new Ch(d.outlet.component,u))}else u&&tu(e,d,i),i.canActivateChecks.push(new iw(r)),Ku(n,null,s.component?d?d.children:null:t,r,i)})(u,s[u.value.outlet],t,r.concat([u.value]),i),delete s[u.value.outlet]}),Object.entries(s).forEach(([u,d])=>tu(d,t.getContext(u),i)),i}function tu(n,e,t){const r=td(n),i=n.value;Object.entries(r).forEach(([s,u])=>{tu(u,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Ch(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Dh(n){return"function"==typeof n}function Ep(n){return n instanceof Vo||"EmptyError"===n?.name}const Bc=Symbol("INITIAL_VALUE");function Uc(){return(0,kr.w)(n=>Ha(n.map(e=>e.pipe(lo(1),function fa(...n){const e=(0,da.yG)(n);return(0,ji.e)((t,r)=>{(e?Lo(n,t,e):Lo(n,t)).subscribe(r)})}(Bc)))).pipe((0,Cn.U)(e=>{for(const t of e)if(!0!==t){if(t===Bc)return Bc;if(!1===t||t instanceof ma)return t}return!0}),jo(e=>e!==Bc),lo(1)))}function Ip(n){return(0,$l.z)((0,ui.b)(e=>{if($u(e))throw wv(0,e)}),(0,Cn.U)(e=>!0===e))}class Qu{constructor(e){this.segmentGroup=e||null}}class Fm{constructor(e){this.urlTree=e}}function Mh(n){return Bo(new Qu(n))}function uC(n){return Bo(new Fm(n))}class lC{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new _.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,Kt.of)(r);if(i.numberOfChildren>1||!i.children[en])return Bo(new _.vHH(4e3,!1));i=i.children[en]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new ma(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const d=s.substring(1);r[i]=t[d]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let u={};return Object.entries(t.children).forEach(([d,g])=>{u[d]=this.createSegmentGroup(e,g,r,i)}),new Dn(s,u)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new _.vHH(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const od={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rh(n,e,t,r,i){const s=ad(n,e,t);return s.matched?(r=function Wu(n,e){return n.providers&&!n._injector&&(n._injector=(0,_.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function km(n,e,t,r){const i=e.canMatch;if(!i||0===i.length)return(0,Kt.of)(!0);const s=i.map(u=>{const d=sd(u,n);return cs(function Nm(n){return n&&Dh(n.canMatch)}(d)?d.canMatch(e,t):n.runInContext(()=>d(e,t)))});return(0,Kt.of)(s).pipe(Uc(),Ip())}(r,e,t).pipe((0,Cn.U)(u=>!0===u?s:{...od}))):(0,Kt.of)(s)}function ad(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...od}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||qI)(t,n,e);if(!i)return{...od};const s={};Object.entries(i.posParams??{}).forEach(([d,g])=>{s[d]=g.path});const u=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function wp(n,e,t,r){return t.length>0&&function Vm(n,e,t){return t.some(r=>bp(n,e,r)&&Ho(r)!==en)}(n,t,r)?{segmentGroup:new Dn(e,Ph(r,new Dn(t,n.children))),slicedSegments:[]}:0===t.length&&function lw(n,e,t){return t.some(r=>bp(n,e,r))}(n,t,r)?{segmentGroup:new Dn(n.segments,xv(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Dn(n.segments,n.children),slicedSegments:t}}function xv(n,e,t,r,i){const s={};for(const u of r)if(bp(n,t,u)&&!i[Ho(u)]){const d=new Dn([],{});s[Ho(u)]=d}return{...i,...s}}function Ph(n,e){const t={};t[en]=e;for(const r of n)if(""===r.path&&Ho(r)!==en){const i=new Dn([],{});t[Ho(r)]=i}return t}function bp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class jc{constructor(e,t,r,i,s,u,d){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=u,this.urlSerializer=d,this.allowRedirects=!0,this.applyRedirects=new lC(this.urlSerializer,this.urlTree)}noMatchError(e){return new _.vHH(4002,!1)}recognize(){const e=wp(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,en).pipe(zo(t=>{if(t instanceof Fm)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Qu?this.noMatchError(t):t}),(0,Cn.U)(t=>{const r=new Ea([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},en,this.rootComponentType,null,{}),i=new va(r,t),s=new Im("",i),u=function _v(n,e,t=null,r=null){return Em(vh(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(s._root),{state:s,tree:u}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,en).pipe(zo(r=>{throw r instanceof Qu?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=nd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,pr.D)(i).pipe($o(s=>{const u=r.children[s],d=function Rm(n,e){const t=n.filter(r=>Ho(r)===e);return t.push(...n.filter(r=>Ho(r)!==e)),t}(t,s);return this.processSegmentGroup(e,d,u,s)}),function pa(n,e){return(0,ji.e)(function ph(n,e,t,r,i){return(s,u)=>{let d=t,g=e,E=0;s.subscribe((0,Us.x)(u,b=>{const x=E++;g=d?n(g,b,x):(d=!0,b),r&&u.next(g)},i&&(()=>{d&&u.next(g),u.complete()})))}}(n,e,arguments.length>=2,!0))}((s,u)=>(s.push(...u),s)),Sc(null),function ho(n,e){const t=arguments.length>=2;return r=>r.pipe(n?jo((i,s)=>n(i,s,r)):Bs.y,Za(1),t?Sc(e):Ka(()=>new Vo))}(),(0,zr.z)(s=>{if(null===s)return Mh(r);const u=fC(s);return function Ap(n){n.sort((e,t)=>e.value.outlet===en?-1:t.value.outlet===en?1:e.value.outlet.localeCompare(t.value.outlet))}(u),(0,Kt.of)(u)}))}processSegment(e,t,r,i,s,u){return(0,pr.D)(t).pipe($o(d=>this.processSegmentAgainstRoute(d._injector??e,t,d,r,i,s,u).pipe(zo(g=>{if(g instanceof Qu)return(0,Kt.of)(null);throw g}))),ws(d=>!!d),zo(d=>{if(Ep(d))return function dC(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?(0,Kt.of)([]):Mh(r);throw d}))}processSegmentAgainstRoute(e,t,r,i,s,u,d){return function Mv(n,e,t,r){return!!(Ho(n)===r||r!==en&&bp(e,t,n))&&("**"===n.path||ad(e,n,t).matched)}(r,i,s,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,u,d):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,u):Mh(i):Mh(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?uC(s):this.applyRedirects.lineralizeSegments(r,s).pipe((0,zr.z)(u=>{const d=new Dn(u,{});return this.processSegment(e,t,d,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u){const{matched:d,consumedSegments:g,remainingSegments:E,positionalParamSegments:b}=ad(t,i,s);if(!d)return Mh(t);const x=this.applyRedirects.applyRedirectCommands(g,i.redirectTo,b);return i.redirectTo.startsWith("/")?uC(x):this.applyRedirects.lineralizeSegments(i,x).pipe((0,zr.z)(N=>this.processSegment(e,r,t,N.concat(E),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,u){let d;if("**"===r.path){const g=i.length>0?mm(i).parameters:{},E=new Ea(i,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pC(r),Ho(r),r.component??r._loadedComponent??null,r,gC(r));d=(0,Kt.of)({snapshot:E,consumedSegments:[],remainingSegments:[]}),t.children={}}else d=Rh(t,r,i,e).pipe((0,Cn.U)(({matched:g,consumedSegments:E,remainingSegments:b,parameters:x})=>g?{snapshot:new Ea(E,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pC(r),Ho(r),r.component??r._loadedComponent??null,r,gC(r)),consumedSegments:E,remainingSegments:b}:null));return d.pipe((0,kr.w)(g=>null===g?Mh(t):this.getChildConfig(e=r._injector??e,r,i).pipe((0,kr.w)(({routes:E})=>{const b=r._loadedInjector??e,{snapshot:x,consumedSegments:N,remainingSegments:L}=g,{segmentGroup:Y,slicedSegments:se}=wp(t,N,L,E);if(0===se.length&&Y.hasChildren())return this.processChildren(b,E,Y).pipe((0,Cn.U)(He=>null===He?null:[new va(x,He)]));if(0===E.length&&0===se.length)return(0,Kt.of)([new va(x,[])]);const ae=Ho(r)===s;return this.processSegment(b,E,Y,se,ae?en:s,!0).pipe((0,Cn.U)(He=>[new va(x,He)]))}))))}getChildConfig(e,t,r){return t.children?(0,Kt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,Kt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function xh(n,e,t,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,Kt.of)(!0);const s=i.map(u=>{const d=sd(u,n);return cs(function Av(n){return n&&Dh(n.canLoad)}(d)?d.canLoad(e,t):n.runInContext(()=>d(e,t)))});return(0,Kt.of)(s).pipe(Uc(),Ip())}(e,t,r).pipe((0,zr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,ui.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Sv(n){return Bo(gp(!1,3))}())):(0,Kt.of)({routes:[],injector:e})}}function hC(n){const e=n.value.routeConfig;return e&&""===e.path}function fC(n){const e=[],t=new Set;for(const r of n){if(!hC(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=fC(r.children);e.push(new va(r.value,i))}return e.filter(r=>!t.has(r))}function pC(n){return n.data||{}}function gC(n){return n.resolve||{}}function Lm(n){return"string"==typeof n.title||null===n.title}function Ia(n){return(0,kr.w)(e=>{const t=n(e);return t?(0,pr.D)(t).pipe((0,Cn.U)(()=>e)):(0,Kt.of)(e)})}const nu=new _.OlP("ROUTES");let Cp=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,_.f3M)(_.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,Kt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=cs(t.loadComponent()).pipe((0,Cn.U)(Bm),(0,ui.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Lu(()=>{this.componentLoaders.delete(t)})),i=new zl(r,()=>new Uo.x).pipe(Dc());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,Kt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Cn.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(r);let g,E;return Array.isArray(d)?E=d:(g=d.create(t).injector,E=g.get(nu,[],_.XFs.Self|_.XFs.Optional).flat()),{routes:E.map(Mm),injector:g}}),Lu(()=>{this.childrenLoaders.delete(r)})),u=new zl(s,()=>new Uo.x).pipe(Dc());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return cs(t()).pipe((0,Cn.U)(Bm),(0,zr.z)(r=>r instanceof _.YKP||Array.isArray(r)?(0,Kt.of)(r):(0,pr.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Bm(n){return function dw(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Nh=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Uo.x,this.configLoader=(0,_.f3M)(Cp),this.environmentInjector=(0,_.f3M)(_.lqb),this.urlSerializer=(0,_.f3M)(ci),this.rootContexts=(0,_.f3M)(Ya),this.inputBindingEnabled=null!==(0,_.f3M)(bh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Kt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new vv(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new ap(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Ui.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Vc,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(jo(r=>0!==r.id),(0,Cn.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),(0,kr.w)(r=>{let i=!1,s=!1;return(0,Kt.of)(r).pipe((0,ui.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,kr.w)(u=>{const d=t.browserUrlTree.toString(),g=!t.navigated||u.extractedUrl.toString()!==d||d!==t.currentUrlTree.toString();if(!g&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const b="";return this.events.next(new Go(u.id,t.serializeUrl(r.rawUrl),b,0)),t.rawUrlTree=u.rawUrl,u.resolve(null),us.E}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return vC(u.source)&&(t.browserUrlTree=u.extractedUrl),(0,Kt.of)(u).pipe((0,kr.w)(b=>{const x=this.transitions?.getValue();return this.events.next(new Xl(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),x!==this.transitions?.getValue()?us.E:Promise.resolve(b)}),function qM(n,e,t,r,i,s){return(0,zr.z)(u=>function Tp(n,e,t,r,i,s,u="emptyOnly"){return new jc(n,e,t,r,i,u,s).recognize()}(n,e,t,r,u.extractedUrl,i,s).pipe((0,Cn.U)(({state:d,tree:g})=>({...u,targetSnapshot:d,urlAfterRedirects:g}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,ui.b)(b=>{if(r.targetSnapshot=b.targetSnapshot,r.urlAfterRedirects=b.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!b.extras.skipLocationChange){const N=t.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);t.setBrowserUrl(N,b)}t.browserUrlTree=b.urlAfterRedirects}const x=new Gu(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(x)}));if(g&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:b,extractedUrl:x,source:N,restoredState:L,extras:Y}=u,se=new Xl(b,this.urlSerializer.serialize(x),N,L);this.events.next(se);const ae=zi(0,this.rootComponentType).snapshot;return r={...u,targetSnapshot:ae,urlAfterRedirects:x,extras:{...Y,skipLocationChange:!1,replaceUrl:!1}},(0,Kt.of)(r)}{const b="";return this.events.next(new Go(u.id,t.serializeUrl(r.extractedUrl),b,1)),t.rawUrlTree=u.rawUrl,u.resolve(null),us.E}}),(0,ui.b)(u=>{const d=new Hu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),(0,Cn.U)(u=>r={...u,guards:_p(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function Om(n,e){return(0,zr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:u}}=t;return 0===u.length&&0===s.length?(0,Kt.of)({...t,guardsResult:!0}):function Zu(n,e,t,r){return(0,pr.D)(n).pipe((0,zr.z)(i=>function cw(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,Kt.of)(!0);const u=s.map(d=>{const g=eu(e)??i,E=sd(d,g);return cs(function vp(n){return n&&Dh(n.canDeactivate)}(E)?E.canDeactivate(n,e,t,r):g.runInContext(()=>E(n,e,t,r))).pipe(ws())});return(0,Kt.of)(u).pipe(Uc())}(i.component,i.route,t,e,r)),ws(i=>!0!==i,!0))}(u,r,i,n).pipe((0,zr.z)(d=>d&&function Pm(n){return"boolean"==typeof n}(d)?function ow(n,e,t,r){return(0,pr.D)(e).pipe($o(i=>Lo(function oC(n,e){return null!==n&&e&&e(new Gr(n)),(0,Kt.of)(!0)}(i.route.parent,r),function aw(n,e){return null!==n&&e&&e(new go(n)),(0,Kt.of)(!0)}(i.route,r),function uw(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(u=>function id(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Vu(()=>{const d=u.guards.map(g=>{const E=eu(u.node)??t,b=sd(g,E);return cs(function yp(n){return n&&Dh(n.canActivateChild)}(b)?b.canActivateChild(r,n):E.runInContext(()=>b(r,n))).pipe(ws())});return(0,Kt.of)(d).pipe(Uc())}));return(0,Kt.of)(s).pipe(Uc())}(n,i.path,t),function aC(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Kt.of)(!0);const i=r.map(s=>Vu(()=>{const u=eu(e)??t,d=sd(s,u);return cs(function Cv(n){return n&&Dh(n.canActivate)}(d)?d.canActivate(e,n):u.runInContext(()=>d(e,n))).pipe(ws())}));return(0,Kt.of)(i).pipe(Uc())}(n,i.route,t))),ws(i=>!0!==i,!0))}(r,s,n,e):(0,Kt.of)(d)),(0,Cn.U)(d=>({...t,guardsResult:d})))})}(this.environmentInjector,u=>this.events.next(u)),(0,ui.b)(u=>{if(r.guardsResult=u.guardsResult,$u(u.guardsResult))throw wv(0,u.guardsResult);const d=new ed(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),jo(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),Ia(u=>{if(u.guards.canActivateChecks.length)return(0,Kt.of)(u).pipe((0,ui.b)(d=>{const g=new yv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(g)}),(0,kr.w)(d=>{let g=!1;return(0,Kt.of)(d).pipe(function Rv(n,e){return(0,zr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,Kt.of)(t);let s=0;return(0,pr.D)(i).pipe($o(u=>function Pv(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!Lm(i)&&(s[Gl]=i.title),function mC(n,e,t,r){const i=function _C(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,Kt.of)({});const s={};return(0,pr.D)(i).pipe((0,zr.z)(u=>function yC(n,e,t,r){const i=eu(e)??r,s=sd(n,i);return cs(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[u],e,t,r).pipe(ws(),(0,ui.b)(d=>{s[u]=d}))),Za(1),function Yf(n){return(0,Cn.U)(()=>n)}(s),zo(u=>Ep(u)?us.E:Bo(u)))}(s,n,e,r).pipe((0,Cn.U)(u=>(n._resolvedData=u,n.data=nd(n,t).resolve,i&&Lm(i)&&(n.data[Gl]=i.title),null)))}(u.route,r,n,e)),(0,ui.b)(()=>s++),Za(1),(0,zr.z)(u=>s===i.length?(0,Kt.of)(t):us.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,ui.b)({next:()=>g=!0,complete:()=>{g||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",2))}}))}),(0,ui.b)(d=>{const g=new qu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(g)}))}),Ia(u=>{const d=g=>{const E=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(g.routeConfig).pipe((0,ui.b)(b=>{g.component=b}),(0,Cn.U)(()=>{})));for(const b of g.children)E.push(...d(b));return E};return Ha(d(u.targetSnapshot.root)).pipe(Sc(),lo(1))}),Ia(()=>this.afterPreactivation()),(0,Cn.U)(u=>{const d=function XI(n,e,t){const r=Ja(n,e._root,t?t._root:void 0);return new fp(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return r={...u,targetRouterState:d}}),(0,ui.b)(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t,r)=>(0,Cn.U)(i=>(new rw(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),lo(1),(0,ui.b)({next:u=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ls(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{i=!0}}),Lu(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),zo(u=>{if(s=!0,Th(u)){Am(u)||(t.navigated=!0,t.restoreHistory(r,!0));const d=new zu(r.id,this.urlSerializer.serialize(r.extractedUrl),u.message,u.cancellationCode);if(this.events.next(d),Am(u)){const g=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),E={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||vC(r.source)};t.scheduleNavigation(g,Vc,null,E,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const d=new ya(r.id,this.urlSerializer.serialize(r.extractedUrl),u,r.targetSnapshot??void 0);this.events.next(d);try{r.resolve(t.errorHandler(u))}catch(g){r.reject(g)}}return us.E}))}))}cancelNavigationTransition(t,r,i){const s=new zu(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vC(n){return n!==Vc}let Um=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===en);return r}getResolvedTitleForRoute(t){return t.data[Gl]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:function(){return(0,_.f3M)(Nv)},providedIn:"root"}),n})(),Nv=(()=>{class n extends Um{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Gf))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ov=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:function(){return(0,_.f3M)(KM)},providedIn:"root"}),n})();class WM{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let KM=(()=>{class n extends WM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=_.n5z(n)))(r||n)}}(),n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dp=new _.OlP("",{providedIn:"root",factory:()=>({})});let EC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:function(){return(0,_.f3M)(hw)},providedIn:"root"}),n})(),hw=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var js=(()=>((js=js||{})[js.COMPLETE=0]="COMPLETE",js[js.FAILED=1]="FAILED",js[js.REDIRECTING=2]="REDIRECTING",js))();function kv(n,e){n.events.pipe(jo(t=>t instanceof ls||t instanceof zu||t instanceof ya||t instanceof Go),(0,Cn.U)(t=>t instanceof ls||t instanceof Go?js.COMPLETE:t instanceof zu&&(0===t.code||1===t.code)?js.REDIRECTING:js.FAILED),jo(t=>t!==js.REDIRECTING),lo(1)).subscribe(()=>{e()})}function Fv(n){throw n}function Oh(n,e,t){return e.parse("/")}const IC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ts=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,_.f3M)(_.c2e),this.isNgZoneEnabled=!1,this.options=(0,_.f3M)(Dp,{optional:!0})||{},this.pendingTasks=(0,_.f3M)(_.HDt),this.errorHandler=this.options.errorHandler||Fv,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Oh,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,_.f3M)(EC),this.routeReuseStrategy=(0,_.f3M)(Ov),this.titleStrategy=(0,_.f3M)(Um),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,_.f3M)(nu,{optional:!0})?.flat()??[],this.navigationTransitions=(0,_.f3M)(Nh),this.urlSerializer=(0,_.f3M)(ci),this.location=(0,_.f3M)(dt),this.componentInputBindingEnabled=!!(0,_.f3M)(bh,{optional:!0}),this.isNgZoneEnabled=(0,_.f3M)(_.R0b)instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ma,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zi(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Vc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},u=i?.navigationId?i:null;if(i){const g={...i};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(s.state=g)}const d=this.parseUrl(t);this.scheduleNavigation(d,r,u,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Mm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:u,queryParamsHandling:d,preserveFragment:g}=r,E=g?this.currentUrlTree.fragment:u;let x,b=null;switch(d){case"merge":b={...this.currentUrlTree.queryParams,...s};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=s||null}null!==b&&(b=this.removeEmptyProps(b));try{x=vh(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),x=this.currentUrlTree.root}return Em(x,t,b,E??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=$u(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Vc,null,r)}navigate(t,r={skipLocationChange:!1}){return function Er(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new _.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...IC}:!1===r?{...jm}:r,$u(t))return gr(this.currentUrlTree,t,i);const s=this.parseUrl(t);return gr(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,u){if(this.disposed)return Promise.resolve(!1);let d,g,E;u?(d=u.resolve,g=u.reject,E=u.promise):E=new Promise((x,N)=>{d=x,g=N});const b=this.pendingTasks.add();return kv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:d,reject:g,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(x=>Promise.reject(x))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",u)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kh=(()=>{class n{constructor(t,r,i,s,u,d){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=u,this.locationStrategy=d,this.href=null,this.commands=null,this.onChanges=new Uo.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const g=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===g||"area"===g,this.isAnchorElement?this.subscription=t.events.subscribe(E=>{E instanceof ls&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,_.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(_.Y36(Ts),_.Y36(Lc),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(ht))},n.\u0275dir=_.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&_.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&_.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",_.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",_.VuI],replaceUrl:["replaceUrl","replaceUrl",_.VuI],routerLink:"routerLink"},standalone:!0,features:[_.Xq5,_.TTD]}),n})();class $m{}let pw=(()=>{class n{constructor(t,r,i,s,u){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(jo(t=>t instanceof ls),$o(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=(0,_.MMx)(s.providers,t,`Route: ${s.path}`));const u=s._injector??t,d=s._loadedInjector??u;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(u,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,pr.D)(i).pipe((0,qa.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,Kt.of)(null);const s=i.pipe((0,zr.z)(u=>null===u?(0,Kt.of)(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,pr.D)([s,u]).pipe((0,qa.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Ts),_.LFG(_.Sil),_.LFG(_.lqb),_.LFG($m),_.LFG(Cp))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ti=new _.OlP("");let zm=(()=>{class n{constructor(t,r,i,s,u={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Xl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ls?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Go&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof cp&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new cp(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){_.$Z()},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();function $s(n,e){return{\u0275kind:n,\u0275providers:e}}function Fh(){const n=(0,_.f3M)(_.zs3);return e=>{const t=n.get(_.z2F);if(e!==t.components[0])return;const r=n.get(Ts),i=n.get(Hm);1===n.get(qm)&&r.initialNavigation(),n.get(_w,null,_.XFs.Optional)?.setUpPreloading(),n.get(Ti,null,_.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Hm=new _.OlP("",{factory:()=>new Uo.x}),qm=new _.OlP("",{providedIn:"root",factory:()=>1}),_w=new _.OlP("");function xp(n){return $s(0,[{provide:_w,useExisting:pw},{provide:$m,useExisting:n}])}const Km=new _.OlP("ROUTER_FORROOT_GUARD"),Vh=[dt,{provide:ci,useClass:Mc},Ts,Ya,{provide:Lc,useFactory:function gw(n){return n.routerState.root},deps:[Ts]},Cp,[]];function Mp(){return new _.PXZ("Router",Ts)}let Gv=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Vh,[],{provide:nu,multi:!0,useValue:t},{provide:Km,useFactory:Lh,deps:[[Ts,new _.FiY,new _.tp0]]},{provide:Dp,useValue:r||{}},r?.useHash?{provide:ht,useClass:lt}:{provide:ht,useClass:ft},{provide:Ti,useFactory:()=>{const n=(0,_.f3M)(ns),e=(0,_.f3M)(_.R0b),t=(0,_.f3M)(Dp),r=(0,_.f3M)(Nh),i=(0,_.f3M)(ci);return t.scrollOffset&&n.setOffset(t.scrollOffset),new zm(i,r,n,e,t)}},r?.preloadingStrategy?xp(r.preloadingStrategy).\u0275providers:[],{provide:_.PXZ,multi:!0,useFactory:Mp},r?.initialNavigation?Qm(r):[],r?.bindToComponentInputs?$s(8,[bm,{provide:bh,useExisting:bm}]).\u0275providers:[],[{provide:Rp,useFactory:Fh},{provide:_.tb,multi:!0,useExisting:Rp}]]}}static forChild(t){return{ngModule:n,providers:[{provide:nu,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Km,8))},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({}),n})();function Lh(n){return"guarded"}function Qm(n){return["disabled"===n.initialNavigation?$s(3,[{provide:_.ip1,multi:!0,useFactory:()=>{const e=(0,_.f3M)(Ts);return()=>{e.setUpLocationChangeListener()}}},{provide:qm,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?$s(2,[{provide:qm,useValue:0},{provide:_.ip1,multi:!0,deps:[_.zs3],useFactory:e=>{const t=e.get(at,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Ts),s=e.get(Hm);kv(i,()=>{r(!0)}),e.get(Nh).afterPreactivation=()=>(r(!0),s.closed?(0,Kt.of)(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const Rp=new _.OlP("");var Uh=j(6710),Ju=j(229),cd=j(7592),Yr=j(7879),Jm=j(5031),Kv=j(3019),Pp=j(3093),Xm=j(4552);class AC extends Uo.x{constructor(e=1/0,t=1/0,r=Xm.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:u}=this;t||(r.push(e),!i&&r.push(s.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let u=0;u<s.length&&!e.closed;u+=r?1:2)e.next(s[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const u=t.now();let d=0;for(let g=1;g<r.length&&r[g]<=u;g+=2)d=g;d&&r.splice(0,d+1)}}}var ru=j(3020);function ld(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,ru.B)({connector:()=>new AC(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function e_(n,e){return(0,ca.m)(e)?(0,kr.w)(()=>n,e):(0,kr.w)(()=>n)}var Xu=j(5137),Ir=j(6528),mo=j(6304),di=j(4097);class wa{constructor(e){return e}}class jh{constructor(){return(0,di.C6)()}}const n_=new _.OlP("angularfire2._apps"),r_={provide:wa,useFactory:function $h(n){return n&&1===n.length?n[0]:new wa((0,di.Mq)())},deps:[[new _.FiY,n_]]},Np={provide:jh,deps:[[new _.FiY,n_]]};function Zv(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new wa(r)}}let Qv=(()=>{class n{constructor(t){(0,di.KN)("angularfire",Ir.q4.full,"core"),(0,di.KN)("angularfire",Ir.q4.full,"app"),(0,di.KN)("angular",_.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(_.Lbi))},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({providers:[r_,Np]}),n})();function Yv(n,...e){return{ngModule:Qv,providers:[{provide:n_,useFactory:Zv(n),multi:!0,deps:[_.R0b,_.zs3,Ir.HU,...e]}]}}const vw=(0,Ir.u3)(di.ZF,!0);var Ye=j(5861),ec=j(7954);const zc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],u=i+1<n.length,d=u?n[i+1]:0,g=i+2<n.length,E=g?n[i+2]:0;let N=(15&d)<<2|E>>6,L=63&E;g||(L=64,u||(N=64)),r.push(t[s>>2],t[(3&s)<<4|d>>4],t[N],t[L])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const g=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(1023&g))}else{const s=n[t++],u=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],d=i<n.length?t[n.charAt(i)]:0;++i;const E=i<n.length?t[n.charAt(i)]:64;++i;const x=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==d||null==E||null==x)throw new Iw;r.push(s<<2|d>>4),64!==E&&(r.push(d<<4&240|E>>2),64!==x&&r.push(E<<6&192|x))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Iw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}class gd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}class Hc extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Hc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],u=s?function l_(n,e){return n.replace(RC,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Hc(i,`${this.serviceName}: ${u} (${i}).`,r)}}const RC=/\{\$([^}]+)}/g,u0=new Map,c0={activated:!1,tokenObservers:[]},iR={initialized:!1,enabled:!1};function Hr(n){return u0.get(n)||Object.assign({},c0)}function p_(){return iR}const Pw="https://content-firebaseappcheck.googleapis.com/v1",uR="exchangeDebugToken",Nw={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class cR{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ye.Z)(function*(){t.stop();try{t.pending=new gd,yield function lR(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new gd,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ds=new iu("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function FC(n){if(!Hr(n).activated)throw ds.create("use-before-activation",{appName:n.name})}function d0(n,e){return Ow.apply(this,arguments)}function Ow(){return(Ow=(0,Ye.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const x=yield i.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const s={method:"POST",body:JSON.stringify(e),headers:r};let u,d;try{u=yield fetch(n,s)}catch(x){throw ds.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==u.status)throw ds.create("fetch-status-error",{httpStatus:u.status});try{d=yield u.json()}catch(x){throw ds.create("fetch-parse-error",{originalErrorMessage:x?.message})}const g=d.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw ds.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const E=1e3*Number(g[1]),b=Date.now();return{token:d.token,expireTimeMillis:b+E,issuedAtTimeMillis:b}})).apply(this,arguments)}function LC(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Pw}/projects/${t}/apps/${r}:${uR}?key=${i}`,body:{debug_token:e}}}const hR="firebase-app-check-database",kw=1,__="firebase-app-check-store";let h0=null;function Lw(){return(Lw=(0,Ye.Z)(function*(n,e){const r=(yield function UC(){return h0||(h0=new Promise((n,e)=>{try{const t=indexedDB.open(hR,kw);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ds.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(__,{keyPath:"compositeKey"})}}catch(t){e(ds.create("storage-open",{originalErrorMessage:t?.message}))}}),h0)}()).transaction(__,"readwrite"),s=r.objectStore(__).put({compositeKey:n,value:e});return new Promise((u,d)=>{s.onsuccess=g=>{u()},r.onerror=g=>{var E;d(ds.create("storage-set",{originalErrorMessage:null===(E=g.target.error)||void 0===E?void 0:E.message}))}})})).apply(this,arguments)}const Kh=new Yr.Yd("@firebase/app-check");function g0(n,e){return function Sw(){try{return"object"==typeof indexedDB}catch{return!1}}()?function nc(n,e){return function Vw(n,e){return Lw.apply(this,arguments)}(function y_(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Kh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function v_(){return p_().enabled}function su(){return Uw.apply(this,arguments)}function Uw(){return(Uw=(0,Ye.Z)(function*(){const n=p_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const jw={error:"UNKNOWN_ERROR"};function mR(n){return zc.encodeString(JSON.stringify(n),!1)}function _0(n){return $w.apply(this,arguments)}function $w(){return($w=(0,Ye.Z)(function*(n,e=!1){const t=n.app;FC(t);const r=Hr(t);let s,i=r.token;if(i&&!Up(i)&&(r.token=void 0,i=void 0),!i){const g=yield r.cachedTokenPromise;g&&(Up(g)?i=g:yield g0(t,void 0))}if(!e&&i&&Up(i))return{token:i.token};let d,u=!1;if(v_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=d0(LC(t,yield su()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const g=yield r.exchangeTokenPromise;return yield g0(t,g),r.token=g,{token:g.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield Hr(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?Kh.warn(g.message):Kh.error(g),s=g}return i?s?d=Up(i)?{token:i.token,internalError:s}:Gw(s):(d={token:i.token},r.token=i,yield g0(t,i)):d=Gw(s),u&&function yR(n,e){const t=Hr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,d),d})).apply(this,arguments)}function _R(n){return y0.apply(this,arguments)}function y0(){return(y0=(0,Ye.Z)(function*(n){const e=n.app;FC(e);const{provider:t}=Hr(e);if(v_()){const r=yield su(),{token:i}=yield d0(LC(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function Lp(n,e){const t=Hr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Bp(n){const{app:e}=n,t=Hr(e);let r=t.tokenRefresher;r||(r=function v0(n){const{app:e}=n;return new cR((0,Ye.Z)(function*(){let r;if(r=Hr(e).token?yield _0(n,!0):yield _0(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Hr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Nw.RETRIAL_MIN_WAIT,Nw.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Up(n){return n.expireTimeMillis-Date.now()>0}function Gw(n){return{token:mR(jw),error:n}}class $C{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Hr(this.app);for(const t of e)Lp(this.app,t.next);return Promise.resolve()}}const XC="app-check-internal";!function CR(){(0,ec.Xd)(new Jm.wA("app-check",n=>function vR(n,e){return new $C(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(XC).initialize()})),(0,ec.Xd)(new Jm.wA(XC,n=>function ER(n){return{getToken:e=>_0(n,e),getLimitedUseToken:()=>_R(n),addTokenListener:e=>function zw(n,e,t,r){const{app:i}=n,s=Hr(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Up(s.token)){const d=s.token;Promise.resolve().then(()=>{t({token:d.token}),Bp(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Bp(n))}(n,"INTERNAL",e),removeTokenListener:e=>Lp(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ec.KN)("@firebase/app-check","0.8.0")}();class w0{constructor(){return(0,Ir.vb)("app-check")}}typeof window<"u"&&window,j(120);const zp=new _.OlP("angularfire2.auth.use-emulator"),Gp=new _.OlP("angularfire2.auth.settings"),Hp=new _.OlP("angularfire2.auth.tenant-id"),qp=new _.OlP("angularfire2.auth.langugage-code"),Wp=new _.OlP("angularfire2.auth.use-device-language"),Kp=new _.OlP("angularfire.auth.persistence");let Zh=(()=>{class n{constructor(t,r,i,s,u,d,g,E,b,x,N,L){const Y=new Uo.x,se=(0,Kt.of)(void 0).pipe((0,Pp.Q)(u.outsideAngular),(0,kr.w)(()=>s.runOutsideAngular(()=>j.e(661).then(j.bind(j,8661)))),(0,Cn.U)(()=>(0,mo.on)(t,s,r)),(0,Cn.U)(ae=>((n,e,t,r,i,s,u,d)=>(0,mo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),r&&(g.tenantId=r),g.languageCode=i,s&&g.useDeviceLanguage(),u)for(const[E,b]of Object.entries(u))g.settings[E]=b;return d&&g.setPersistence(d),g},[t,r,i,s,u,d]))(ae,s,d,E,b,x,g,N)),ld({bufferSize:1,refCount:!1}));if(dr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Kt.of)(null);else{se.pipe(ws()).subscribe();const He=se.pipe((0,kr.w)(pt=>pt.getRedirectResult().then(kt=>kt,()=>null)),Ir.iC,ld({bufferSize:1,refCount:!1})),rt=se.pipe((0,kr.w)(pt=>new Bi.y(kt=>({unsubscribe:s.runOutsideAngular(()=>pt.onAuthStateChanged(Lt=>kt.next(Lt),Lt=>kt.error(Lt),()=>kt.complete()))})))),Xe=se.pipe((0,kr.w)(pt=>new Bi.y(kt=>({unsubscribe:s.runOutsideAngular(()=>pt.onIdTokenChanged(Lt=>kt.next(Lt),Lt=>kt.error(Lt),()=>kt.complete()))}))));this.authState=He.pipe(e_(rt),(0,Xu.R)(u.outsideAngular),(0,Pp.Q)(u.insideAngular)),this.user=He.pipe(e_(Xe),(0,Xu.R)(u.outsideAngular),(0,Pp.Q)(u.insideAngular)),this.idToken=this.user.pipe((0,kr.w)(pt=>pt?(0,pr.D)(pt.getIdToken()):(0,Kt.of)(null))),this.idTokenResult=this.user.pipe((0,kr.w)(pt=>pt?(0,pr.D)(pt.getIdTokenResult()):(0,Kt.of)(null))),this.credential=(0,Kv.T)(He,Y,this.authState.pipe(jo(pt=>!pt))).pipe((0,Cn.U)(pt=>pt?.user?pt:null),(0,Xu.R)(u.outsideAngular),(0,Pp.Q)(u.insideAngular))}return(0,mo.pX)(this,se,s,{spy:{apply:(ae,He,rt)=>{(ae.startsWith("signIn")||ae.startsWith("createUser"))&&rt.then(Xe=>Y.next(Xe))}}})}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(mo.Dh),_.LFG(mo.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Ir.HU),_.LFG(zp,8),_.LFG(Gp,8),_.LFG(Hp,8),_.LFG(qp,8),_.LFG(Wp,8),_.LFG(Kp,8),_.LFG(w0,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),w_=(()=>{class n{constructor(t,r,i){this.firebaseAuthenticationService=t,this.router=r,this.ngZone=i,this.firebaseAuthenticationService.authState.subscribe(s=>{s?(this.userData=s,localStorage.setItem("user",JSON.stringify(this.userData))):localStorage.setItem("user","null")})}logInWithEmailAndPassword(t,r){return this.firebaseAuthenticationService.signInWithEmailAndPassword(t,r).then(i=>{this.userData=i.user,this.observeUserState()}).catch(i=>{alert(i.message)})}logInWithGoogleProvider(){return this.firebaseAuthenticationService.signInWithPopup(new Uh.V).then(()=>this.observeUserState()).catch(t=>{alert(t.message)})}signUpWithEmailAndPassword(t,r){return this.firebaseAuthenticationService.createUserWithEmailAndPassword(t,r).then(i=>{this.userData=i.user,this.observeUserState()}).catch(i=>{alert(i.message)})}observeUserState(){this.firebaseAuthenticationService.authState.subscribe(t=>{t&&this.ngZone.run(()=>this.router.navigate(["dashboard"]))})}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}logOut(){return this.firebaseAuthenticationService.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["login"])})}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Zh),_.LFG(Ts),_.LFG(_.R0b))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iD=(()=>{class n{constructor(t){this.authService=t}logIn(t,r){this.authService.logInWithEmailAndPassword(t,r)}logInWithGoogle(){this.authService.logInWithGoogleProvider()}}return n.\u0275fac=function(t){return new(t||n)(_.Y36(w_))},n.\u0275cmp=_.Xpm({type:n,selectors:[["app-login"]],decls:32,vars:0,consts:[["A","",1,"bg-image"],[1,"absolute","inset-0","bg-cover","bg-center"],[1,"flex","flex-col","items-center","justify-center","mx-auto","md:h-screen","lg:py-0","relative","z-10"],["href","#",1,"flex","items-center","mb-6","text-2xl","font-semibold","text-gray-900","dark:text-white"],["src","../../../assets/images/logo.png","alt","logo",1,"w-8","h-8","mr-2"],[1,"w-full","bg-white","rounded-lg","shadow","dark:border","md:mt-0","sm:max-w-md","xl:p-0","dark:bg-gray-800","dark:border-gray-700"],[1,"p-6","space-y-4","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-tight","tracking-tight","text-gray-900","md:text-2xl","dark:text-white"],[1,"space-y-4","md:space-y-6"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","email","name","email","id","email","placeholder","example@email.com","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["email",""],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","password","name","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["password",""],["type","click",1,"w-full","text-white","bg-primary-600","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-primary-600","dark:hover:bg-primary-700","dark:focus:ring-primary-800",3,"click"],["type","click",1,"flex","items-center","justify-center","w-full","text-gray-900","bg-gray-100","hover:bg-gray-300","focus:ring-4","focus:outline-none","focus:ring-primary-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-gray-50","dark:hover:bg-gray-100","dark:focus:bg-gray-100",3,"click"],[1,"w-10"],["src","https://www.svgrepo.com/show/475656/google-color.svg","loading","lazy","alt","google logo",1,"w-6","h-6"],[1,"text-sm","font-light","text-gray-500","dark:text-gray-400"],["href","#","routerLink","/sign-up",1,"font-medium","text-primary-600","hover:underline","dark:text-primary-500"]],template:function(t,r){if(1&t){const i=_.EpF();_.TgZ(0,"section",0),_._UZ(1,"div",1),_.TgZ(2,"div",2)(3,"a",3),_._UZ(4,"img",4),_._uU(5," TripTrove "),_.qZA(),_.TgZ(6,"div",5)(7,"div",6)(8,"h1",7),_._uU(9," Sign in to your account "),_.qZA(),_.TgZ(10,"div",8)(11,"div")(12,"label",9),_._uU(13,"Your email"),_.qZA(),_._UZ(14,"input",10,11),_.qZA(),_.TgZ(16,"div")(17,"label",12),_._uU(18,"Password"),_.qZA(),_._UZ(19,"input",13,14),_.qZA(),_.TgZ(21,"button",15),_.NdJ("click",function(){_.CHM(i);const u=_.MAs(15),d=_.MAs(20);return _.KtG(r.logIn(u.value,d.value))}),_._uU(22,"Sign in"),_.qZA(),_.TgZ(23,"button",16),_.NdJ("click",function(){return r.logInWithGoogle()}),_.TgZ(24,"div",17),_._UZ(25,"img",18),_.qZA(),_.TgZ(26,"span"),_._uU(27,"Sign in with Google"),_.qZA()(),_.TgZ(28,"p",19),_._uU(29," Don\u2019t have an account yet? "),_.TgZ(30,"a",20),_._uU(31,"Sign up"),_.qZA()()()()()()()}},dependencies:[kh],styles:[".bg-image[_ngcontent-%COMP%]{background-image:url(fondoLogin.2db4eed342a65978.jpg);background-size:cover;background-position:center;background-repeat:no-repeat;background-color:#fffc}.container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.w-full[_ngcontent-%COMP%]{background-color:#fffc}.text-gray-900[_ngcontent-%COMP%]{color:#000c}"]}),n})(),sD=(()=>{class n{constructor(t){this.authService=t}signUp(t,r){this.authService.signUpWithEmailAndPassword(t,r)}}return n.\u0275fac=function(t){return new(t||n)(_.Y36(w_))},n.\u0275cmp=_.Xpm({type:n,selectors:[["app-sign-up"]],decls:26,vars:0,consts:[[1,"bg-image"],[1,"flex","flex-col","items-center","justify-center","px-6","py-8","mx-auto","md:h-screen","lg:py-0"],["href","#",1,"flex","items-center","mb-6","text-2xl","font-semibold","text-gray-900","dark:text-white"],["src","../../../assets/images/logo.png","alt","logo",1,"w-8","h-8","mr-2"],[1,"w-full","bg-white","rounded-lg","shadow","dark:border","md:mt-0","sm:max-w-md","xl:p-0","dark:bg-gray-800","dark:border-gray-700"],[1,"p-6","space-y-4","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-tight","tracking-tight","text-gray-900","md:text-2xl","dark:text-white"],[1,"space-y-4","md:space-y-6"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","email","name","email","id","email","placeholder","example@email.com","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["email",""],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","password","name","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["password",""],["type","click",1,"w-full","text-white","bg-primary-600","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-primary-600","dark:hover:bg-primary-700","dark:focus:ring-primary-800",3,"click"],[1,"text-sm","font-light","text-gray-500","dark:text-gray-400"],["href","#","routerLink","/login",1,"font-medium","text-primary-600","hover:underline","dark:text-primary-500"]],template:function(t,r){if(1&t){const i=_.EpF();_.TgZ(0,"section",0)(1,"div",1)(2,"a",2),_._UZ(3,"img",3),_._uU(4," TripTrove "),_.qZA(),_.TgZ(5,"div",4)(6,"div",5)(7,"h1",6),_._uU(8," Sign Up "),_.qZA(),_.TgZ(9,"div",7)(10,"div")(11,"label",8),_._uU(12,"Your email"),_.qZA(),_._UZ(13,"input",9,10),_.qZA(),_.TgZ(15,"div")(16,"label",11),_._uU(17,"Password"),_.qZA(),_._UZ(18,"input",12,13),_.qZA(),_.TgZ(20,"button",14),_.NdJ("click",function(){_.CHM(i);const u=_.MAs(14),d=_.MAs(19);return _.KtG(r.signUp(u.value,d.value))}),_._uU(21," Sign Up "),_.qZA(),_.TgZ(22,"p",15),_._uU(23," Do you already have an account? "),_.TgZ(24,"a",16),_._uU(25,"Log In"),_.qZA()()()()()()()}},dependencies:[kh]}),n})(),oD=(()=>{class n{constructor(t){this.authService=t}logOut(){this.authService.logOut()}}return n.\u0275fac=function(t){return new(t||n)(_.Y36(w_))},n.\u0275cmp=_.Xpm({type:n,selectors:[["app-dashboard"]],decls:34,vars:0,consts:[["href","#",1,"logo"],["href","chatUsuario.jsp"],["href","mapa.jsp"],["href","cerrarSesion.jsp"],[1,"titulito"],[1,"cajita"],[1,"icon-description"],[1,"bx","bxs-star"],["id","ubicacionesList"],["id","contenedorPopup",2,"display","none"],["id","ubicacionesContent"],[1,"w-full","flex","justify-end","py-5","pr-5"],[1,"w-28","text-white","bg-red-600","hover:bg-red-500","focus:ring-4","focus:outline-none","focus:ring-red-500","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-red-600","dark:hover:bg-red-700","dark:focus:ring-red-800",3,"click"],["href","new-place"]],template:function(t,r){1&t&&(_.TgZ(0,"main")(1,"header")(2,"a",0),_._uU(3,"TripTrove"),_.qZA(),_.TgZ(4,"ul")(5,"li")(6,"a",1),_._uU(7,"CHAT SERVICIO TECNICO"),_.qZA()(),_.TgZ(8,"li")(9,"a",2),_._uU(10,"MAPA"),_.qZA()(),_.TgZ(11,"li")(12,"a",3),_._uU(13,"CERRAR SESION"),_.qZA()()()(),_._UZ(14,"br")(15,"br")(16,"br")(17,"br"),_.TgZ(18,"h2",4),_._uU(19,"Lugares Populares para ti,"),_.qZA(),_._UZ(20,"div",5),_.TgZ(21,"div",6),_._UZ(22,"i",7),_.TgZ(23,"h2",4),_._uU(24,"Recomendados"),_.qZA()(),_._UZ(25,"ul",8),_.TgZ(26,"div",9),_._UZ(27,"div",10),_.qZA(),_.TgZ(28,"div",11)(29,"button",12),_.NdJ("click",function(){return r.logOut()}),_._uU(30,"Log Out"),_.qZA()(),_.TgZ(31,"li")(32,"a",13),_._uU(33,"INGRESAR"),_.qZA()()())},styles:['@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap");\n*[_ngcontent-%COMP%] {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n\n}\n\n#contenedorPopup[_ngcontent-%COMP%] {\n    overflow-y: auto; \n\n    max-height: 400px; \n\n}\n\n#ubicacionesList[_ngcontent-%COMP%] {\n    list-style: none;\n    padding: 0;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-around;\n}\n\n.botoncillo[_ngcontent-%COMP%] {\n    border: 1px solid #ddd;\n    margin: 10px;\n    padding: 15px;\n    border-radius: 8px;\n    background-color: #f9f9f9;\n    flex: 0 1 calc(33.33% - 20px); \n\n    box-sizing: border-box;\n    cursor: pointer;\n    transition: background-color 0.3s, filter 0.3s; \n\n    text-align: left;\n    height: 500px;\n}\n\n.botoncillo[_ngcontent-%COMP%]:hover {\n    background-color: #e0e0e0;\n}\n\n.botoncillo[_ngcontent-%COMP%]:active {\n    background-color: #e0e0e0; \n\n    filter: brightness(1.2) hue-rotate(30deg); \n\n}\n\n.botoncillo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    max-width: 100%;\n    height: auto;\n    border-radius: 8px;\n    margin-top: 10px;\n    display: block;\n    margin: 0 auto;\n}\n\nheader[_ngcontent-%COMP%]{\n    position: fixed;\n    top:0;\n    left: 0;\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    transition: 0.9s;\n    padding: 10px 100px;\n    z-index: 100000;\n    font-size: 18px;\n}\n\nheader.sticky[_ngcontent-%COMP%]{\n    padding: 8px 100px;\n    background: #000000;\n}\n\nheader.sticky[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%], header.sticky[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{\n    color:#ffffff;\n}\n\nheader[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{\n    position: relative;\n    font-weight: 700;\n    color: #ffffff;\n    text-decoration: none;\n    font-size: 2em;\n    letter-spacing: 2px;\n    transition: 0.6s;\n}\n\nheader[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\n    position: relative;\n    display: flex;\n    justify-content: flex-end; \n\n    align-items: center;\n}\n\nheader[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n    position: relative;\n    list-style: none;\n    margin-left: 15px; \n\n}\n\nheader[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n    position: relative;\n    text-decoration: none;\n    color: rgb(0, 0, 0);\n    letter-spacing: 2px;\n    font-weight: 500;\n    transition: 0.5s;\n    overflow: hidden;\n}\n\n\nheader[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]::before, header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]::after {\n    content: "";\n    position: absolute;\n    width: 120%; \n\n    height: 3px; \n\n    background-color: #fafafa;\n    z-index: -1;\n    transition: transform 0.8s;\n    border-radius: 5px; \n\n}\n\nheader[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]::before {\n    top: 0;\n    left: -10%; \n\n    transform: scaleX(0);\n    transform-origin: right;\n}\n\nheader[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]::after {\n    bottom: 0;\n    right: -10%; \n\n    transform: scaleX(0);\n    transform-origin: left;\n}\n\nheader[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\n    color: #ffffff;\n}\n\nheader[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover::before, header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover::after {\n    transform: scaleX(1);\n    transform-origin: center;\n}\n\n.logo[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n}\n\n.titulito[_ngcontent-%COMP%] {\n    text-align: center;\n    font-size: 45px;\n    padding: 20px;\n    font-family: "Poppins", sans-serif;\n}\n\n.cajita[_ngcontent-%COMP%] {\n    width: 1200px;\n    height: 570px;\n    margin: 27px auto 0;\n}\n\n.cajita[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\n    display: flex;\n    padding: 0;\n    width: 400%;\n    animation: _ngcontent-%COMP%_slide 20s infinite alternate ease-in-out;\n}\n\n.cajita[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n    width: 100%;\n    list-style: none;\n    position: relative;\n}\n\n.textito[_ngcontent-%COMP%] {\n    font-weight: bold;\n    position: absolute;\n    text-align: center;\n    align-items: center;\n    padding: 0 250px;\n    top: 250px;\n    color: #ffffff;\n    font-family: "Poppins", sans-serif;\n}\n\n.textito[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\n    font-weight: bold;\n    font-size: 30px;\n    margin-bottom: 40px;\n    font-family: "Poppins", sans-serif;\n}\nh1[_ngcontent-%COMP%]{\n    padding: 31px;\n    font-weight: bold;\n    font-size: 30px;\n    font-family: "Poppins", sans-serif;\n    text-align: center;\n    align-items: center;\n}\n.cajita[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    width: 1200px;\n    height: 570px;\n}\n\n@keyframes _ngcontent-%COMP%_slide {\n    0% {\n        margin-left: 0;\n    }\n    20% {\n        margin-left: 0;\n    }\n    25% {\n        margin-left: -100%;\n    }\n    45% {\n        margin-left: -100%;\n    }\n    50% {\n        margin-left: -200%;\n    }\n    70% {\n        margin-left: -200%;\n    }\n    75% {\n        margin-left: -300%;\n    }\n    100% {\n        margin-left: -300%;\n    }\n}\n\n@media (max-width:991px) {\n    body[_ngcontent-%COMP%] {\n        padding: 30px;\n    }\n\n    .cajita[_ngcontent-%COMP%] {\n        width: 100%;\n    }\n\n    .textito[_ngcontent-%COMP%] {\n        font-family: Arial, Helvetica, sans-serif;\n        top: 50px;\n        padding: 0;\n    }\n\n    .textito[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\n        font-family: Arial, Helvetica, sans-serif;\n        font-size: 35px;\n        margin-bottom: 15px;\n    }\n\n    .textito[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n        font-family: Arial, Helvetica, sans-serif;\n        font-size: 15px;\n    }\n}\n\n.scroll[_ngcontent-%COMP%] {\n    position: relative;\n    display: flex;\n    width: 700px;\n    overflow: hidden;\n    -webkit-mask-image: linear-gradient(90deg, transparent,\n        #fff 20%,#fff 80%,transparent)\n}\n\n.scroll[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\n    white-space: nowrap;\n    animation: _ngcontent-%COMP%_animate var(--t) linear infinite;\n    animation-delay: calc(var(--t) * -1);\n}\n\n.scroll[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){\n    animation: _ngcontent-%COMP%_animate2 var(--t) linear infinite;\n    animation-delay: calc(var(--t) / -2);\n}\n\n@keyframes _ngcontent-%COMP%_animate{\n    0%\n    {\n        transform: translateX(100%);\n    }\n    100%\n    {\n        transform: translateX(-100%);\n    }\n}\n\n@keyframes _ngcontent-%COMP%_animate2{\n    0%\n    {\n        transform: translateX(0);\n    }\n    100%\n    {\n        transform: translateX(-200%);\n    }\n}\n\n\n.scroll[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{\n    display: inline-block;\n    letter-spacing: 0.2cm;\n    text-transform: uppercase;\n    margin: 10px;\n    background: #222;\n    color: #fff;\n    padding: 5px 10px;\n    border-radius: 5px;\n    transition: 0.5s;\n}\n\n.scroll[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover {\n    background: rgb(105, 1, 224);\n    cursor: pointer;\n}\n\n.imgbx[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{\n    max-width: 100px;\n    scale: 0.8;\n    filter: grayscale(1);\n    max-height: 200px;\n    min-height: 200px;\n    max-width: 200px;\n    min-width: 200px;\n}\n\n.imgbx[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{\n    filter: grayscale(0);\n}\n\n.desliza[_ngcontent-%COMP%]{\n    display: flex;\n    min-height: 50vh;\n    align-items: center;\n    justify-content: center;\n\n}\n#ubicacionesList[_ngcontent-%COMP%] {\n    list-style: none;\n    padding: 0;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-around;\n}\nbutton[_ngcontent-%COMP%] {\n    border: 1px solid #ddd;\n    margin: 10px;\n    padding: 15px;\n    border-radius: 8px;\n    background-color: #f9f9f9;\n    flex: 0 1 calc(30% - 20px);\n    box-sizing: border-box;\n    cursor: pointer;\n    transition: background-color 0.3s;\n    text-align: left;\n}\nbutton[_ngcontent-%COMP%]:hover {\n    background-color: #e0e0e0;\n}\nbutton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    max-width: 300px;\n    max-height: 300px;\n    height: auto;\n    border-radius: 8px;\n    margin-top: 10px;\n    display: block;\n    margin: 0 auto;\n}\n.icon-description[_ngcontent-%COMP%] {\n    margin: 40px;\n    margin-bottom: 100px;\n    text-align: center; \n\n}\n\n.icon-description[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n    font-size: 50px;\n    color: #000000;\n    transition: 0.7s;\n}\n\n.icon-description[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%] {\n    color: #0059ff;\n    text-shadow: 0 0 120px #1900ff;\n}\n.botoncillo[_ngcontent-%COMP%] {\n    background-color: #3498db;\n    color: #fff;\n    padding: 10px 20px;\n    border: none;\n    cursor: pointer;\n    border-radius: 5px;\n    margin-bottom: 10px;\n}\n\n\n\n#contenedorPopup[_ngcontent-%COMP%] {\n    background-color: rgba(255, 255, 255, 0.9);\n    border: 1px solid #ccc;\n    padding: 20px;\n    border-radius: 5px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\n    max-width: 400px; \n\n    display: none; \n\n}\n#comentarios-container[_ngcontent-%COMP%] {\n    color: black;  \n\n    padding: 10px;  \n\n}\n#contenedorPopup[_ngcontent-%COMP%] {\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    padding: 20px;\n    background-color: white;\n    border: 2px solid #ccc;\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n    z-index: 9999;\n    max-width: 80%;\n    max-height: 80%;\n    overflow: auto;\n}']}),n})();function A0(){return A0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},A0.apply(this,arguments)}var aD={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(n){},onComplete:function(n){},preStringTyped:function(n,e){},onStringTyped:function(n,e){},onLastStringBackspaced:function(n){},onTypingPaused:function(n,e){},onTypingResumed:function(n,e){},onReset:function(n){},onStop:function(n,e){},onStart:function(n,e){},onDestroy:function(n){}},uD=new(function(){function n(){}var e=n.prototype;return e.load=function(t,r,i){if(t.el="string"==typeof i?document.querySelector(i):i,t.options=A0({},aD,r),t.isInput="input"===t.el.tagName.toLowerCase(),t.attr=t.options.attr,t.bindInputFocusEvents=t.options.bindInputFocusEvents,t.showCursor=!t.isInput&&t.options.showCursor,t.cursorChar=t.options.cursorChar,t.cursorBlinking=!0,t.elContent=t.attr?t.el.getAttribute(t.attr):t.el.textContent,t.contentType=t.options.contentType,t.typeSpeed=t.options.typeSpeed,t.startDelay=t.options.startDelay,t.backSpeed=t.options.backSpeed,t.smartBackspace=t.options.smartBackspace,t.backDelay=t.options.backDelay,t.fadeOut=t.options.fadeOut,t.fadeOutClass=t.options.fadeOutClass,t.fadeOutDelay=t.options.fadeOutDelay,t.isPaused=!1,t.strings=t.options.strings.map(function(E){return E.trim()}),t.stringsElement="string"==typeof t.options.stringsElement?document.querySelector(t.options.stringsElement):t.options.stringsElement,t.stringsElement){t.strings=[],t.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var s=Array.prototype.slice.apply(t.stringsElement.children),u=s.length;if(u)for(var d=0;d<u;d+=1)t.strings.push(s[d].innerHTML.trim())}for(var g in t.strPos=0,t.currentElContent=this.getCurrentElContent(t),t.currentElContent&&t.currentElContent.length>0&&(t.strPos=t.currentElContent.length-1,t.strings.unshift(t.currentElContent)),t.sequence=[],t.strings)t.sequence[g]=g;t.arrayPos=0,t.stopNum=0,t.loop=t.options.loop,t.loopCount=t.options.loopCount,t.curLoop=0,t.shuffle=t.options.shuffle,t.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},t.typingComplete=!1,t.autoInsertCss=t.options.autoInsertCss,t.autoInsertCss&&(this.appendCursorAnimationCss(t),this.appendFadeOutAnimationCss(t))},e.getCurrentElContent=function(t){return t.attr?t.el.getAttribute(t.attr):t.isInput?t.el.value:"html"===t.contentType?t.el.innerHTML:t.el.textContent},e.appendCursorAnimationCss=function(t){var r="data-typed-js-cursor-css";if(t.showCursor&&!document.querySelector("["+r+"]")){var i=document.createElement("style");i.setAttribute(r,"true"),i.innerHTML="\n        .typed-cursor{\n          opacity: 1;\n        }\n        .typed-cursor.typed-cursor--blink{\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      ",document.body.appendChild(i)}},e.appendFadeOutAnimationCss=function(t){var r="data-typed-fadeout-js-css";if(t.fadeOut&&!document.querySelector("["+r+"]")){var i=document.createElement("style");i.setAttribute(r,"true"),i.innerHTML="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n        }\n        .typed-cursor.typed-cursor--blink.typed-fade-out{\n          -webkit-animation: 0;\n          animation: 0;\n        }\n      ",document.body.appendChild(i)}},n}()),Yw=new(function(){function n(){}var e=n.prototype;return e.typeHtmlChars=function(t,r,i){if("html"!==i.contentType)return r;var s=t.substring(r).charAt(0);if("<"===s||"&"===s){var u;for(u="<"===s?">":";";t.substring(r+1).charAt(0)!==u&&!(1+ ++r>t.length););r++}return r},e.backSpaceHtmlChars=function(t,r,i){if("html"!==i.contentType)return r;var s=t.substring(r).charAt(0);if(">"===s||";"===s){var u;for(u=">"===s?"<":"&";t.substring(r-1).charAt(0)!==u&&!(--r<0););r--}return r},n}()),cD=function(){function n(t,r){uD.load(this,r,t),this.begin()}var e=n.prototype;return e.toggle=function(){this.pause.status?this.start():this.stop()},e.stop=function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))},e.start=function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))},e.destroy=function(){this.reset(!1),this.options.onDestroy(this)},e.reset=function(t){void 0===t&&(t=!0),clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,t&&(this.insertCursor(),this.options.onReset(this),this.begin())},e.begin=function(){var t=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){0===t.strPos?t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos):t.backspace(t.strings[t.sequence[t.arrayPos]],t.strPos)},this.startDelay)},e.typewrite=function(t,r){var i=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var s=this.humanizer(this.typeSpeed),u=1;!0!==this.pause.status?this.timeout=setTimeout(function(){r=Yw.typeHtmlChars(t,r,i);var d=0,g=t.substring(r);if("^"===g.charAt(0)&&/^\^\d+/.test(g)){var E=1;E+=(g=/\d+/.exec(g)[0]).length,d=parseInt(g),i.temporaryPause=!0,i.options.onTypingPaused(i.arrayPos,i),t=t.substring(0,r)+t.substring(r+E),i.toggleBlinking(!0)}if("`"===g.charAt(0)){for(;"`"!==t.substring(r+u).charAt(0)&&(u++,!(r+u>t.length)););var b=t.substring(0,r),x=t.substring(b.length+1,r+u),N=t.substring(r+u+1);t=b+x+N,u--}i.timeout=setTimeout(function(){i.toggleBlinking(!1),r>=t.length?i.doneTyping(t,r):i.keepTyping(t,r,u),i.temporaryPause&&(i.temporaryPause=!1,i.options.onTypingResumed(i.arrayPos,i))},d)},s):this.setPauseStatus(t,r,!0)},e.keepTyping=function(t,r,i){0===r&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var s=t.substring(0,r+=i);this.replaceText(s),this.typewrite(t,r)},e.doneTyping=function(t,r){var i=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),!1===this.loop||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){i.backspace(t,r)},this.backDelay))},e.backspace=function(t,r){var i=this;if(!0!==this.pause.status){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var s=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){r=Yw.backSpaceHtmlChars(t,r,i);var u=t.substring(0,r);if(i.replaceText(u),i.smartBackspace){var d=i.strings[i.arrayPos+1];i.stopNum=d&&u===d.substring(0,r)?r:0}r>i.stopNum?(r--,i.backspace(t,r)):r<=i.stopNum&&(i.arrayPos++,i.arrayPos===i.strings.length?(i.arrayPos=0,i.options.onLastStringBackspaced(),i.shuffleStringsIfNeeded(),i.begin()):i.typewrite(i.strings[i.sequence[i.arrayPos]],r))},s)}else this.setPauseStatus(t,r,!1)},e.complete=function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0},e.setPauseStatus=function(t,r,i){this.pause.typewrite=i,this.pause.curString=t,this.pause.curStrPos=r},e.toggleBlinking=function(t){this.cursor&&(this.pause.status||this.cursorBlinking!==t&&(this.cursorBlinking=t,t?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))},e.humanizer=function(t){return Math.round(Math.random()*t/2)+t},e.shuffleStringsIfNeeded=function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))},e.initFadeOut=function(){var t=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){t.arrayPos++,t.replaceText(""),t.strings.length>t.arrayPos?t.typewrite(t.strings[t.sequence[t.arrayPos]],0):(t.typewrite(t.strings[0],0),t.arrayPos=0)},this.fadeOutDelay)},e.replaceText=function(t){this.attr?this.el.setAttribute(this.attr,t):this.isInput?this.el.value=t:"html"===this.contentType?this.el.innerHTML=t:this.el.textContent=t},e.bindFocusEvents=function(){var t=this;this.isInput&&(this.el.addEventListener("focus",function(r){t.stop()}),this.el.addEventListener("blur",function(r){t.el.value&&0!==t.el.value.length||t.start()}))},e.insertCursor=function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))},n}();let Jw=(()=>{class n{ngOnInit(){this.initTypingEffect()}initTypingEffect(){new cD(".multiText",{strings:["EXPERIENCIAS...  ","LUGARES...  ","CULTURA...  ","M\xc9XICO..."],loop:!0,typeSpeed:190,backSpeed:190,backDelay:3e3})}onScroll(){this.toggleStickyHeader(window.scrollY>0)}toggleStickyHeader(t){const r=document.querySelector("header");r&&r.classList.toggle("sticky",t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=_.Xpm({type:n,selectors:[["app-home"]],hostBindings:function(t,r){1&t&&_.NdJ("scroll",function(s){return r.onScroll(s)},!1,_.Jf7)},standalone:!0,features:[_.jDz],decls:59,vars:0,consts:[["href","http://myxitech.gerdoc.com",1,"logo"],["href","index.html"],["href","html/acercade.html"],["href","html/app.html"],["href","/login"],[1,"parallax","section2"],[1,"content","audi"],[1,"multiText"],[1,"contact-section"],[1,"company-info"],[1,"text-info"],[1,"team-member"],["href","https://www.instagram.com/daani_moon/?utm_source=ig_web_button_share_sheet&igshid=OGQ5ZDc2ODk2ZA==","target","_blank"],[1,"Myxi-text-info"],["href","","target","_blank"],["src","/src/assets/images/logomyxi.jpeg","alt","Logo de TripTrove"]],template:function(t,r){1&t&&(_.TgZ(0,"header")(1,"a",0),_._uU(2,"TripTrove"),_.qZA(),_.TgZ(3,"ul")(4,"li")(5,"a",1),_._uU(6,"INICIO"),_.qZA()(),_.TgZ(7,"li")(8,"a",2),_._uU(9,"ACERCA DE"),_.qZA()(),_.TgZ(10,"li")(11,"a",3),_._uU(12,"APP"),_.qZA()(),_.TgZ(13,"li")(14,"a",4),_._uU(15,"INGRESAR"),_.qZA()()()(),_.TgZ(16,"div",5),_._UZ(17,"br")(18,"br")(19,"br")(20,"br")(21,"br")(22,"br")(23,"br")(24,"br")(25,"br")(26,"br")(27,"br")(28,"br"),_.TgZ(29,"h1"),_._uU(30," TU GU\xcdA VIAJERO"),_.qZA(),_.TgZ(31,"div",6)(32,"h2"),_._uU(33," DESCUBRE "),_._UZ(34,"span",7),_.qZA()()(),_.TgZ(35,"div",8)(36,"div",9)(37,"div",10)(38,"h2"),_._uU(39,"Trip Trove"),_.qZA(),_.TgZ(40,"p"),_._uU(41,"Conoce nuestro centro de ayuda y Myxitech"),_.qZA()(),_._uU(42," asdfasdf "),_.TgZ(43,"div",11)(44,"h3"),_._uU(45,"Contactanos"),_.qZA(),_.TgZ(46,"p"),_._uU(47,"Numero: +52 1 55 6165 3040"),_.qZA(),_.TgZ(48,"p"),_._uU(49,"Redes Sociales: "),_.TgZ(50,"a",12),_._uU(51,"Daani_moon"),_.qZA()()(),_.TgZ(52,"div",13)(53,"h3"),_._uU(54,"Compa\xf1ia"),_.qZA(),_.TgZ(55,"p")(56,"a",14),_._uU(57,"Quienes somos"),_.qZA()()(),_._UZ(58,"img",15),_.qZA()())},styles:['@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap");\n  \n  *[_ngcontent-%COMP%] {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n      font-family: "Poppins", sans-serif;\n      color: #000000;\n      text-decoration: none;\n    }\n  \n    header[_ngcontent-%COMP%]{\n      position: fixed;\n      top:0;\n      left: 0;\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      transition: 0.9s;\n      padding: 40px 100px;\n      z-index: 100000;\n      font-size: 18px;\n    }\n  \n    header.sticky[_ngcontent-%COMP%]{\n      padding: 5px 100px;\n      background: #000000;\n    }\n  \n      header.sticky[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%], header.sticky[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{\n      color:#ffffff;\n    }\n  \n    header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{\n      position: relative;\n      font-weight: 700;\n      color: #000000;\n      text-decoration: none;\n      font-size: 2em;\n      letter-spacing: 2px;\n      transition: 0.6s;\n    }\n  \n    header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\n      position: relative;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  \n    header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{\n      position: relative;\n      list-style: none;\n    }\n  \n    header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n      position: relative;\n      margin: 0 15px;\n      text-decoration: none;\n      color: rgb(0, 0, 0);\n      letter-spacing: 2px;\n      font-weight: 500;\n      transition: 0.5s;\n      overflow: hidden;\n  }\n  \n  header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]::before, header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]::after {\n      content: "";\n      position: absolute;\n      width: 120%; \n\n      height: 3px; \n\n      background-color: #000;\n      z-index: -1;\n      transition: transform 0.8s;\n      border-radius: 5px; \n\n  }\n  \n  header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]::before {\n      top: 0;\n      left: -10%; \n\n      transform: scaleX(0);\n      transform-origin: right;\n  }\n  \n  header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]::after {\n      bottom: 0;\n      right: -10%; \n\n      transform: scaleX(0);\n      transform-origin: left;\n  }\n  \n  header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\n      color: #000000;\n  }\n  \n  header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover::before, header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover::after {\n      transform: scaleX(1);\n      transform-origin: center;\n  }\n  \n  .parallax[_ngcontent-%COMP%] {\n      background-attachment: fixed;\n      background-position: center;\n      background-size: cover;\n      width: 100%;\n      height: 100vh;\n    }\n  \n  .parallax.section2[_ngcontent-%COMP%] {\n      background-image: url("../../../assets/images/principal 1.jpg");\n      align-items: center;\n       align-content: center;\n        text-align: left;\n       justify-content: center;\n  }\n  \n  .parallax.section2[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\n    font-size: 100px; \n    color: #000000;\n  }\n  \n  \n  .audi[_ngcontent-%COMP%] {\n    text-align: left;\n    justify-content: center;\n  }\n  \n  .content.audi[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\n    color: #000000;\n    font-size: 35px;\n  }\n  .multiText[_ngcontent-%COMP%] {\n    font-size: 35px;\n  }\n  \n  \n\n  .contact-section[_ngcontent-%COMP%] {\n    background-color: rgb(32, 32, 32);\n    color: white;\n    padding: 50px;\n    text-align: center;\n    height: 30vh; \n\n  }\n  \n  .company-info[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    text-align: left;\n    flex-wrap: wrap; \n\n  }\n  \n  .company-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    max-width: 200px; \n    margin-right: 35px;\n    border-radius: 7px;\n    margin-bottom: 10px;\n  }\n  \n  .text-info[_ngcontent-%COMP%], .Myxi-text-info[_ngcontent-%COMP%] {\n    flex: 1;\n    max-width: 60%; \n\n  }\n  \n  .team-member[_ngcontent-%COMP%], .Myxi-text-info[_ngcontent-%COMP%] {\n    margin-top: 5px;\n    margin-left: 65px;\n  }\n  \n  .text-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .Myxi-text-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\n    font-size: 20px;\n    margin-bottom: 10px;\n    color: #ffffff;\n  }\n  \n  .text-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .Myxi-text-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n    font-size: 15px;\n    margin-bottom: 8px;\n    color: #ffffff;\n  }\n  \n  .team-member[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .Myxi-text-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n    color: #ffffff;\n  }']}),n})();Error;class S0 extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,S0.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vD.prototype.create)}}class vD{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],u=s?function nb(n,e){return n.replace(rb,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new S0(i,`${this.serviceName}: ${u} (${i}).`,r)}}const rb=/\{\$([^}]+)}/g;var Et,JR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},au={},Kc=Kc||{},an=JR||self;function R0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Jh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var OD="closure_uid_"+(1e9*Math.random()>>>0),XR=0;function eP(n,e,t){return n.call.apply(n.bind,arguments)}function kD(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function As(n,e,t){return(As=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eP:kD).apply(null,arguments)}function qr(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ai(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var u=Array(arguments.length-2),d=2;d<arguments.length;d++)u[d-2]=arguments[d];return e.prototype[i].apply(r,u)}}function _d(){this.s=this.s,this.o=this.o}_d.prototype.s=!1,_d.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function QV(n){Object.prototype.hasOwnProperty.call(n,OD)&&n[OD]||(n[OD]=++XR)}(this)},_d.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ob=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ab(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ub(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(R0(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let u=0;u<s;u++)n[i+u]=r[u]}else n.push(r)}}function hs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}hs.prototype.h=function(){this.defaultPrevented=!0};var Yp=function(){if(!an.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{an.addEventListener("test",()=>{},e),an.removeEventListener("test",()=>{},e)}catch{}return n}();function A_(n){return/^[\s\xa0]*$/.test(n)}function P0(){var n=an.navigator;return n&&(n=n.userAgent)?n:""}function uu(n){return-1!=P0().indexOf(n)}function cb(n){return cb[" "](n),n}cb[" "]=function(){};var Wo,n,YV=uu("Opera"),Xh=uu("Trident")||uu("MSIE"),N0=uu("Edge"),Ta=N0||Xh,VD=uu("Gecko")&&!(-1!=P0().toLowerCase().indexOf("webkit")&&!uu("Edge"))&&!(uu("Trident")||uu("MSIE"))&&!uu("Edge"),nP=-1!=P0().toLowerCase().indexOf("webkit")&&!uu("Edge");function cu(){var n=an.document;return n?n.documentMode:void 0}e:{var Ko="",O0=(n=P0(),VD?/rv:([^\);]+)(\)|;)/.exec(n):N0?/Edge\/([\d\.]+)/.exec(n):Xh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):nP?/WebKit\/(\S+)/.exec(n):YV?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(O0&&(Ko=O0?O0[1]:""),Xh){var k0=cu();if(null!=k0&&k0>parseFloat(Ko)){Wo=String(k0);break e}}Wo=Ko}var rP=an.document&&Xh&&(cu()||parseInt(Wo,10))||void 0;function C_(n,e){if(hs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(VD){e:{try{cb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:db[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&C_.$.h.call(this)}}Ai(C_,hs);var db={2:"touch",3:"pen",4:"mouse"};C_.prototype.h=function(){C_.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Zc="closure_listenable_"+(1e6*Math.random()|0),iP=0;function BD(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++iP,this.fa=this.ia=!1}function F0(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function hb(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function fb(n){const e={};for(const t in n)e[t]=n[t];return e}const D_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jD(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<D_.length;s++)t=D_[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function S_(n){this.src=n,this.g={},this.h=0}function V0(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=ob(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(F0(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function L0(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}S_.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=L0(n,e,r,i);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new BD(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var pb="closure_lm_"+(1e6*Math.random()|0),gb={};function B0(n,e,t,r,i){if(r&&r.once)return _b(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)B0(n,e[s],t,r,i);return null}return t=Eb(t),n&&n[Zc]?n.O(e,t,Jh(r)?!!r.capture:!!r,i):U0(n,e,t,!1,r,i)}function U0(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var u=Jh(i)?!!i.capture:!!i,d=$0(n);if(d||(n[pb]=d=new S_(n)),(t=d.add(e,t,r,u,s)).proxy)return t;if(r=function mb(){const e=$D;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Yp||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(vb(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function _b(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)_b(n,e[s],t,r,i);return null}return t=Eb(t),n&&n[Zc]?n.P(e,t,Jh(r)?!!r.capture:!!r,i):U0(n,e,t,!0,r,i)}function yb(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)yb(n,e[s],t,r,i);else r=Jh(r)?!!r.capture:!!r,t=Eb(t),n&&n[Zc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=L0(s=n.g[e],t,r,i))&&(F0(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=$0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=L0(e,t,r,i)),(t=-1<n?e[n]:null)&&j0(t))}function j0(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Zc])V0(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(vb(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=$0(e))?(V0(t,n),0==t.h&&(t.src=null,e[pb]=null)):F0(n)}}}function vb(n){return n in gb?gb[n]:gb[n]="on"+n}function $D(n,e){if(n.fa)n=!0;else{e=new C_(e,this);var t=n.listener,r=n.la||n.src;n.ia&&j0(n),n=t.call(r,e)}return n}function $0(n){return(n=n[pb])instanceof S_?n:null}var z0="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eb(n){return"function"==typeof n?n:(n[z0]||(n[z0]=function(e){return n.handleEvent(e)}),n[z0])}function Gi(){_d.call(this),this.i=new S_(this),this.S=this,this.J=null}function fs(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new hs(e,n);else if(e instanceof hs)e.target=e.target||n;else{var i=e;jD(e=new hs(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var u=e.g=t[s];i=G0(u,r,!0,e)&&i}if(i=G0(u=e.g=n,r,!0,e)&&i,i=G0(u,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=G0(u=e.g=t[s],r,!1,e)&&i}function G0(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var u=e[s];if(u&&!u.fa&&u.capture==t){var d=u.listener,g=u.la||u.src;u.ia&&V0(n.i,u),i=!1!==d.call(g,r)&&i}}return i&&!r.defaultPrevented}Ai(Gi,_d),Gi.prototype[Zc]=!0,Gi.prototype.removeEventListener=function(n,e,t,r){yb(this,n,e,t,r)},Gi.prototype.N=function(){if(Gi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)F0(t[r]);delete n.g[e],n.h--}}this.J=null},Gi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Gi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ib=an.JSON.stringify;function oP(){var n=wb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var zD=new class sP{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new uP,n=>n.reset());class uP{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function cP(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function lP(n){an.setTimeout(()=>{throw n},0)}let x_,M_=!1,wb=new class aP{constructor(){this.h=this.g=null}add(e,t){const r=zD.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},GD=()=>{const n=an.Promise.resolve(void 0);x_=()=>{n.then(dP)}};var dP=()=>{for(var n;n=oP();){try{n.h.call(n.g)}catch(t){lP(t)}var e=zD;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}M_=!1};function H0(n,e){Gi.call(this),this.h=n||1,this.g=e||an,this.j=As(this.qb,this),this.l=Date.now()}function q0(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function W0(n,e,t){if("function"==typeof n)t&&(n=As(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=As(n.handleEvent,n)}return 2147483647<Number(e)?-1:an.setTimeout(n,e||0)}function bb(n){n.g=W0(()=>{n.g=null,n.i&&(n.i=!1,bb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ai(H0,Gi),(Et=H0.prototype).ga=!1,Et.T=null,Et.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fs(this,"tick"),this.ga&&(q0(this),this.start()))}},Et.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Et.N=function(){H0.$.N.call(this),q0(this),delete this.g};class HD extends _d{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bb(this)}N(){super.N(),this.g&&(an.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jp(n){_d.call(this),this.h=n,this.g={}}Ai(Jp,_d);var Tb=[];function Ab(n,e,t,r){Array.isArray(t)||(t&&(Tb[0]=t.toString()),t=Tb);for(var i=0;i<t.length;i++){var s=B0(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Cb(n){hb(n.g,function(e,t){this.g.hasOwnProperty(t)&&j0(e)},n),n.g={}}function R_(){this.g=!0}function Aa(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function fP(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<i.length;u++)i[u]=""}}}return Ib(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Jp.prototype.N=function(){Jp.$.N.call(this),Cb(this)},Jp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},R_.prototype.Ea=function(){this.g=!1},R_.prototype.info=function(){};var Ca={},pP=null;function Xp(){return pP=pP||new Gi}function gP(n){hs.call(this,Ca.Ta,n)}function eg(n){const e=Xp();fs(e,new gP(e))}function Db(n,e){hs.call(this,Ca.STAT_EVENT,n),this.stat=e}function vo(n){const e=Xp();fs(e,new Db(e,n))}function Zt(n,e){hs.call(this,Ca.Ua,n),this.size=e}function P_(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return an.setTimeout(function(){n()},e)}Ca.Ta="serverreachability",Ai(gP,hs),Ca.STAT_EVENT="statevent",Ai(Db,hs),Ca.Ua="timingevent",Ai(Zt,hs);var K0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},KD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function yd(){}function N_(){}yd.prototype.h=null;var Z0,vd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Dr(){hs.call(this,"d")}function QD(){hs.call(this,"c")}function O_(){}function k_(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Jp(this),this.P=YD,this.V=new H0(n=Ta?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Sb}function Sb(){this.i=null,this.g="",this.h=!1}Ai(Dr,hs),Ai(QD,hs),Ai(O_,yd),O_.prototype.g=function(){return new XMLHttpRequest},O_.prototype.i=function(){return{}},Z0=new O_;var YD=45e3,Q0={},F_={};function xb(n,e,t){n.L=1,n.v=J0(rc(e)),n.s=t,n.S=!0,JD(n,null)}function JD(n,e){n.G=Date.now(),V_(n),n.A=rc(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),sS(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Sb,n.g=Bb(n.l,t?e:null,!n.s),0<n.O&&(n.M=new HD(As(n.Pa,n,n.g),n.O)),Ab(n.U,n.g,"readystatechange",n.nb),e=n.I?fb(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),eg(),function qD(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var u="",d=s.split("&"),g=0;g<d.length;g++){var E=d[g].split("=");if(1<E.length){var b=E[0];E=E[1];var x=b.split("_");u=2<=x.length&&"type"==x[1]?u+(b+"=")+E+"&":u+(b+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function XD(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function tg(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=mP(n,t),i==F_){4==e&&(n.o=4,vo(14),r=!1),Aa(n.j,n.m,null,"[Incomplete Response]");break}if(i==Q0){n.o=4,vo(15),Aa(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Aa(n.j,n.m,i,null),Y0(n,i)}XD(n)&&i!=F_&&i!=Q0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,vo(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Id(e),e.M=!0,vo(11))):(Aa(n.j,n.m,t,"[Invalid Chunked Response]"),Ed(n),ng(n))}function mP(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?F_:(t=Number(e.substring(t,r)),isNaN(t)?Q0:(r+=1)+t>e.length?F_:(e=e.slice(r,r+t),n.C=r+t,e))}function V_(n){n.Y=Date.now()+n.P,eS(n,n.P)}function eS(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=P_(As(n.lb,n),e)}function ef(n){n.B&&(an.clearTimeout(n.B),n.B=null)}function ng(n){0==n.l.H||n.J||SP(n.l,n)}function Ed(n){ef(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,q0(n.V),Cb(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Y0(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||nf(t.i,n)))if(!n.K&&nf(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;aE(t),ag(t)}oE(t),vo(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=P_(As(t.ib,t),6e3));if(1>=cS(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Yc(t,11)}else if((n.K||t.g==n)&&aE(t),!A_(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.V=E[0],E=E[1],2==t.H)if("c"==E[0]){t.K=E[1],t.pa=E[2];const b=E[3];null!=b&&(t.ra=b,t.l.info("VER="+t.ra));const x=E[4];null!=x&&(t.Ga=x,t.l.info("SVER="+t.Ga));const N=E[5];null!=N&&"number"==typeof N&&0<N&&(t.L=r=1.5*N,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const L=n.g;if(L){const Y=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Y){var s=r.i;s.g||-1==Y.indexOf("spdy")&&-1==Y.indexOf("quic")&&-1==Y.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Mb(s,s.h),s.h=null))}if(r.F){const se=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;se&&(r.Da=se,mr(r.I,r.F,se))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var u=n;if((r=t).wa=Lb(r,r.J?r.pa:null,r.Y),u.K){Rb(r.i,u);var d=u,g=r.L;g&&d.setTimeout(g),d.B&&(ef(d),V_(d)),r.g=u}else IS(r);0<t.j.length&&K_(t)}else"stop"!=E[0]&&"close"!=E[0]||Yc(t,7);else 3==t.H&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?Yc(t,7):kb(t):"noop"!=E[0]&&t.h&&t.h.Aa(E),t.A=0)}eg()}catch{}}function rg(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(R0(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function L_(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(R0(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function _P(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(R0(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(Et=k_.prototype).setTimeout=function(n){this.P=n},Et.nb=function(n){n=n.target;const e=this.M;e&&3==lu(n)?e.l():this.Pa(n)},Et.Pa=function(n){try{if(n==this.g)e:{const b=lu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||Ta||this.g&&(this.h.h||this.g.ja()||Ob(this.g)))){this.J||4!=b||7==e||eg(),ef(this);var t=this.g.da();this.ca=t;t:if(XD(this)){var r=Ob(this.g);n="";var i=r.length,s=4==lu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ed(this),ng(this);var u="";break t}this.h.i=new an.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function WD(n,e,t,r,i,s,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.W,b,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var d,g=this.g;if((d=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A_(d)){var E=d;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,vo(12),Ed(this),ng(this);break e}Aa(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Y0(this,t)}this.S?(tg(this,b,u),Ta&&this.i&&3==b&&(Ab(this.U,this.V,"tick",this.mb),this.V.start())):(Aa(this.j,this.m,u,null),Y0(this,u)),4==b&&Ed(this),this.i&&!this.J&&(4==b?SP(this.l,this):(this.i=!1,V_(this)))}else(function DP(n){const e={};n=(n.g&&2<=lu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(A_(n[r]))continue;var t=cP(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function UD(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<u.indexOf("Unknown SID")?(this.o=3,vo(12)):(this.o=0,vo(13)),Ed(this),ng(this)}}}catch{}},Et.mb=function(){if(this.g){var n=lu(this.g),e=this.g.ja();this.C<e.length&&(ef(this),tg(this,n,e),this.i&&4!=n&&V_(this))}},Et.cancel=function(){this.J=!0,Ed(this)},Et.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function hP(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(eg(),vo(17)),Ed(this),this.o=2,ng(this)):eS(this,this.Y-n)};var tS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tf(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof tf){this.h=n.h,B_(this,n.j),this.s=n.s,this.g=n.g,U_(this,n.m),this.l=n.l;var e=n.i,t=new $_;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),nS(this,t),this.o=n.o}else n&&(e=String(n).match(tS))?(this.h=!1,B_(this,e[1]||"",!0),this.s=j_(e[2]||""),this.g=j_(e[3]||"",!0),U_(this,e[4]),this.l=j_(e[5]||"",!0),nS(this,e[6]||"",!0),this.o=j_(e[7]||"")):(this.h=!1,this.i=new $_(null,this.h))}function rc(n){return new tf(n)}function B_(n,e,t){n.j=t?j_(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function U_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function nS(n,e,t){e instanceof $_?(n.i=e,function IP(n,e){e&&!n.j&&(Qc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(ig(this,r),sS(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=X0(e,eE)),n.i=new $_(e,n.h))}function mr(n,e,t){n.i.set(e,t)}function J0(n){return mr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function j_(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function X0(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,JV),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function JV(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}tf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(X0(e,vP,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(X0(e,vP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(X0(t,"/"==t.charAt(0)?rS:XV,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",X0(t,EP)),n.join("")};var vP=/[#\/\?@]/g,XV=/[#\?:]/g,rS=/[#\?]/g,eE=/[#\?@]/g,EP=/#/g;function $_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Qc(n){n.g||(n.g=new Map,n.h=0,n.i&&function yP(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ig(n,e){Qc(n),e=sg(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function iS(n,e){return Qc(n),e=sg(n,e),n.g.has(e)}function sS(n,e,t){ig(n,e),0<t.length&&(n.i=null,n.g.set(sg(n,e),ab(t)),n.h+=t.length)}function sg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function oS(n){this.l=n||aS,n=an.PerformanceNavigationTiming?0<(n=an.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(an.g&&an.g.Ka&&an.g.Ka()&&an.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Et=$_.prototype).add=function(n,e){Qc(this),this.i=null,n=sg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Et.forEach=function(n,e){Qc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Et.ta=function(){Qc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},Et.Z=function(n){Qc(this);let e=[];if("string"==typeof n)iS(this,n)&&(e=e.concat(this.g.get(sg(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Et.set=function(n,e){return Qc(this),this.i=null,iS(this,n=sg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Et.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var i=s;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var aS=10;function uS(n){return!!n.h||!!n.g&&n.g.size>=n.j}function cS(n){return n.h?1:n.g?n.g.size:0}function nf(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Mb(n,e){n.g?n.g.add(e):n.h=e}function Rb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function lS(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return ab(n.i)}oS.prototype.cancel=function(){if(this.i=lS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var dS=class{stringify(n){return an.JSON.stringify(n,void 0)}parse(n){return an.JSON.parse(n,void 0)}};function wP(){this.g=new dS}function hS(n,e,t){const r=t||"";try{rg(n,function(i,s){let u=i;Jh(i)&&(u=Ib(i)),e.push(r+s+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function og(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function z_(n){this.l=n.ec||null,this.j=n.ob||!1}function G_(n,e){Gi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=tE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ai(z_,yd),z_.prototype.g=function(){return new G_(this.l,this.j)},z_.prototype.i=function(n){return function(){return n}}({}),Ai(G_,Gi);var tE=0;function fS(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function H_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,q_(n)}function q_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Et=G_.prototype).open=function(n,e){if(this.readyState!=tE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,q_(this)},Et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||an).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,H_(this)),this.readyState=tE},Et.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,q_(this)),this.g&&(this.readyState=3,q_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof an.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fS(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Et.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?H_(this):q_(this),3==this.readyState&&fS(this)}},Et.Za=function(n){this.g&&(this.response=this.responseText=n,H_(this))},Et.Ya=function(n){this.g&&(this.response=n,H_(this))},Et.ka=function(){this.g&&H_(this)},Et.setRequestHeader=function(n,e){this.v.append(n,e)},Et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(G_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Pb=an.JSON.parse;function Wr(n){Gi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Nb,this.L=this.M=!1}Ai(Wr,Gi);var Nb="",TP=/^https?$/i,AP=["POST","PUT"];function pS(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,gS(n),nE(n)}function gS(n){n.F||(n.F=!0,fs(n,"complete"),fs(n,"error"))}function mS(n){if(n.h&&typeof Kc<"u"&&(!n.C[1]||4!=lu(n)||2!=n.da()))if(n.v&&4==lu(n))W0(n.La,0,n);else if(fs(n,"readystatechange"),4==lu(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===u){var i=String(n.I).match(tS)[1]||null;!i&&an.self&&an.self.location&&(i=an.self.location.protocol.slice(0,-1)),r=!TP.test(i?i.toLowerCase():"")}t=r}if(t)fs(n,"complete"),fs(n,"success");else{n.m=6;try{var s=2<lu(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",gS(n)}}finally{nE(n)}}}function nE(n,e){if(n.g){_S(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||fs(n,"ready");try{t.onreadystatechange=r}catch{}}}function _S(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(an.clearTimeout(n.A),n.A=null)}function lu(n){return n.g?n.g.readyState:0}function Ob(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Nb:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function yS(n){let e="";return hb(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function rE(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=yS(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):mr(n,e,t))}function W_(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function vS(n){this.Ga=0,this.j=[],this.l=new R_,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=W_("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=W_("baseRetryDelayMs",5e3,n),this.hb=W_("retryDelaySeedMs",1e4,n),this.eb=W_("forwardChannelMaxRetries",2,n),this.xa=W_("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new oS(n&&n.concurrentRequestLimit),this.Ja=new wP,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function kb(n){if(iE(n),3==n.H){var e=n.W++,t=rc(n.I);if(mr(t,"SID",n.K),mr(t,"RID",e),mr(t,"TYPE","terminate"),Z_(n,t),(e=new k_(n,n.l,e)).L=2,e.v=J0(rc(t)),t=!1,an.navigator&&an.navigator.sendBeacon)try{t=an.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&an.Image&&((new Image).src=e.v,t=!0),t||(e.g=Bb(e.l,null),e.g.ha(e.v)),e.G=Date.now(),V_(e)}wS(n)}function ag(n){n.g&&(Id(n),n.g.cancel(),n.g=null)}function iE(n){ag(n),n.u&&(an.clearTimeout(n.u),n.u=null),aE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&an.clearTimeout(n.m),n.m=null)}function K_(n){if(!uS(n.i)&&!n.m){n.m=!0;var e=n.Na;x_||GD(),M_||(x_(),M_=!0),wb.add(e,n),n.C=0}}function ES(n,e){var t;t=e?e.m:n.W++;const r=rc(n.I);mr(r,"SID",n.K),mr(r,"RID",t),mr(r,"AID",n.V),Z_(n,r),n.o&&n.s&&rE(r,n.o,n.s),t=new k_(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=sE(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Mb(n.i,t),xb(t,r,e)}function Z_(n,e){n.na&&hb(n.na,function(t,r){mr(e,r,t)}),n.h&&rg({},function(t,r){mr(e,r,t)})}function sE(n,e,t){t=Math.min(n.j.length,t);var r=n.h?As(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const u=["count="+t];-1==s?0<t?(s=i[0].g,u.push("ofs="+s)):s=0:u.push("ofs="+s);let d=!0;for(let g=0;g<t;g++){let E=i[g].g;const b=i[g].map;if(E-=s,0>E)s=Math.max(0,i[g].g-100),d=!1;else try{hS(b,u,"req"+E+"_")}catch{r&&r(b)}}if(d){r=u.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function IS(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;x_||GD(),M_||(x_(),M_=!0),wb.add(e,n),n.A=0}}function oE(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=P_(As(n.Ma,n),uE(n,n.A)),n.A++,0))}function Id(n){null!=n.B&&(an.clearTimeout(n.B),n.B=null)}function Vb(n){n.g=new k_(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=rc(n.wa);mr(e,"RID","rpc"),mr(e,"SID",n.K),mr(e,"AID",n.V),mr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&mr(e,"TO",n.qa),mr(e,"TYPE","xmlhttp"),Z_(n,e),n.o&&n.s&&rE(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=J0(rc(e)),t.s=null,t.S=!0,JD(t,n)}function aE(n){null!=n.v&&(an.clearTimeout(n.v),n.v=null)}function SP(n,e){var t=null;if(n.g==e){aE(n),Id(n),n.g=null;var r=2}else{if(!nf(n.i,e))return;t=e.F,Rb(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;fs(r=Xp(),new Zt(r,t)),K_(n)}else IS(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Fb(n,e){return!(cS(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=P_(As(n.Na,n,e),uE(n,n.C)),n.C++,0)))}(n,e)||2==r&&oE(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Yc(n,5);break;case 4:Yc(n,10);break;case 3:Yc(n,6);break;default:Yc(n,2)}}function uE(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Yc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=As(n.pb,n);t||(t=new tf("//www.google.com/images/cleardot.gif"),an.location&&"http"==an.location.protocol||B_(t,"https"),J0(t)),function bP(n,e){const t=new R_;if(an.Image){const r=new Image;r.onload=qr(og,t,r,"TestLoadImage: loaded",!0,e),r.onerror=qr(og,t,r,"TestLoadImage: error",!1,e),r.onabort=qr(og,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=qr(og,t,r,"TestLoadImage: timeout",!1,e),an.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else vo(2);n.H=0,n.h&&n.h.za(e),wS(n),iE(n)}function wS(n){if(n.H=0,n.ma=[],n.h){const e=lS(n.i);(0!=e.length||0!=n.j.length)&&(ub(n.ma,e),ub(n.ma,n.j),n.i.i.length=0,ab(n.j),n.j.length=0),n.h.ya()}}function Lb(n,e,t){var r=t instanceof tf?rc(t):new tf(t);if(""!=r.g)e&&(r.g=e+"."+r.g),U_(r,r.m);else{var i=an.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new tf(null);r&&B_(s,r),e&&(s.g=e),i&&U_(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&mr(r,t,e),mr(r,"VER",n.ra),Z_(n,r),r}function Bb(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wr(t&&n.Ha&&!n.va?new z_({ob:!0}):n.va)).Oa(n.J),e}function bS(){}function Q_(){if(Xh&&!(10<=Number(rP)))throw Error("Environmental error: no available transport.")}function Gs(n,e){Gi.call(this),this.g=new vS(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!A_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!A_(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new rf(this)}function Ub(n){Dr.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function jb(){QD.call(this),this.status=1}function rf(n){this.g=n}function du(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function $b(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],u=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;u=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(u<<7&4294967295|u>>>25))+((u=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((s=(e=t+((u=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((i=s+((u=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function nr(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(Et=Wr.prototype).Oa=function(n){this.M=n},Et.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Z0.g(),this.C=function ZD(n){return n.h||(n.h=n.i())}(this.u?this.u:Z0),this.g.onreadystatechange=As(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void pS(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=an.FormData&&n instanceof an.FormData,!(0<=ob(AP,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of t)this.g.setRequestHeader(s,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_S(this),0<this.B&&((this.L=function CP(n){return Xh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=As(this.ua,this)):this.A=W0(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){pS(this,s)}},Et.ua=function(){typeof Kc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fs(this,"timeout"),this.abort(8))},Et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,fs(this,"complete"),fs(this,"abort"),nE(this))},Et.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nE(this,!0)),Wr.$.N.call(this)},Et.La=function(){this.s||(this.G||this.v||this.l?mS(this):this.kb())},Et.kb=function(){mS(this)},Et.isActive=function(){return!!this.g},Et.da=function(){try{return 2<lu(this)?this.g.status:-1}catch{return-1}},Et.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Et.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Pb(e)}},Et.Ia=function(){return this.m},Et.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Et=vS.prototype).ra=8,Et.H=1,Et.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new k_(this,this.l,n);let s=this.s;if(this.U&&(s?(s=fb(s),jD(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=sE(this,i,e),mr(t=rc(this.I),"RID",n),mr(t,"CVER",22),this.F&&mr(t,"X-HTTP-Session-Id",this.F),Z_(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(yS(s)))+"&"+e:this.o&&rE(t,this.o,s)),Mb(this.i,i),this.bb&&mr(t,"TYPE","init"),this.P?(mr(t,"$req",e),mr(t,"SID","null"),i.aa=!0,xb(i,t,null)):xb(i,t,e),this.H=2}}else 3==this.H&&(n?ES(this,n):0==this.j.length||uS(this.i)||ES(this))},Et.Ma=function(){if(this.u=null,Vb(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=P_(As(this.jb,this),n)}},Et.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vo(10),ag(this),Vb(this))},Et.ib=function(){null!=this.v&&(this.v=null,ag(this),oE(this),vo(19))},Et.pb=function(n){n?(this.l.info("Successfully pinged google.com"),vo(2)):(this.l.info("Failed to ping google.com"),vo(1))},Et.isActive=function(){return!!this.h&&this.h.isActive(this)},(Et=bS.prototype).Ba=function(){},Et.Aa=function(){},Et.za=function(){},Et.ya=function(){},Et.isActive=function(){return!0},Et.Va=function(){},Q_.prototype.g=function(n,e){return new Gs(n,e)},Ai(Gs,Gi),Gs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;vo(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Lb(n,null,n.Y),K_(n)},Gs.prototype.close=function(){kb(this.g)},Gs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Ib(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&K_(e)},Gs.prototype.N=function(){this.g.h=null,delete this.j,kb(this.g),delete this.g,Gs.$.N.call(this)},Ai(Ub,Dr),Ai(jb,QD),Ai(rf,bS),rf.prototype.Ba=function(){fs(this.g,"a")},rf.prototype.Aa=function(n){fs(this.g,new Ub(n))},rf.prototype.za=function(n){fs(this.g,new jb)},rf.prototype.ya=function(){fs(this.g,"b")},Ai(du,function TS(){this.blockSize=-1}),du.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},du.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)$b(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){$b(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){$b(this,r),i=0;break}}this.h=i,this.i+=e},du.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var xP={};function cE(n){return-128<=n&&128>n?function FD(n,e){var t=xP;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new nr([0|e],0>e?-1:0)}):new nr([0|n],0>n?-1:0)}function Jc(n){if(isNaN(n)||!isFinite(n))return ug;if(0>n)return Hi(Jc(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Gb;return new nr(e,0)}var Gb=4294967296,ug=cE(0),AS=cE(1),CS=cE(16777216);function Xc(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Da(n){return-1==n.h}function Hi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new nr(t,~n.h).add(AS)}function lE(n,e){return n.add(Hi(e))}function dE(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Y_(n,e){this.g=n,this.h=e}function hE(n,e){if(Xc(e))throw Error("division by zero");if(Xc(n))return new Y_(ug,ug);if(Da(n))return e=hE(Hi(n),e),new Y_(Hi(e.g),Hi(e.h));if(Da(e))return e=hE(n,Hi(e)),new Y_(Hi(e.g),e.h);if(30<n.g.length){if(Da(n)||Da(e))throw Error("slowDivide_ only works with positive integers.");for(var t=AS,r=e;0>=r.X(n);)t=DS(t),r=DS(r);var i=cg(t,1),s=cg(r,1);for(r=cg(r,2),t=cg(t,2);!Xc(r);){var u=s.add(r);0>=u.X(n)&&(i=i.add(t),s=u),r=cg(r,1),t=cg(t,1)}return e=lE(n,i.R(e)),new Y_(i,e)}for(i=ug;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),u=(s=Jc(t)).R(e);Da(u)||0<u.X(n);)u=(s=Jc(t-=r)).R(e);Xc(s)&&(s=AS),i=i.add(s),n=lE(n,u)}return new Y_(i,n)}function DS(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new nr(t,n.h)}function cg(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new nr(i,n.h)}(Et=nr.prototype).ea=function(){if(Da(this))return-Hi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Gb+r)*e,e*=Gb}return n},Et.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Xc(this))return"0";if(Da(this))return"-"+Hi(this).toString(n);for(var e=Jc(Math.pow(n,6)),t=this,r="";;){var i=hE(t,e).g,s=((0<(t=lE(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Xc(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Et.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Et.X=function(n){return Da(n=lE(this,n))?-1:Xc(n)?0:1},Et.abs=function(){return Da(this)?Hi(this):this},Et.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),u=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=u>>>16,t[i]=(u&=65535)<<16|(s&=65535)}return new nr(t,-2147483648&t[t.length-1]?-1:0)},Et.R=function(n){if(Xc(this)||Xc(n))return ug;if(Da(this))return Da(n)?Hi(this).R(Hi(n)):Hi(Hi(this).R(n));if(Da(n))return Hi(this.R(Hi(n)));if(0>this.X(CS)&&0>n.X(CS))return Jc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,u=65535&this.D(r),d=n.D(i)>>>16,g=65535&n.D(i);t[2*r+2*i]+=u*g,dE(t,2*r+2*i),t[2*r+2*i+1]+=s*g,dE(t,2*r+2*i+1),t[2*r+2*i+1]+=u*d,dE(t,2*r+2*i+1),t[2*r+2*i+2]+=s*d,dE(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new nr(t,0)},Et.gb=function(n){return hE(this,n).h},Et.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new nr(t,this.h&n.h)},Et.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new nr(t,this.h|n.h)},Et.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new nr(t,this.h^n.h)},Q_.prototype.createWebChannel=Q_.prototype.g,Gs.prototype.send=Gs.prototype.u,Gs.prototype.open=Gs.prototype.m,Gs.prototype.close=Gs.prototype.close,K0.NO_ERROR=0,K0.TIMEOUT=8,K0.HTTP_ERROR=6,KD.COMPLETE="complete",N_.EventType=vd,vd.OPEN="a",vd.CLOSE="b",vd.ERROR="c",vd.MESSAGE="d",Gi.prototype.listen=Gi.prototype.O,Wr.prototype.listenOnce=Wr.prototype.P,Wr.prototype.getLastError=Wr.prototype.Sa,Wr.prototype.getLastErrorCode=Wr.prototype.Ia,Wr.prototype.getStatus=Wr.prototype.da,Wr.prototype.getResponseJson=Wr.prototype.Wa,Wr.prototype.getResponseText=Wr.prototype.ja,Wr.prototype.send=Wr.prototype.ha,Wr.prototype.setWithCredentials=Wr.prototype.Oa,du.prototype.digest=du.prototype.l,du.prototype.reset=du.prototype.reset,du.prototype.update=du.prototype.j,nr.prototype.add=nr.prototype.add,nr.prototype.multiply=nr.prototype.R,nr.prototype.modulo=nr.prototype.gb,nr.prototype.compare=nr.prototype.X,nr.prototype.toNumber=nr.prototype.ea,nr.prototype.toString=nr.prototype.toString,nr.prototype.getBits=nr.prototype.D,nr.fromNumber=Jc,nr.fromString=function zb(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Hi(zb(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Jc(Math.pow(e,8)),r=ug,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),u=parseInt(n.substring(i,i+s),e);8>s?(s=Jc(Math.pow(e,s)),r=r.R(s).add(Jc(u))):r=(r=r.R(t)).add(Jc(u))}return r};var MP=au.createWebChannelTransport=function(){return new Q_},RP=au.getStatEventTarget=function(){return Xp()},sf=au.ErrorCode=K0,SS=au.EventType=KD,xS=au.Event=Ca,Hb=au.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},MS=au.FetchXmlHttpFactory=z_,J_=au.WebChannel=N_,PP=au.XhrIo=Wr,NP=au.Md5=du,X_=au.Integer=nr;const OP="@firebase/firestore";class qi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qi.UNAUTHENTICATED=new qi(null),qi.GOOGLE_CREDENTIALS=new qi("google-credentials-uid"),qi.FIRST_PARTY=new qi("first-party-uid"),qi.MOCK_USER=new qi("mock-user");let lg="10.5.2";const wd=new Yr.Yd("@firebase/firestore");function dg(){return wd.logLevel}function We(n,...e){if(wd.logLevel<=Yr.in.DEBUG){const t=e.map(Sa);wd.debug(`Firestore (${lg}): ${n}`,...t)}}function Jr(n,...e){if(wd.logLevel<=Yr.in.ERROR){const t=e.map(Sa);wd.error(`Firestore (${lg}): ${n}`,...t)}}function Hs(n,...e){if(wd.logLevel<=Yr.in.WARN){const t=e.map(Sa);wd.warn(`Firestore (${lg}): ${n}`,...t)}}function Sa(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Pt(n="Unexpected state"){const e=`FIRESTORE (${lg}) INTERNAL ASSERTION FAILED: `+n;throw Jr(e),new Error(e)}function Vt(n,e){n||Pt()}function gt(n,e){return n}const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends S0{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class qb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qi.UNAUTHENTICATED))}shutdown(){}}class Wb{constructor(e){this.t=e,this.currentUser=qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let u=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Kr,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const E=u;e.enqueueRetryable((0,Ye.Z)(function*(){yield E.promise,yield s(r.currentUser)}))},g=E=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(E=>g(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?g(E):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Kr)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt("string"==typeof r.accessToken),new qb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vt(null===e||"string"==typeof e),new qi(e)}}class VP{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=qi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class LP{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new VP(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.R;return this.R=s.token,We("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Vt("string"==typeof t.token),this.R=t.token,new Kb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function RS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class ey{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=RS(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function cn(n,e){return n<e?-1:n>e?1:0}function hg(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Sr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ze(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ze(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ze(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Sr.fromMillis(Date.now())}static fromDate(e){return Sr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Sr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?cn(this.nanoseconds,e.nanoseconds):cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new jt(e)}static min(){return new jt(new Sr(0,0))}static max(){return new jt(new Sr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class fg{constructor(e,t,r){void 0===t?t=0:t>e.length&&Pt(),void 0===r?r=e.length-t:r>e.length-t&&Pt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===fg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),u=t.get(i);if(s<u)return-1;if(s>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class kn extends fg{construct(e,t,r){return new kn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ze(Ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new kn(t)}static emptyPath(){return new kn([])}}const PS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends fg{construct(e,t,r){return new wr(e,t,r)}static isValidIdentifier(e){return PS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new Ze(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const d=e[i];if("\\"===d){if(i+1===e.length)throw new Ze(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[i+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Ze(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,i+=2}else"`"===d?(u=!u,i++):"."!==d||u?(r+=d,i++):(s(),i++)}if(s(),u)throw new Ze(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(t)}static emptyPath(){return new wr([])}}class _t{constructor(e){this.path=e}static fromPath(e){return new _t(kn.fromString(e))}static fromName(e){return new _t(kn.fromString(e).popFirst(5))}static empty(){return new _t(kn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===kn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return kn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new kn(e.slice()))}}function kS(n){return new Zo(n.readTime,n.key,-1)}class Zo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Zo(jt.min(),_t.empty(),-1)}static max(){return new Zo(jt.max(),_t.empty(),-1)}}function pE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=_t.comparator(n.documentKey,e.documentKey),0!==t?t:cn(n.largestBatchId,e.largestBatchId))}const gE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function bd(n){return mE.apply(this,arguments)}function mE(){return mE=(0,Ye.Z)(function*(n){if(n.code!==Ae.FAILED_PRECONDITION||n.message!==gE)throw n;We("LocalStore","Unexpectedly lost primary lease")}),mE.apply(this,arguments)}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,r)=>{t(e)})}static reject(e){return new he((t,r)=>{r(e)})}static waitFor(e){return new he((t,r)=>{let i=0,s=0,u=!1;e.forEach(d=>{++i,d.next(()=>{++s,u&&s===i&&t()},g=>r(g))}),u=!0,s===i&&t()})}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next(i=>i?he.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new he((r,i)=>{const s=e.length,u=new Array(s);let d=0;for(let g=0;g<s;g++){const E=g;t(e[E]).next(b=>{u[E]=b,++d,d===s&&r(u)},b=>i(b))}})}static doWhile(e,t){return new he((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function nl(n){return"IndexedDbTransactionError"===n.name}let Ma=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function mg(n){return null==n}function uf(n){return 0===n&&1/n==-1/0}function nT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}class _r{constructor(e,t){this.comparator=e,this.root=t||ps.EMPTY}insert(e,t){return new _r(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ps.BLACK,null,null))}remove(e){return new _r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ps.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ry(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ry(this.root,e,this.comparator,!1)}getReverseIterator(){return new ry(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ry(this.root,e,this.comparator,!0)}}class ry{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ps{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ps.RED,this.left=i??ps.EMPTY,this.right=s??ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ps(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ps.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ps.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pt();const e=this.left.check();if(e!==this.right.check())throw Pt();return e+(this.isRed()?0:1)}}ps.EMPTY=null,ps.RED=!0,ps.BLACK=!1,ps.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt()}get value(){throw Pt()}get color(){throw Pt()}get left(){throw Pt()}get right(){throw Pt()}copy(e,t,r,i,s){return this}insert(e,t,r){return new ps(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rr{constructor(e){this.comparator=e,this.data=new _r(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rT(this.data.getIterator())}getIteratorFrom(e){return new rT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new rr(this.comparator);return t.data=e,t}}class rT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qs{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new qs([])}unionWith(e){let t=new rr(wr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new qs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hg(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ZS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ki{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ZS("Invalid base64 string: "+s):s}}(e);return new Ki(t)}static fromUint8Array(e){const t=function(i){let s="";for(let u=0;u<i.length;++u)s+=String.fromCharCode(i[u]);return s}(e);return new Ki(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ki.EMPTY_BYTE_STRING=new Ki("");const QS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lf(n){if(Vt(!!n),"string"==typeof n){let e=0;const t=QS.exec(n);if(Vt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ei(n.seconds),nanos:ei(n.nanos)}}function ei(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Td(n){return"string"==typeof n?Ki.fromBase64String(n):Ki.fromUint8Array(n)}function iT(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function sT(n){const e=n.mapValue.fields.__previous_value__;return iT(e)?sT(e):e}function IE(n){const e=lf(n.mapValue.fields.__local_write_time__.timestampValue);return new Sr(e.seconds,e.nanos)}class aL{constructor(e,t,r,i,s,u,d,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=E}}class vg{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vg("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vg&&e.projectId===this.projectId&&e.database===this.database}}const df={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ic(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?iT(n)?4:uT(n)?9007199254740991:10:Pt()}function fu(n,e){if(n===e)return!0;const t=ic(n);if(t!==ic(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return IE(n).isEqual(IE(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const u=lf(i.timestampValue),d=lf(s.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Td(n.bytesValue).isEqual(Td(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return ei(i.geoPointValue.latitude)===ei(s.geoPointValue.latitude)&&ei(i.geoPointValue.longitude)===ei(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ei(i.integerValue)===ei(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const u=ei(i.doubleValue),d=ei(s.doubleValue);return u===d?uf(u)===uf(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return hg(n.arrayValue.values||[],e.arrayValue.values||[],fu);case 10:return function(i,s){const u=i.mapValue.fields||{},d=s.mapValue.fields||{};if(nT(u)!==nT(d))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===d[g]||!fu(u[g],d[g])))return!1;return!0}(n,e);default:return Pt()}var s}function sy(n,e){return void 0!==(n.values||[]).find(t=>fu(t,e))}function pu(n,e){if(n===e)return 0;const t=ic(n),r=ic(e);if(t!==r)return cn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return cn(n.booleanValue,e.booleanValue);case 2:return function(s,u){const d=ei(s.integerValue||s.doubleValue),g=ei(u.integerValue||u.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,e);case 3:return YS(n.timestampValue,e.timestampValue);case 4:return YS(IE(n),IE(e));case 5:return cn(n.stringValue,e.stringValue);case 6:return function(s,u){const d=Td(s),g=Td(u);return d.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const d=s.split("/"),g=u.split("/");for(let E=0;E<d.length&&E<g.length;E++){const b=cn(d[E],g[E]);if(0!==b)return b}return cn(d.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const d=cn(ei(s.latitude),ei(u.latitude));return 0!==d?d:cn(ei(s.longitude),ei(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const d=s.values||[],g=u.values||[];for(let E=0;E<d.length&&E<g.length;++E){const b=pu(d[E],g[E]);if(b)return b}return cn(d.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===df.mapValue&&u===df.mapValue)return 0;if(s===df.mapValue)return 1;if(u===df.mapValue)return-1;const d=s.fields||{},g=Object.keys(d),E=u.fields||{},b=Object.keys(E);g.sort(),b.sort();for(let x=0;x<g.length&&x<b.length;++x){const N=cn(g[x],b[x]);if(0!==N)return N;const L=pu(d[g[x]],E[b[x]]);if(0!==L)return L}return cn(g.length,b.length)}(n.mapValue,e.mapValue);default:throw Pt()}}function YS(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return cn(n,e);const t=lf(n),r=lf(e),i=cn(t.seconds,r.seconds);return 0!==i?i:cn(t.nanos,r.nanos)}function oy(n){return JS(n)}function JS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=lf(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Td(n.bytesValue).toBase64():"referenceValue"in n?_t.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=JS(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const u of r)s?s=!1:i+=",",i+=`${u}:${JS(t.fields[u])}`;return i+"}"}(n.mapValue):Pt()}function aT(n){return!!n&&"integerValue"in n}function ay(n){return!!n&&"arrayValue"in n}function XS(n){return!!n&&"nullValue"in n}function KP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wE(n){return!!n&&"mapValue"in n}function Eg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return rl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Eg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Eg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uT(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ds{constructor(e){this.value=e}static empty(){return new Ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!wE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eg(t)}setAll(e){let t=wr.emptyPath(),r={},i=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const g=this.getFieldsMap(t);this.applyChanges(g,r,i),r={},i=[],t=d.popLast()}u?r[d.lastSegment()]=Eg(u):i.push(d.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());wE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];wE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){rl(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ds(Eg(this.value))}}class br{constructor(e,t,r,i,s,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=u,this.documentState=d}static newInvalidDocument(e){return new br(e,0,jt.min(),jt.min(),jt.min(),Ds.empty(),0)}static newFoundDocument(e,t,r,i){return new br(e,1,t,jt.min(),r,i,0)}static newNoDocument(e,t){return new br(e,2,t,jt.min(),jt.min(),Ds.empty(),0)}static newUnknownDocument(e,t){return new br(e,3,t,jt.min(),jt.min(),Ds.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(jt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof br&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new br(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sc{constructor(e,t){this.position=e,this.inclusive=t}}function tx(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],u=n.position[i];if(r=s.field.isKeyField()?_t.comparator(_t.fromName(u.referenceValue),t.key):pu(u,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function nx(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fu(n.position[t],e.position[t]))return!1;return!0}class hf{constructor(e,t="asc"){this.field=e,this.dir=t}}function rx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class lT{}class Pn extends lT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ox(e,t,r):"array-contains"===t?new cL(e,r):"in"===t?new fT(e,r):"not-in"===t?new ZP(e,r):"array-contains-any"===t?new QP(e,r):new Pn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new dT(e,r):new hT(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(pu(t,this.value)):null!==t&&ic(this.value)===ic(t)&&this.matchesComparison(pu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends lT{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Yn(e,t)}matches(e){return ff(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ff(n){return"and"===n.op}function TE(n){return function ix(n){for(const e of n.filters)if(e instanceof Yn)return!1;return!0}(n)&&ff(n)}function AE(n){if(n instanceof Pn)return n.field.canonicalString()+n.op.toString()+oy(n.value);if(TE(n))return n.filters.map(e=>AE(e)).join(",");{const e=n.filters.map(t=>AE(t)).join(",");return`${n.op}(${e})`}}function sx(n,e){return n instanceof Pn?(r=n,(i=e)instanceof Pn&&r.op===i.op&&r.field.isEqual(i.field)&&fu(r.value,i.value)):n instanceof Yn?function(r,i){return i instanceof Yn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,u,d)=>s&&sx(u,i.filters[d]),!0)}(n,e):void Pt();var r,i}function il(n){return n instanceof Pn?`${(t=n).field.canonicalString()} ${t.op} ${oy(t.value)}`:n instanceof Yn?function(t){return t.op.toString()+" {"+t.getFilters().map(il).join(" ,")+"}"}(n):"Filter";var t}class ox extends Pn{constructor(e,t,r){super(e,t,r),this.key=_t.fromName(r.referenceValue)}matches(e){const t=_t.comparator(e.key,this.key);return this.matchesComparison(t)}}class dT extends Pn{constructor(e,t){super(e,"in",t),this.keys=ax(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hT extends Pn{constructor(e,t){super(e,"not-in",t),this.keys=ax(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ax(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>_t.fromName(r.referenceValue))}class cL extends Pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ay(t)&&sy(t.arrayValue,this.value)}}class fT extends Pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&sy(this.value.arrayValue,t)}}class ZP extends Pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(sy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!sy(this.value.arrayValue,t)}}class QP extends Pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ay(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>sy(this.value.arrayValue,r))}}class YP{constructor(e,t=null,r=[],i=[],s=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=u,this.endAt=d,this.ce=null}}function pT(n,e=null,t=[],r=[],i=null,s=null,u=null){return new YP(n,e,t,r,i,s,u)}function Cd(n){const e=gt(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>AE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),mg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>oy(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>oy(r)).join(",")),e.ce=t}return e.ce}function DE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!rx(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!nx(n.startAt,e.startAt)&&nx(n.endAt,e.endAt)}function uy(n){return _t.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class mu{constructor(e,t=null,r=[],i=[],s=null,u="F",d=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=u,this.startAt=d,this.endAt=g,this.le=null,this.he=null,this.Pe=null}}function pf(n){return new mu(n)}function ux(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function gf(n){const e=gt(n);if(null===e.le){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new rr(wr.comparator);return u.filters.forEach(g=>{g.getFlattenedFilters().forEach(E=>{E.isInequality()&&(d=d.add(E.field))})}),d})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new hf(s,r))}),t.has(wr.keyField().canonicalString())||e.le.push(new hf(wr.keyField(),r))}return e.le}function hi(n){const e=gt(n);return e.he||(e.he=function cy(n,e){if("F"===n.limitType)return pT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new hf(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new sc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new sc(n.startAt.position,n.startAt.inclusive):null;return pT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,gf(n))),e.he}function ly(n,e,t){return new mu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dy(n,e){return DE(hi(n),hi(e))&&n.limitType===e.limitType}function cx(n){return`${Cd(hi(n))}|lt:${n.limitType}`}function hy(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>il(i)).join(", ")}]`),mg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(u=i).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>oy(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>oy(i)).join(",")),`Target(${r})`}(hi(n))}; limitType=${n.limitType})`}function Ig(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_t.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of gf(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(u,d,g){const E=tx(u,d,g);return u.inclusive?E<=0:E<0}(r.startAt,gf(r),i)||r.endAt&&!function(u,d,g){const E=tx(u,d,g);return u.inclusive?E>=0:E>0}(r.endAt,gf(r),i)));var r,i}function dx(n){return(e,t)=>{let r=!1;for(const i of gf(n)){const s=lL(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function lL(n,e,t){const r=n.field.isKeyField()?_t.comparator(e.key,t.key):function(s,u,d){const g=u.data.field(s),E=d.data.field(s);return null!==g&&null!==E?pu(g,E):Pt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Pt()}}class Dd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rl(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function KS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const dL=new _r(_t.comparator);function Ws(){return dL}const hx=new _r(_t.comparator);function fy(...n){let e=hx;for(const t of n)e=e.insert(t.key,t);return e}function fx(n){let e=hx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function sl(){return RE()}function XP(){return RE()}function RE(){return new Dd(n=>n.toString(),(n,e)=>n.isEqual(e))}new _r(_t.comparator);const fL=new rr(_t.comparator);function _n(...n){let e=fL;for(const t of n)e=e.add(t);return e}const PE=new rr(cn);class py{constructor(){this._=void 0}}function vT(n,e,t){return n instanceof xd?function(i,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&iT(s)&&(s=sT(s)),s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof ol?gy(n,e):n instanceof wg?eN(n,e):function(i,s){const u=function gx(n,e){return n instanceof my?aT(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}(i,s),d=IT(u)+IT(i.Ie);return aT(u)&&aT(i.Ie)?function yT(n){return{integerValue:""+n}}(d):function px(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uf(e)?"-0":e}}(i.serializer,d)}(n,e)}function ET(n,e,t){return n instanceof ol?gy(n,e):n instanceof wg?eN(n,e):t}class xd extends py{}class ol extends py{constructor(e){super(),this.elements=e}}function gy(n,e){const t=mx(e);for(const r of n.elements)t.some(i=>fu(i,r))||t.push(r);return{arrayValue:{values:t}}}class wg extends py{constructor(e){super(),this.elements=e}}function eN(n,e){let t=mx(e);for(const r of n.elements)t=t.filter(i=>!fu(i,r));return{arrayValue:{values:t}}}class my extends py{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function IT(n){return ei(n.integerValue||n.doubleValue)}function mx(n){return ay(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Tr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class NE{}function _x(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new vy(n.key,Tr.none()):new mf(n.key,n.data,Tr.none());{const t=n.data,r=Ds.empty();let i=new rr(wr.comparator);for(let s of e.fields)if(!i.has(s)){let u=t.field(s);null===u&&s.length>1&&(s=s.popLast(),u=t.field(s)),null===u?r.delete(s):r.set(s,u),i=i.add(s)}return new _u(n.key,r,new qs(i.toArray()),Tr.none())}}function rN(n,e,t){n instanceof mf?function(i,s,u){const d=i.value.clone(),g=vx(i.fieldTransforms,s,u.transformResults);d.setAll(g),s.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof _u?function(i,s,u){if(!yy(i.precondition,s))return void s.convertToUnknownDocument(u.version);const d=vx(i.fieldTransforms,s,u.transformResults),g=s.data;g.setAll(yx(i)),g.setAll(d),s.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function bg(n,e,t,r){return n instanceof mf?function(s,u,d,g){if(!yy(s.precondition,u))return d;const E=s.value.clone(),b=sN(s.fieldTransforms,g,u);return E.setAll(b),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),null}(n,e,t,r):n instanceof _u?function(s,u,d,g){if(!yy(s.precondition,u))return d;const E=sN(s.fieldTransforms,g,u),b=u.data;return b.setAll(yx(s)),b.setAll(E),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),null===d?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(x=>x.field))}(n,e,t,r):(d=t,yy(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function iN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&hg(r,i,(s,u)=>function tN(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof ol&&i instanceof ol||r instanceof wg&&i instanceof wg?hg(r.elements,i.elements,fu):r instanceof my&&i instanceof my?fu(r.Ie,i.Ie):r instanceof xd&&i instanceof xd);var r,i}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class mf extends NE{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _u extends NE{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function vx(n,e,t){const r=new Map;Vt(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],u=s.transform,d=e.data.field(s.field);r.set(s.field,ET(u,d,t[i]))}return r}function sN(n,e,t){const r=new Map;for(const i of n){const s=i.transform,u=t.data.field(i.field);r.set(i.field,vT(s,u,e))}return r}class vy extends NE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&rN(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=bg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=bg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=XP();return this.mutations.forEach(i=>{const s=e.get(i.key),u=s.overlayedDocument;let d=this.applyToLocalView(u,s.mutatedFields);d=t.has(i.key)?null:d;const g=_x(u,d);null!==g&&r.set(i.key,g),u.isValidDocument()||u.convertToNoDocument(jt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_n())}isEqual(e){return this.batchId===e.batchId&&hg(this.mutations,e.mutations,(t,r)=>iN(t,r))&&hg(this.baseMutations,e.baseMutations,(t,r)=>iN(t,r))}}class CT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ix{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ci,Fn;function DT(n){if(void 0===n)return Jr("GRPC error has no .code"),Ae.UNKNOWN;switch(n){case Ci.OK:return Ae.OK;case Ci.CANCELLED:return Ae.CANCELLED;case Ci.UNKNOWN:return Ae.UNKNOWN;case Ci.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case Ci.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case Ci.INTERNAL:return Ae.INTERNAL;case Ci.UNAVAILABLE:return Ae.UNAVAILABLE;case Ci.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case Ci.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case Ci.NOT_FOUND:return Ae.NOT_FOUND;case Ci.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case Ci.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case Ci.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case Ci.ABORTED:return Ae.ABORTED;case Ci.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case Ci.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case Ci.DATA_LOSS:return Ae.DATA_LOSS;default:return Pt()}}(Fn=Ci||(Ci={}))[Fn.OK=0]="OK",Fn[Fn.CANCELLED=1]="CANCELLED",Fn[Fn.UNKNOWN=2]="UNKNOWN",Fn[Fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fn[Fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fn[Fn.NOT_FOUND=5]="NOT_FOUND",Fn[Fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fn[Fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fn[Fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fn[Fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fn[Fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fn[Fn.ABORTED=10]="ABORTED",Fn[Fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fn[Fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fn[Fn.INTERNAL=13]="INTERNAL",Fn[Fn.UNAVAILABLE=14]="UNAVAILABLE",Fn[Fn.DATA_LOSS=15]="DATA_LOSS";const ST=new X_([4294967295,4294967295],0);function bx(n){const e=function wx(){return new TextEncoder}().encode(n),t=new NP;return t.update(e),new Uint8Array(t.digest())}function Tx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new X_([t,r],0),new X_([i,s],0)]}class kE{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Tg(`Invalid padding: ${t}`);if(r<0)throw new Tg(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Tg(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Tg(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=X_.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(X_.fromNumber(r)));return 1===i.compare(ST)&&(i=new X_([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=bx(e),[r,i]=Tx(t);for(let s=0;s<this.hashCount;s++){const u=this.de(r,i,s);if(!this.Ae(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),u=new kE(s,i,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(0===this.Te)return;const t=bx(e),[r,i]=Tx(t);for(let s=0;s<this.hashCount;s++){const u=this.de(r,i,s);this.Re(u)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Tg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class FE{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Iy.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new FE(jt.min(),i,new _r(cn),Ws(),_n())}}class Iy{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Iy(r,t,_n(),_n(),_n())}}class _f{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class oN{constructor(e,t){this.targetId=e,this.fe=t}}class Ax{constructor(e,t,r=Ki.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class aN{constructor(){this.ge=0,this.pe=uN(),this.ye=Ki.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=_n(),t=_n(),r=_n();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Pt()}}),new Iy(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=uN()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class pL{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ws(),this.Qe=Cx(),this.Ke=new _r(cn)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:Pt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const s=i.target;if(uy(s))if(0===r){const u=new _t(s.path);this.We(t,u,br.newNoDocument(u,jt.min()))}else Vt(1===r);else{const u=this.Ze(t);if(u!==r){const d=this.Xe(e),g=d?this.et(d,e,u):1;0!==g&&(this.He(t),this.Ke=this.Ke.insert(t,2===g?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let u,d;try{u=Td(r).toUint8Array()}catch(g){if(g instanceof ZS)return Hs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new kE(u,i,s)}catch(g){return Hs(g instanceof Tg?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return 0===d.Te?null:d}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const u=this.Le.nt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((s,u)=>{const d=this.Ye(u);if(d){if(s.current&&uy(d.target)){const g=new _t(d.target.path);null!==this.qe.get(g)||this.st(u,g)||this.We(u,g,br.newNoDocument(g,e))}s.De&&(t.set(u,s.ve()),s.Fe())}});let r=_n();this.Qe.forEach((s,u)=>{let d=!0;u.forEachWhile(g=>{const E=this.Ye(g);return!E||"TargetPurposeLimboResolution"===E.purpose||(d=!1,!1)}),d&&(r=r.add(s))}),this.qe.forEach((s,u)=>u.setReadTime(e));const i=new FE(e,t,this.Ke,this.qe,r);return this.qe=Ws(),this.Qe=Cx(),this.Ke=new _r(cn),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new aN,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new rr(cn),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||We("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new aN),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Cx(){return new _r(_t.comparator)}function uN(){return new _r(_t.comparator)}const gL={asc:"ASCENDING",desc:"DESCENDING"},mL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_L={and:"AND",or:"OR"};class yL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xT(n,e){return n.useProto3Json||mg(e)?e:{value:e}}function fi(n){return Vt(!!n),jt.fromTimestamp(function(t){const r=lf(t);return new Sr(r.seconds,r.nanos)}(n))}function Sx(n){const e=kn.fromString(n);return Vt(xx(e)),e}function o(n,e){const t=Sx(e);if(t.get(1)!==n.databaseId.projectId)throw new Ze(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ze(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _t(h(t))}function a(n,e){return function Dx(n,e){return(r=n,new kn(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}(n.databaseId,e)}function l(n){return new kn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function h(n){return Vt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ee(n,e){return{documents:[a(n,e.path)]}}function oe(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=a(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=a(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(g){if(0!==g.length)return gs(Yn.create(g,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(g){if(0!==g.length)return g.map(E=>{return{field:hn((x=E).field),direction:$t(x.dir)};var x})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=xT(n,e.limit);return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),t;var g}function Oe(n){let e=function c(n){const e=Sx(n);return 4===e.length?kn.emptyPath():h(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Vt(1===r);const b=t.from[0];b.allDescendants?i=b.collectionId:e=e.child(b.collectionId)}let s=[];t.where&&(s=function(x){const N=yt(x);return N instanceof Yn&&TE(N)?N.getFilters():[N]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(N=>{return new hf(En((Y=N).field),function(ae){switch(ae){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction));var Y}));let d=null;t.limit&&(d=function(x){let N;return N="object"==typeof x?x.value:x,mg(N)?null:N}(t.limit));let g=null;var x;t.startAt&&(g=new sc((x=t.startAt).values||[],!!x.before));let E=null;return t.endAt&&(E=function(x){return new sc(x.values||[],!x.before)}(t.endAt)),function mT(n,e,t,r,i,s,u,d){return new mu(n,e,t,r,i,s,u,d)}(e,i,u,s,d,"F",g,E)}function yt(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=En(t.unaryFilter.field);return Pn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=En(t.unaryFilter.field);return Pn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=En(t.unaryFilter.field);return Pn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=En(t.unaryFilter.field);return Pn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Pt()}}(n):void 0!==n.fieldFilter?Pn.create(En((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Yn.create(t.compositeFilter.filters.map(r=>yt(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pt()}}(t.compositeFilter.op))}(n):Pt();var t}function $t(n){return gL[n]}function Ue(n){return mL[n]}function ln(n){return _L[n]}function hn(n){return{fieldPath:n.canonicalString()}}function En(n){return wr.fromServerFormat(n.fieldPath)}function gs(n){return n instanceof Pn?function(t){if("=="===t.op){if(KP(t.value))return{unaryFilter:{field:hn(t.field),op:"IS_NAN"}};if(XS(t.value))return{unaryFilter:{field:hn(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(KP(t.value))return{unaryFilter:{field:hn(t.field),op:"IS_NOT_NAN"}};if(XS(t.value))return{unaryFilter:{field:hn(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hn(t.field),op:Ue(t.op),value:t.value}}}(n):n instanceof Yn?function(t){const r=t.getFilters().map(i=>gs(i));return 1===r.length?r[0]:{compositeFilter:{op:ln(t.op),filters:r}}}(n):Pt()}function xx(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class al{constructor(e,t,r,i,s=jt.min(),u=jt.min(),d=Ki.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new al(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class EL{constructor(e){this.ut=e}}function lN(n){const e=Oe({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ly(e,e.limit,"L"):e}class Cy{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(ei(e.integerValue));else if("doubleValue"in e){const r=ei(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),uf(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Td(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?uT(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Pt()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),_t.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}Cy.St=new Cy;class iz{constructor(){this.on=new mN}addToCollectionParentIndex(e,t){return this.on.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(Zo.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(Zo.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class mN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new rr(kn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rr(kn.comparator)).toArray()}}new Uint8Array(0);class Eo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Eo(e,Eo.DEFAULT_COLLECTION_PERCENTILE,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Eo.DEFAULT_COLLECTION_PERCENTILE=10,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Eo.DEFAULT=new Eo(41943040,Eo.DEFAULT_COLLECTION_PERCENTILE,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Eo.DISABLED=new Eo(-1,0,0);class Sy{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Sy(0)}static Nn(){return new Sy(-1)}}class lz{constructor(){this.changes=new Dd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,br.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class WL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&bg(r.mutation,i,qs.empty(),Sr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,_n()).next(()=>r))}getLocalViewOfDocuments(e,t,r=_n()){const i=sl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let u=fy();return s.forEach((d,g)=>{u=u.insert(d,g.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=sl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,_n()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,i){let s=Ws();const u=RE(),d=RE();return t.forEach((g,E)=>{const b=r.get(E.key);i.has(E.key)&&(void 0===b||b.mutation instanceof _u)?s=s.insert(E.key,E):void 0!==b?(u.set(E.key,b.mutation.getFieldMask()),bg(b.mutation,E,b.mutation.getFieldMask(),Sr.now())):u.set(E.key,qs.empty())}),this.recalculateAndSaveOverlays(e,s).next(g=>(g.forEach((E,b)=>u.set(E,b)),t.forEach((E,b)=>{var x;return d.set(E,new fz(b,null!==(x=u.get(E))&&void 0!==x?x:null))}),d))}recalculateAndSaveOverlays(e,t){const r=RE();let i=new _r((u,d)=>u-d),s=_n();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(g=>{const E=t.get(g);if(null===E)return;let b=r.get(g)||qs.empty();b=d.applyToLocalView(E,b),r.set(g,b);const x=(i.get(d.batchId)||_n()).add(g);i=i.insert(d.batchId,x)})}).next(()=>{const u=[],d=i.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),E=g.key,b=g.value,x=XP();b.forEach(N=>{if(!s.has(N)){const L=_x(t.get(N),r.get(N));null!==L&&x.set(N,L),s=s.add(N)}}),u.push(this.documentOverlayCache.saveOverlays(e,E,x))}return he.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return _t.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function xE(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var u}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const u=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):he.resolve(sl());let d=-1,g=s;return u.next(E=>he.forEach(E,(b,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),s.get(b)?he.resolve():this.remoteDocumentCache.getEntry(e,b).next(N=>{g=g.insert(b,N)}))).next(()=>this.populateOverlays(e,E,s)).next(()=>this.computeViews(e,g,E,_n())).next(b=>({batchId:d,changes:fx(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _t(t)).next(r=>{let i=fy();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let u=fy();return this.indexManager.getCollectionParents(e,s).next(d=>he.forEach(d,g=>{const E=(x=t,N=g.child(s),new mu(N,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));var x,N;return this.getDocumentsMatchingCollectionQuery(e,E,r,i).next(b=>{b.forEach((x,N)=>{u=u.insert(x,N)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(u=>{s.forEach((g,E)=>{const b=E.getKey();null===u.get(b)&&(u=u.insert(b,br.newInvalidDocument(b)))});let d=fy();return u.forEach((g,E)=>{const b=s.get(g);void 0!==b&&bg(b.mutation,E,qs.empty(),Sr.now()),Ig(t,E)&&(d=d.insert(g,E))}),d})}}class pz{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return he.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:fi(i.createTime)}),he.resolve();var i}getNamedQuery(e,t){return he.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:lN(i.bundledQuery),readTime:fi(i.readTime)}),he.resolve();var i}}class gz{constructor(){this.overlays=new _r(_t.comparator),this.lr=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=sl();return he.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.lt(e,t,s)}),he.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const i=sl(),s=t.length+1,u=new _t(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const g=d.getNext().value,E=g.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===s&&g.largestBatchId>r&&i.set(g.getKey(),g)}return he.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new _r((E,b)=>E-b);const u=this.overlays.getIterator();for(;u.hasNext();){const E=u.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let b=s.get(E.largestBatchId);null===b&&(b=sl(),s=s.insert(E.largestBatchId,b)),b.set(E.getKey(),E)}}const d=sl(),g=s.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((E,b)=>d.set(E,b)),!(d.size()>=i)););return he.resolve(d)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new CT(t,r));let s=this.lr.get(t);void 0===s&&(s=_n(),this.lr.set(t,s)),this.lr.set(t,s.add(r.key))}}class _N{constructor(){this.hr=new rr(xs.Pr),this.Ir=new rr(xs.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new xs(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new xs(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new _t(new kn([])),r=new xs(t,e),i=new xs(t,e+1),s=[];return this.Ir.forEachInRange([r,i],u=>{this.dr(u),s.push(u.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new _t(new kn([])),r=new xs(t,e),i=new xs(t,e+1);let s=_n();return this.Ir.forEachInRange([r,i],u=>{s=s.add(u.key)}),s}containsKey(e){const t=new xs(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class xs{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return _t.comparator(e.key,t.key)||cn(e.gr,t.gr)}static Tr(e,t){return cn(e.gr,t.gr)||_t.comparator(e.key,t.key)}}class mz{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new rr(xs.Pr)}checkEmpty(e){return he.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.pr;this.pr++;const u=new TT(s,t,r,i);this.mutationQueue.push(u);for(const d of i)this.yr=this.yr.add(new xs(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,t){return he.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),s=i<0?0:i;return he.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new xs(t,0),i=new xs(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],u=>{const d=this.wr(u.gr);s.push(d)}),he.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rr(cn);return t.forEach(i=>{const s=new xs(i,0),u=new xs(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,u],d=>{r=r.add(d.gr)})}),he.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;_t.isDocumentKey(s)||(s=s.child(""));const u=new xs(new _t(s),0);let d=new rr(cn);return this.yr.forEachWhile(g=>{const E=g.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(d=d.add(g.gr)),!0)},u),he.resolve(this.br(d))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Vt(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return he.forEach(t.mutations,i=>{const s=new xs(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new xs(t,0),i=this.yr.firstAfterOrEqual(r);return he.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return he.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _z{constructor(e){this.Cr=e,this.docs=new _r(_t.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,u=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():br.newInvalidDocument(t))}getEntries(e,t){let r=Ws();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():br.newInvalidDocument(i))}),he.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ws();const u=t.path,d=new _t(u.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:E,value:{document:b}}=g.getNext();if(!u.isPrefixOf(E.path))break;E.path.length>u.length+1||pE(kS(b),r)<=0||(i.has(b.key)||Ig(t,b))&&(s=s.insert(b.key,b.mutableCopy()))}return he.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Pt()}vr(e,t){return he.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new yz(this)}getSize(e){return he.resolve(this.size)}}class yz extends lz{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),he.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class vz{constructor(e){this.persistence=e,this.Fr=new Dd(t=>Cd(t),DE),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new _N,this.targetCount=0,this.Nr=Sy.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),he.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Sy(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.kn(t),he.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Fr.forEach((u,d)=>{d.sequenceNumber<=t&&null===r.get(d.targetId)&&(this.Fr.delete(u),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)}),he.waitFor(s).next(()=>i)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),he.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(u=>{s.push(i.markPotentiallyOrphaned(e,u))}),he.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this.Or.containsKey(t))}}class yN{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Ma(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new vz(this),this.indexManager=new iz,this.remoteDocumentCache=new _z(r=>this.referenceDelegate.Qr(r)),this.serializer=new EL(t),this.Kr=new pz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new mz(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){We("MemoryPersistence","Starting transaction:",e);const i=new Ez(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,t){return he.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class Ez extends FS{constructor(e){super(),this.currentSequenceNumber=e}}class Vx{constructor(e){this.persistence=e,this.Gr=new _N,this.zr=null}static jr(e){return new Vx(e)}get Hr(){if(this.zr)return this.zr;throw Pt()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),he.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Hr,r=>{const i=_t.fromPath(r);return this.Jr(e,i).next(s=>{s||t.removeEntry(i,jt.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return he.or([()=>he.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class wN{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=_n(),i=_n();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new wN(e,t.fromCache,r,i)}}class wz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ZL{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.zi(e,t).next(u=>{s.result=u}).next(()=>{if(!s.result)return this.ji(e,t,i,r).next(u=>{s.result=u})}).next(()=>{if(s.result)return;const u=new wz;return this.Hi(e,t,u).next(d=>{if(s.result=d,this.$i)return this.Ji(e,t,u,d.size)})}).next(()=>s.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(dg()<=Yr.in.DEBUG&&We("QueryEngine","SDK will not create cache indexes for query:",hy(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),he.resolve()):(dg()<=Yr.in.DEBUG&&We("QueryEngine","Query:",hy(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(dg()<=Yr.in.DEBUG&&We("QueryEngine","The SDK decides to create cache indexes for query:",hy(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hi(t))):he.resolve())}zi(e,t){if(ux(t))return he.resolve(null);let r=hi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=ly(t,null,"F"),r=hi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const u=_n(...s);return this.Gi.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(g=>{const E=this.Yi(t,d);return this.Zi(t,E,u,g.readTime)?this.zi(e,ly(t,null,"F")):this.Xi(e,E,t,g)}))})))}ji(e,t,r,i){return ux(t)||i.isEqual(jt.min())?he.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const u=this.Yi(t,s);return this.Zi(t,u,r,i)?he.resolve(null):(dg()<=Yr.in.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hy(t)),this.Xi(e,u,t,function OS(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=jt.fromTimestamp(1e9===r?new Sr(t+1,0):new Sr(t,r));return new Zo(i,_t.empty(),e)}(i,-1)).next(d=>d))})}Yi(e,t){let r=new rr(dx(e));return t.forEach((i,s)=>{Ig(e,s)&&(r=r.add(s))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,r){return dg()<=Yr.in.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",hy(t)),this.Gi.getDocumentsMatchingQuery(e,t,Zo.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(u=>{s=s.insert(u.key,u)}),s))}}class bz{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new _r(cn),this.ns=new Dd(s=>Cd(s),DE),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WL(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function YL(n,e){return bN.apply(this,arguments)}function bN(){return bN=(0,Ye.Z)(function*(n,e){const t=gt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const u=[],d=[];let g=_n();for(const E of i){u.push(E.batchId);for(const b of E.mutations)g=g.add(b.key)}for(const E of s){d.push(E.batchId);for(const b of E.mutations)g=g.add(b.key)}return t.localDocuments.getDocuments(r,g).next(E=>({_s:E,removedBatchIds:u,addedBatchIds:d}))})})}),bN.apply(this,arguments)}function JL(n){const e=gt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function GE(n,e,t){return TN.apply(this,arguments)}function TN(){return TN=(0,Ye.Z)(function*(n,e,t){const r=gt(n),i=r.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!nl(u))throw u;We("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),TN.apply(this,arguments)}function Ux(n,e,t){const r=gt(n);let i=jt.min(),s=_n();return r.persistence.runTransaction("Execute query","readwrite",u=>function(g,E,b){const x=gt(g),N=x.ns.get(b);return void 0!==N?he.resolve(x.ts.get(N)):x.qr.getTargetData(E,b)}(r,u,hi(e)).next(d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(u,d.targetId).next(g=>{s=g})}).next(()=>r.es.getDocumentsMatchingQuery(u,e,t?i:jt.min(),t?s:_n())).next(d=>(function nB(n,e,t){let r=n.rs.get(e)||jt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.rs.set(e,r)}(r,function lx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),d),{documents:d,ls:s})))}class xN{constructor(){this.activeTargetIds=function _T(){return PE}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sB{constructor(){this.eo=new xN,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new xN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xz{ro(e){}shutdown(){}}class oB{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let zx=null;function RN(){return null===zx?zx=268435456+Math.round(2147483648*Math.random()):zx++,"0x"+zx.toString(16)}const Mz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rz{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Io="WebChannelConnection";class Pz extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(t,r,i,s,u){const d=RN(),g=this.So(t,r);We("RestConnection",`Sending RPC '${t}' ${d}:`,g,i);const E={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(E,s,u),this.Do(t,g,E,i).then(b=>(We("RestConnection",`Received RPC '${t}' ${d}: `,b),b),b=>{throw Hs("RestConnection",`RPC '${t}' ${d} failed with error: `,b,"url: ",g,"request:",i),b})}Co(t,r,i,s,u,d){return this.wo(t,r,i,s,u)}bo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+lg,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,u)=>t[u]=s),i&&i.headers.forEach((s,u)=>t[u]=s)}So(t,r){return`${this.mo}/v1/${r}:${Mz[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,i){const s=RN();return new Promise((u,d)=>{const g=new PP;g.setWithCredentials(!0),g.listenOnce(SS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case sf.NO_ERROR:const b=g.getResponseJson();We(Io,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(b)),u(b);break;case sf.TIMEOUT:We(Io,`RPC '${e}' ${s} timed out`),d(new Ze(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case sf.HTTP_ERROR:const x=g.getStatus();if(We(Io,`RPC '${e}' ${s} failed with status:`,x,"response text:",g.getResponseText()),x>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const L=N?.error;if(L&&L.status&&L.message){const Y=function(ae){const He=ae.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(He)>=0?He:Ae.UNKNOWN}(L.status);d(new Ze(Y,L.message))}else d(new Ze(Ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new Ze(Ae.UNAVAILABLE,"Connection failed."));break;default:Pt()}}finally{We(Io,`RPC '${e}' ${s} completed.`)}});const E=JSON.stringify(i);We(Io,`RPC '${e}' ${s} sending request:`,i),g.send(t,"POST",E,r,15)})}vo(e,t,r){const i=RN(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=MP(),d=RP(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;void 0!==E&&(g.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(g.xmlHttpFactory=new MS({})),this.bo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const b=s.join("");We(Io,`Creating RPC '${e}' stream ${i}: ${b}`,g);const x=u.createWebChannel(b,g);let N=!1,L=!1;const Y=new Rz({co:ae=>{L?We(Io,`Not sending because RPC '${e}' stream ${i} is closed:`,ae):(N||(We(Io,`Opening RPC '${e}' stream ${i} transport.`),x.open(),N=!0),We(Io,`RPC '${e}' stream ${i} sending:`,ae),x.send(ae))},lo:()=>x.close()}),se=(ae,He,rt)=>{ae.listen(He,Xe=>{try{rt(Xe)}catch(pt){setTimeout(()=>{throw pt},0)}})};return se(x,J_.EventType.OPEN,()=>{L||We(Io,`RPC '${e}' stream ${i} transport opened.`)}),se(x,J_.EventType.CLOSE,()=>{L||(L=!0,We(Io,`RPC '${e}' stream ${i} transport closed`),Y.Ro())}),se(x,J_.EventType.ERROR,ae=>{L||(L=!0,Hs(Io,`RPC '${e}' stream ${i} transport errored:`,ae),Y.Ro(new Ze(Ae.UNAVAILABLE,"The operation could not be completed")))}),se(x,J_.EventType.MESSAGE,ae=>{var He;if(!L){const rt=ae.data[0];Vt(!!rt);const pt=rt.error||(null===(He=rt[0])||void 0===He?void 0:He.error);if(pt){We(Io,`RPC '${e}' stream ${i} received error:`,pt);const kt=pt.status;let Lt=function(HM){const Z$=Ci[HM];if(void 0!==Z$)return DT(Z$)}(kt),Qn=pt.message;void 0===Lt&&(Lt=Ae.INTERNAL,Qn="Unknown error status: "+kt+" with message "+pt.message),L=!0,Y.Ro(new Ze(Lt,Qn)),x.close()}else We(Io,`RPC '${e}' stream ${i} received:`,rt),Y.Vo(rt)}}),se(d,xS.STAT_EVENT,ae=>{ae.stat===Hb.PROXY?We(Io,`RPC '${e}' stream ${i} detected buffering proxy`):ae.stat===Hb.NOPROXY&&We(Io,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{Y.Ao()},0),Y}}function Gx(){return typeof document<"u"?document:null}function VT(n){return new yL(n,!0)}class PN{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&We("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Nz{constructor(e,t,r,i,s,u,d,g){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new PN(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,Ye.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,Ye.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return(0,Ye.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===Ae.RESOURCE_EXHAUSTED?(Jr(t.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===Ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===t&&this.s_(r,i)},r=>{e(()=>{const i=new Ze(Ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,Ye.Z)(function*(){e.state=0,e.start()}))}o_(e){return We("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Oz extends Nz{constructor(e,t,r,i,s,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=s}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function M(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:Pt(),i=e.targetChange.targetIds||[],s=function(E,b){return E.useProto3Json?(Vt(void 0===b||"string"==typeof b),Ki.fromBase64String(b||"")):(Vt(void 0===b||b instanceof Uint8Array),Ki.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(E){const b=void 0===E.code?Ae.UNKNOWN:DT(E.code);return new Ze(b,E.message||"")}(u);t=new Ax(r,i,s,d||null)}else if("documentChange"in e){const r=e.documentChange,i=o(n,r.document.name),s=fi(r.document.updateTime),u=r.document.createTime?fi(r.document.createTime):jt.min(),d=new Ds({mapValue:{fields:r.document.fields}}),g=br.newFoundDocument(i,s,u,d);t=new _f(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,i=o(n,r.document),s=r.readTime?fi(r.readTime):jt.min(),u=br.newNoDocument(i,s);t=new _f([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=o(n,r.document);t=new _f([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Pt();{const r=e.filter,{count:i=0,unchangedNames:s}=r,u=new Ix(i,s);t=new oN(r.targetId,u)}}var E;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return jt.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?jt.min():u.readTime?fi(u.readTime):jt.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=l(this.serializer),t.addTarget=function(s,u){let d;const g=u.target;if(d=uy(g)?{documents:ee(s,g)}:{query:oe(s,g)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=function cN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}(s,u.resumeToken);const E=xT(s,u.expectedCount);null!==E&&(d.expectedCount=E)}else if(u.snapshotVersion.compareTo(jt.min())>0){d.readTime=function wy(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(s,u.snapshotVersion.toTimestamp());const E=xT(s,u.expectedCount);null!==E&&(d.expectedCount=E)}return d}(this.serializer,e);const r=function tt(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=l(this.serializer),t.removeTarget=e,this.e_(t)}}class Fz extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new Ze(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ze(Ae.UNKNOWN,i.toString())})}Co(e,t,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Co(e,t,r,s,u,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ze(Ae.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Lz{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Jr(t),this.f_=!1):We("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Bz{constructor(e,t,r,i,s){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(d=>{r.enqueueAndForget((0,Ye.Z)(function*(){var g;Sg(u)&&(We("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,Ye.Z)(function*(b){const x=gt(b);x.C_.add(4),yield HE(x),x.M_.set("Unknown"),x.C_.delete(4),yield LT(x)}),function E(b){return g.apply(this,arguments)})(u))}))}),this.M_=new Lz(r,i)}}function LT(n){return ON.apply(this,arguments)}function ON(){return ON=(0,Ye.Z)(function*(n){if(Sg(n))for(const e of n.v_)yield e(!0)}),ON.apply(this,arguments)}function HE(n){return kN.apply(this,arguments)}function kN(){return kN=(0,Ye.Z)(function*(n){for(const e of n.v_)yield e(!1)}),kN.apply(this,arguments)}function Hx(n,e){const t=gt(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),LN(t)?VN(t):WE(t).Ho()&&FN(t,e))}function BT(n,e){const t=gt(n),r=WE(t);t.D_.delete(e),r.Ho()&&uB(t,e),0===t.D_.size&&(r.Ho()?r.Zo():Sg(t)&&t.M_.set("Unknown"))}function FN(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(jt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}WE(n).u_(e)}function uB(n,e){n.x_.Oe(e),WE(n).c_(e)}function VN(n){n.x_=new pL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),WE(n).start(),n.M_.g_()}function LN(n){return Sg(n)&&!WE(n).jo()&&n.D_.size>0}function Sg(n){return 0===gt(n).C_.size}function cB(n){n.x_=void 0}function Uz(n){return BN.apply(this,arguments)}function BN(){return BN=(0,Ye.Z)(function*(n){n.D_.forEach((e,t)=>{FN(n,e)})}),BN.apply(this,arguments)}function jz(n,e){return UN.apply(this,arguments)}function UN(){return UN=(0,Ye.Z)(function*(n,e){cB(n),LN(n)?(n.M_.w_(e),VN(n)):n.M_.set("Unknown")}),UN.apply(this,arguments)}function $z(n,e,t){return jN.apply(this,arguments)}function jN(){return jN=(0,Ye.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof Ax&&2===e.state&&e.cause)try{yield(r=(0,Ye.Z)(function*(s,u){const d=u.cause;for(const g of u.targetIds)s.D_.has(g)&&(yield s.remoteSyncer.rejectListen(g,d),s.D_.delete(g),s.x_.removeTarget(g))}),function i(s,u){return r.apply(this,arguments)})(n,e)}catch(r){We("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield qx(n,r)}else if(e instanceof _f?n.x_.$e(e):e instanceof oN?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(jt.min()))try{const r=yield JL(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const d=s.x_.it(u);return d.targetChanges.forEach((g,E)=>{if(g.resumeToken.approximateByteSize()>0){const b=s.D_.get(E);b&&s.D_.set(E,b.withResumeToken(g.resumeToken,u))}}),d.targetMismatches.forEach((g,E)=>{const b=s.D_.get(g);if(!b)return;s.D_.set(g,b.withResumeToken(Ki.EMPTY_BYTE_STRING,b.snapshotVersion)),uB(s,g);const x=new al(b.target,g,E,b.sequenceNumber);FN(s,x)}),s.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){We("RemoteStore","Failed to raise snapshot:",r),yield qx(n,r)}var r}),jN.apply(this,arguments)}function qx(n,e,t){return $N.apply(this,arguments)}function $N(){return $N=(0,Ye.Z)(function*(n,e,t){if(!nl(e))throw e;n.C_.add(1),yield HE(n),n.M_.set("Offline"),t||(t=()=>JL(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ye.Z)(function*(){We("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield LT(n)}))}),$N.apply(this,arguments)}function fB(n,e){return KN.apply(this,arguments)}function KN(){return KN=(0,Ye.Z)(function*(n,e){const t=gt(n);t.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const r=Sg(t);t.C_.add(3),yield HE(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield LT(t)}),KN.apply(this,arguments)}function QN(){return QN=(0,Ye.Z)(function*(n,e){const t=gt(n);e?(t.C_.delete(2),yield LT(t)):e||(t.C_.add(2),yield HE(t),t.M_.set("Unknown"))}),QN.apply(this,arguments)}function WE(n){return n.O_||(n.O_=function(t,r,i){const s=gt(t);return s.A_(),new Oz(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:Uz.bind(null,n),Io:jz.bind(null,n),a_:$z.bind(null,n)}),n.v_.push(function(){var e=(0,Ye.Z)(function*(t){t?(n.O_.Yo(),LN(n)?VN(n):n.M_.set("Unknown")):(yield n.O_.stop(),cB(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}class YN{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const u=Date.now()+r,d=new YN(e,t,u,i,s);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ze(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function KE(n,e){if(Jr("AsyncQueue",`${e}: ${n}`),nl(n))return new Ze(Ae.UNAVAILABLE,`${e}: ${n}`);throw n}class ZE{constructor(e){this.comparator=e?(t,r)=>e(t,r)||_t.comparator(t.key,r.key):(t,r)=>_t.comparator(t.key,r.key),this.keyedMap=fy(),this.sortedSet=new _r(this.comparator)}static emptySet(e){return new ZE(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ZE)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ZE;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class pB{constructor(){this.B_=new _r(_t.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Pt():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class QE{constructor(e,t,r,i,s,u,d,g,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=E}static fromInitialDocuments(e,t,r,i,s){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new QE(e,t,ZE.emptySet(t),u,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Zz{constructor(){this.k_=void 0,this.listeners=[]}}class Qz{constructor(){this.queries=new Dd(e=>cx(e),dy),this.onlineState="Unknown",this.q_=new Set}}function XN(){return XN=(0,Ye.Z)(function*(n,e){const t=gt(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Zz),i)try{s.k_=yield t.onListen(r)}catch(u){const d=KE(u,`Initialization of query '${hy(e.query)}' failed`);return void e.onError(d)}t.queries.set(r,s),s.listeners.push(e),e.Q_(t.onlineState),s.k_&&e.K_(s.k_)&&nO(t)}),XN.apply(this,arguments)}function tO(){return tO=(0,Ye.Z)(function*(n,e){const t=gt(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const u=s.listeners.indexOf(e);u>=0&&(s.listeners.splice(u,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),tO.apply(this,arguments)}function Yz(n,e){const t=gt(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const d of u.listeners)d.K_(i)&&(r=!0);u.k_=i}}r&&nO(t)}function Jz(n,e,t){const r=gt(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function nO(n){n.q_.forEach(e=>{e.next()})}class rO{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new QE(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=QE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class _B{constructor(e){this.key=e}}class yB{constructor(e){this.key=e}}class vB{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=_n(),this.mutatedKeys=_n(),this._a=dx(e),this.aa=new ZE(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new pB,i=t?t.aa:this.aa;let s=t?t.mutatedKeys:this.mutatedKeys,u=i,d=!1;const g="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,E="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((b,x)=>{const N=i.get(b),L=Ig(this.query,x)?x:null,Y=!!N&&this.mutatedKeys.has(N.key),se=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let ae=!1;N&&L?N.data.isEqual(L.data)?Y!==se&&(r.track({type:3,doc:L}),ae=!0):this.ha(N,L)||(r.track({type:2,doc:L}),ae=!0,(g&&this._a(L,g)>0||E&&this._a(L,E)<0)&&(d=!0)):!N&&L?(r.track({type:0,doc:L}),ae=!0):N&&!L&&(r.track({type:1,doc:N}),ae=!0,(g||E)&&(d=!0)),ae&&(L?(u=u.add(L),s=se?s.add(b):s.delete(b)):(u=u.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const b="F"===this.query.limitType?u.last():u.first();u=u.delete(b.key),s=s.delete(b.key),r.track({type:1,doc:b})}return{aa:u,la:r,Zi:d,mutatedKeys:s}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((E,b)=>function(N,L){const Y=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt()}};return Y(N)-Y(L)}(E.type,b.type)||this._a(E.doc,b.doc)),this.Pa(r);const u=t?this.Ia():[],d=0===this.oa.size&&this.current?1:0,g=d!==this.sa;return this.sa=d,0!==s.length||g?{snapshot:new QE(this.query,e.aa,i,s,e.mutatedKeys,0===d,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:u}:{Ta:u}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new pB,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=_n(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new yB(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new _B(r))}),t}da(e){this.ia=e.ls,this.oa=_n();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return QE.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class tG{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class nG{constructor(e){this.key=e,this.Ra=!1}}class rG{constructor(e,t,r,i,s,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.Va={},this.ma=new Dd(d=>cx(d),dy),this.fa=new Map,this.ga=new Set,this.pa=new _r(_t.comparator),this.ya=new Map,this.wa=new _N,this.Sa={},this.ba=new Map,this.Da=Sy.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function iG(n,e){return iO.apply(this,arguments)}function iO(){return iO=(0,Ye.Z)(function*(n,e){const t=function DO(n){const e=gt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=EB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aG.bind(null,e),e.Va.a_=Yz.bind(null,e.eventManager),e.Va.Fa=Jz.bind(null,e.eventManager),e}(n);let r,i;const s=t.ma.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const u=yield function zE(n,e){const t=gt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(s=>s?(i=s,he.resolve(i)):t.qr.allocateTargetId(r).next(u=>(i=new al(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}(t.localStore,hi(e)),d=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield function sO(n,e,t,r,i){return oO.apply(this,arguments)}(t,e,r,"current"===d,u.resumeToken),t.isPrimaryClient&&Hx(t.remoteStore,u)}return i}),iO.apply(this,arguments)}function oO(){return oO=(0,Ye.Z)(function*(n,e,t,r,i){n.va=(x,N,L)=>{return(Y=(0,Ye.Z)(function*(ae,He,rt,Xe){let pt=He.view.ca(rt);pt.Zi&&(pt=yield Ux(ae.localStore,He.query,!1).then(({documents:Qn})=>He.view.ca(Qn,pt)));const kt=Xe&&Xe.targetChanges.get(He.targetId),Lt=He.view.applyChanges(pt,ae.isPrimaryClient,kt);return mO(ae,He.targetId,Lt.Ta),Lt.snapshot}),function se(ae,He,rt,Xe){return Y.apply(this,arguments)})(n,x,N,L);var Y};const s=yield Ux(n.localStore,e,!0),u=new vB(e,s.ls),d=u.ca(s.documents),g=Iy.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),E=u.applyChanges(d,n.isPrimaryClient,g);mO(n,t,E.Ta);const b=new tG(e,t,u);return n.ma.set(e,b),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),E.snapshot}),oO.apply(this,arguments)}function sG(n,e){return aO.apply(this,arguments)}function aO(){return aO=(0,Ye.Z)(function*(n,e){const t=gt(n),r=t.ma.get(e),i=t.fa.get(r.targetId);if(i.length>1)return t.fa.set(r.targetId,i.filter(s=>!dy(s,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield GE(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),BT(t.remoteStore,r.targetId),YE(t,r.targetId)}).catch(bd))):(YE(t,r.targetId),yield GE(t.localStore,r.targetId,!0))}),aO.apply(this,arguments)}function EB(n,e){return cO.apply(this,arguments)}function cO(){return cO=(0,Ye.Z)(function*(n,e){const t=gt(n);try{const r=yield function Az(n,e){const t=gt(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const d=[];e.targetChanges.forEach((b,x)=>{const N=i.get(x);if(!N)return;d.push(t.qr.removeMatchingKeys(s,b.removedDocuments,x).next(()=>t.qr.addMatchingKeys(s,b.addedDocuments,x)));let L=N.withSequenceNumber(s.currentSequenceNumber);var se,ae,He;null!==e.targetMismatches.get(x)?L=L.withResumeToken(Ki.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):b.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(b.resumeToken,r)),i=i.insert(x,L),ae=L,He=b,(0===(se=N).resumeToken.approximateByteSize()||ae.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=3e8||He.addedDocuments.size+He.modifiedDocuments.size+He.removedDocuments.size>0)&&d.push(t.qr.updateTargetData(s,L))});let g=Ws(),E=_n();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(s,b))}),d.push(function XL(n,e,t){let r=_n(),i=_n();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let u=Ws();return t.forEach((d,g)=>{const E=s.get(d);g.isFoundDocument()!==E.isFoundDocument()&&(i=i.add(d)),g.isNoDocument()&&g.version.isEqual(jt.min())?(e.removeEntry(d,g.readTime),u=u.insert(d,g)):!E.isValidDocument()||g.version.compareTo(E.version)>0||0===g.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(g),u=u.insert(d,g)):We("LocalStore","Ignoring outdated watch update for ",d,". Current version:",E.version," Watch version:",g.version)}),{us:u,cs:i}})}(s,u,e.documentUpdates).next(b=>{g=b.us,E=b.cs})),!r.isEqual(jt.min())){const b=t.qr.getLastRemoteSnapshotVersion(s).next(x=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));d.push(b)}return he.waitFor(d).next(()=>u.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,g,E)).next(()=>g)}).then(s=>(t.ts=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const u=t.ya.get(s);u&&(Vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Ra=!0:i.modifiedDocuments.size>0?Vt(u.Ra):i.removedDocuments.size>0&&(Vt(u.Ra),u.Ra=!1))}),yield yf(t,r,e)}catch(r){yield bd(r)}}),cO.apply(this,arguments)}function IB(n,e,t){const r=gt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ma.forEach((s,u)=>{const d=u.view.Q_(e);d.snapshot&&i.push(d.snapshot)}),function(u,d){const g=gt(u);g.onlineState=d;let E=!1;g.queries.forEach((b,x)=>{for(const N of x.listeners)N.Q_(d)&&(E=!0)}),E&&nO(g)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function aG(n,e,t){return lO.apply(this,arguments)}function lO(){return lO=(0,Ye.Z)(function*(n,e,t){const r=gt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ya.get(e),s=i&&i.key;if(s){let u=new _r(_t.comparator);u=u.insert(s,br.newNoDocument(s,jt.min()));const d=_n().add(s),g=new FE(jt.min(),new Map,new _r(cn),u,d);yield EB(r,g),r.pa=r.pa.remove(s),r.ya.delete(e),_O(r)}else yield GE(r.localStore,e,!1).then(()=>YE(r,e,t)).catch(bd)}),lO.apply(this,arguments)}function YE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||wB(n,r)})}function wB(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(BT(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),_O(n))}function mO(n,e,t){for(const r of t)r instanceof _B?(n.wa.addReference(r.key,e),dG(n,r)):r instanceof yB?(We("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||wB(n,r.key)):Pt()}function dG(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(We("SyncEngine","New document in limbo: "+t),n.ga.add(r),_O(n))}function _O(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new _t(kn.fromString(e)),r=n.Da.next();n.ya.set(r,new nG(t)),n.pa=n.pa.insert(t,r),Hx(n.remoteStore,new al(hi(pf(t.path)),r,"TargetPurposeLimboResolution",Ma._e))}}function yf(n,e,t){return yO.apply(this,arguments)}function yO(){return yO=(0,Ye.Z)(function*(n,e,t){const r=gt(n),i=[],s=[],u=[];var d;r.ma.isEmpty()||(r.ma.forEach((d,g)=>{u.push(r.va(g,e,t).then(E=>{if((E||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(g.targetId,E?.fromCache?"not-current":"current"),E){i.push(E);const b=wN.Qi(g.targetId,E);s.push(b)}}))}),yield Promise.all(u),r.Va.a_(i),yield(d=(0,Ye.Z)(function*(E,b){const x=gt(E);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>he.forEach(b,L=>he.forEach(L.ki,Y=>x.persistence.referenceDelegate.addReference(N,L.targetId,Y)).next(()=>he.forEach(L.qi,Y=>x.persistence.referenceDelegate.removeReference(N,L.targetId,Y)))))}catch(N){if(!nl(N))throw N;We("LocalStore","Failed to update sequence numbers: "+N)}for(const N of b){const L=N.targetId;if(!N.fromCache){const Y=x.ts.get(L),ae=Y.withLastLimboFreeSnapshotVersion(Y.snapshotVersion);x.ts=x.ts.insert(L,ae)}}}),function g(E,b){return d.apply(this,arguments)})(r.localStore,s))}),yO.apply(this,arguments)}function hG(n,e){return vO.apply(this,arguments)}function vO(){return vO=(0,Ye.Z)(function*(n,e){const t=gt(n);if(!t.currentUser.isEqual(e)){We("SyncEngine","User change. New user:",e.toKey());const r=yield YL(t.localStore,e);t.currentUser=e,(s=t).ba.forEach(d=>{d.forEach(g=>{g.reject(new Ze(Ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield yf(t,r._s)}var s}),vO.apply(this,arguments)}function fG(n,e){const t=gt(n),r=t.ya.get(e);if(r&&r.Ra)return _n().add(r.key);{let i=_n();const s=t.fa.get(e);if(!s)return i;for(const u of s){const d=t.ma.get(u);i=i.unionWith(d.view.ua)}return i}}class Wx{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ye.Z)(function*(){t.serializer=VT(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function QL(n,e,t,r){return new bz(n,e,t,r)}(this.persistence,new ZL,e.initialUser,this.serializer)}createPersistence(e){return new yN(Vx.jr,this.serializer)}createSharedClientState(e){return new sB}terminate(){var e=this;return(0,Ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class JE{initialize(e,t){var r=this;return(0,Ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>IB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=hG.bind(null,r.syncEngine),yield function ZN(n,e){return QN.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Qz}createDatastore(e){const t=VT(e.databaseInfo.databaseId),r=new Pz(e.databaseInfo);return new Fz(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,u=t=>IB(this.syncEngine,t,0),d=oB.D()?new oB:new xz,new Bz(r,i,s,u,d);var r,i,s,u,d}createSyncEngine(e,t){return function(i,s,u,d,g,E,b){const x=new rG(i,s,u,d,g,E);return b&&(x.Ca=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ye.Z)(function*(r){const i=gt(r);We("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield HE(i),i.F_.shutdown(),i.M_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class Kx{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class CG{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qi.UNAUTHENTICATED,this.clientId=ey.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,Ye.Z)(function*(d){We("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(We("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,Ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ze(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ye.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=KE(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Zx(n,e){return xO.apply(this,arguments)}function xO(){return xO=(0,Ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ye.Z)(function*(s){r.isEqual(s)||(yield YL(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),xO.apply(this,arguments)}function MO(n,e){return RO.apply(this,arguments)}function RO(){return RO=(0,Ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function PO(n){return NO.apply(this,arguments)}(n);We("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>fB(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>fB(e.remoteStore,s)),n._onlineComponents=e}),RO.apply(this,arguments)}function NO(){return NO=(0,Ye.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){We("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Zx(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function SB(n){return"FirebaseError"===n.name?n.code===Ae.FAILED_PRECONDITION||n.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Hs("Error using user provided cache. Falling back to memory cache: "+t),yield Zx(n,new Wx)}}else We("FirestoreClient","Using default OfflineComponentProvider"),yield Zx(n,new Wx);return n._offlineComponents}),NO.apply(this,arguments)}function OO(){return OO=(0,Ye.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(We("FirestoreClient","Using user provided OnlineComponentProvider"),yield MO(n,n._uninitializedComponentsProvider._online)):(We("FirestoreClient","Using default OnlineComponentProvider"),yield MO(n,new JE))),n._onlineComponents}),OO.apply(this,arguments)}function eI(n){return FO.apply(this,arguments)}function FO(){return FO=(0,Ye.Z)(function*(n){const e=yield function Qx(n){return OO.apply(this,arguments)}(n),t=e.eventManager;return t.onListen=iG.bind(null,e.syncEngine),t.onUnlisten=sG.bind(null,e.syncEngine),t}),FO.apply(this,arguments)}function OB(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const kB=new Map;function Vn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ze(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function Yx(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":Pt()}(n);throw new Ze(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class BB{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ze(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ze(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function VG(n,e,t,r){if(!0===e&&!0===r)throw new Ze(Ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=OB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Ze(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ze(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ze(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class UT{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ze(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ze(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BB(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new kP;switch(r.type){case"firstParty":return new LP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ze(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=kB.get(t);r&&(We("ComponentProvider","Removing Datastore"),kB.delete(t),r.terminate())}(this),Promise.resolve()}}class Ks{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ks(this.firestore,e,this._query)}}class Di{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Md(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Di(this.firestore,e,this._key)}}class Md extends Ks{constructor(e,t,r){super(e,t,pf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Di(this.firestore,null,new _t(e))}withConverter(e){return new Md(this.firestore,e,this._path)}}class UG{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new PN(this,"async_queue_retry"),this.iu=()=>{const t=Gx();t&&We("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=Gx();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=Gx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new Kr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,Ye.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!nl(t))throw t;We("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,Jr("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=YN.createAndSchedule(this,e,t,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Pt()}verifyOperationInProgress(){}uu(){var e=this;return(0,Ye.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function LO(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class xr extends UT{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new UG,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jB(this),this._firestoreClient.terminate()}}function jB(n){var e,t,r;const i=n._freezeSettings(),s=(g=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new aL(n._databaseId,g,n._persistenceKey,(b=i).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,OB(b.experimentalLongPollingOptions),b.useFetchStreams));var g,b;n._firestoreClient=new CG(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class My{constructor(e){this._byteString=e}static fromBase64String(e){try{return new My(Ki.fromBase64String(e))}catch(t){throw new Ze(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new My(Ki.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tI{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ze(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class BO{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ze(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ze(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return cn(this._lat,e._lat)||cn(this._long,e._long)}}const ZG=new RegExp("[~\\*/\\[\\]]");function e1(n,e,t,r,i){const s=r&&!r.isEmpty(),u=void 0!==i;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(s||u)&&(g+=" (found",s&&(g+=` in field ${r}`),u&&(g+=` in document ${i}`),g+=")"),new Ze(Ae.INVALID_ARGUMENT,d+n+g)}class zO{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Di(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(t1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QG extends zO{data(){return super.data()}}function t1(n,e){return"string"==typeof e?function Xx(n,e,t){if(e.search(ZG)>=0)throw e1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tI(...e.split("."))._internalPath}catch{throw e1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof tI?e._internalPath:e._delegate._internalPath}class JG{convertValue(e,t="none"){switch(ic(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ei(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Td(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Pt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return rl(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new BO(ei(e.latitude),ei(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sT(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(IE(e));default:return null}}convertTimestamp(e){const t=lf(e);return new Sr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=kn.fromString(e);Vt(xx(r));const i=new vg(r.get(1),r.get(3)),s=new _t(r.popFirst(5));return i.isEqual(t)||Jr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class Py{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iI extends zO{constructor(e,t,r,i,s,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new s1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(t1("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class s1 extends iI{data(e={}){return super.data(e)}}class sI{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Py(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new s1(this._firestore,this._userDataWriter,r.key,r,new Py(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ze(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(d=>({type:"added",doc:new s1(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Py(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>s||3!==d.type).map(d=>{const g=new s1(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Py(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let E=-1,b=-1;return 0!==d.type&&(E=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),b=u.indexOf(d.doc.key)),{type:e9(d.type),doc:g,oldIndex:E,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function e9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt()}}class Mg extends JG{constructor(e){super(),this.firestore=e}convertBytes(e){return new My(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Di(this.firestore,null,t)}}!function(e,t=!0){lg=ec.Jn,(0,ec.Xd)(new Jm.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const u=r.getProvider("app").getImmediate(),d=new xr(new Wb(r.getProvider("auth-internal")),new BP(r.getProvider("app-check-internal")),function(E,b){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new Ze(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vg(E.options.projectId,b)}(u,i),u);return s=Object.assign({useFetchStreams:t},s),d._setSettings(s),d},"PUBLIC").setMultipleInstances(!0)),(0,ec.KN)(OP,"4.3.2",e),(0,ec.KN)(OP,"4.3.2","esm2017")}();var u1=function(){return u1=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},u1.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var p9={includeMetadataChanges:!1};function ZO(n,e){return void 0===e&&(e=p9),new Bi.y(function(t){var r=function t9(n,...e){var t,r,i;n=function md(n){return n&&n._delegate?n._delegate:n}(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||LO(e[u])||(s=e[u],u++);const d={includeMetadataChanges:s.includeMetadataChanges};if(LO(e[u])){const x=e[u];e[u]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[u+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[u+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let g,E,b;if(n instanceof Di)E=Vn(n.firestore,xr),b=pf(n._key.path),g={next:x=>{e[u]&&e[u](function qO(n,e,t){const r=t.docs.get(e._key),i=new Mg(n);return new iI(n,i,e._key,r,new Py(t.hasPendingWrites,t.fromCache),e.converter)}(E,n,x))},error:e[u+1],complete:e[u+2]};else{const x=Vn(n,Ks);E=Vn(x.firestore,xr),b=x._query;const N=new Mg(E);g={next:L=>{e[u]&&e[u](new sI(E,N,x,L))},error:e[u+1],complete:e[u+2]},function eU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ze(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(N,L,Y,se){const ae=new Kx(se),He=new rO(L,ae,Y);return N.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return function JN(n,e){return XN.apply(this,arguments)}(yield eI(N),He)})),()=>{ae.Na(),N.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return function eO(n,e){return tO.apply(this,arguments)}(yield eI(N),He)}))}}(function Si(n){return n._firestoreClient||jB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}(E),b,d,g)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function I9(n,e){return void 0===e&&(e={}),function E9(n){return ZO(n,{includeMetadataChanges:!0}).pipe((0,Cn.U)(function(e){return e.docs}))}(n).pipe((0,Cn.U)(function(t){return t.map(function(r){return function cU(n,e){var t;void 0===e&&(e={});var r=n.data(e);return n.exists()&&"object"==typeof r&&null!==r&&e.idField?u1(u1({},r),((t={})[e.idField]=n.id,t)):r}(r,e)})}))}var At,b9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ul={},JO=JO||{},gn=b9||self;function c1(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function qT(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var XO="closure_uid_"+(1e9*Math.random()>>>0),A9=0;function C9(n,e,t){return n.call.apply(n.bind,arguments)}function D9(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function wo(n,e,t){return(wo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?C9:D9).apply(null,arguments)}function l1(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ms(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var u=Array(arguments.length-2),d=2;d<arguments.length;d++)u[d-2]=arguments[d];return e.prototype[i].apply(r,u)}}function Rg(){this.s=this.s,this.o=this.o}Rg.prototype.s=!1,Rg.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function T9(n){Object.prototype.hasOwnProperty.call(n,XO)&&n[XO]||(n[XO]=++A9)}(this)},Rg.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fU=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ek(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function pU(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(c1(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let u=0;u<s;u++)n[i+u]=r[u]}else n.push(r)}}function bo(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}bo.prototype.h=function(){this.defaultPrevented=!0};var x9=function(){if(!gn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{gn.addEventListener("test",()=>{},e),gn.removeEventListener("test",()=>{},e)}catch{}return n}();function WT(n){return/^[\s\xa0]*$/.test(n)}function d1(){var n=gn.navigator;return n&&(n=n.userAgent)?n:""}function Rd(n){return-1!=d1().indexOf(n)}function tk(n){return tk[" "](n),n}tk[" "]=function(){};var rk,R9=Rd("Opera"),oI=Rd("Trident")||Rd("MSIE"),gU=Rd("Edge"),nk=gU||oI,mU=Rd("Gecko")&&!(-1!=d1().toLowerCase().indexOf("webkit")&&!Rd("Edge"))&&!(Rd("Trident")||Rd("MSIE"))&&!Rd("Edge"),P9=-1!=d1().toLowerCase().indexOf("webkit")&&!Rd("Edge");function _U(){var n=gn.document;return n?n.documentMode:void 0}e:{var ik="",sk=function(){var n=d1();return mU?/rv:([^\);]+)(\)|;)/.exec(n):gU?/Edge\/([\d\.]+)/.exec(n):oI?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):P9?/WebKit\/(\S+)/.exec(n):R9?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(sk&&(ik=sk?sk[1]:""),oI){var ok=_U();if(null!=ok&&ok>parseFloat(ik)){rk=String(ok);break e}}rk=ik}var N9=gn.document&&oI&&(_U()||parseInt(rk,10))||void 0;function KT(n,e){if(bo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(mU){e:{try{tk(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:O9[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&KT.$.h.call(this)}}Ms(KT,bo);var O9={2:"touch",3:"pen",4:"mouse"};KT.prototype.h=function(){KT.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ZT="closure_listenable_"+(1e6*Math.random()|0),k9=0;function F9(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++k9,this.fa=this.ia=!1}function h1(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function uk(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function vU(n){const e={};for(const t in n)e[t]=n[t];return e}const EU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IU(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<EU.length;s++)t=EU[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function f1(n){this.src=n,this.g={},this.h=0}function ck(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=fU(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(h1(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function lk(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}f1.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=lk(n,e,r,i);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new F9(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var dk="closure_lm_"+(1e6*Math.random()|0),hk={};function wU(n,e,t,r,i){if(r&&r.once)return TU(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)wU(n,e[s],t,r,i);return null}return t=mk(t),n&&n[ZT]?n.O(e,t,qT(r)?!!r.capture:!!r,i):bU(n,e,t,!1,r,i)}function bU(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var u=qT(i)?!!i.capture:!!i,d=pk(n);if(d||(n[dk]=d=new f1(n)),(t=d.add(e,t,r,u,s)).proxy)return t;if(r=function L9(){const e=B9;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)x9||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(CU(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function TU(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)TU(n,e[s],t,r,i);return null}return t=mk(t),n&&n[ZT]?n.P(e,t,qT(r)?!!r.capture:!!r,i):bU(n,e,t,!0,r,i)}function AU(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)AU(n,e[s],t,r,i);else r=qT(r)?!!r.capture:!!r,t=mk(t),n&&n[ZT]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=lk(s=n.g[e],t,r,i))&&(h1(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=pk(n))&&(e=n.g[e.toString()],n=-1,e&&(n=lk(e,t,r,i)),(t=-1<n?e[n]:null)&&fk(t))}function fk(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[ZT])ck(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(CU(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=pk(e))?(ck(t,n),0==t.h&&(t.src=null,e[dk]=null)):h1(n)}}}function CU(n){return n in hk?hk[n]:hk[n]="on"+n}function B9(n,e){if(n.fa)n=!0;else{e=new KT(e,this);var t=n.listener,r=n.la||n.src;n.ia&&fk(n),n=t.call(r,e)}return n}function pk(n){return(n=n[dk])instanceof f1?n:null}var gk="__closure_events_fn_"+(1e9*Math.random()>>>0);function mk(n){return"function"==typeof n?n:(n[gk]||(n[gk]=function(e){return n.handleEvent(e)}),n[gk])}function Rs(){Rg.call(this),this.i=new f1(this),this.S=this,this.J=null}function Zs(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new bo(e,n);else if(e instanceof bo)e.target=e.target||n;else{var i=e;IU(e=new bo(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var u=e.g=t[s];i=p1(u,r,!0,e)&&i}if(i=p1(u=e.g=n,r,!0,e)&&i,i=p1(u,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=p1(u=e.g=t[s],r,!1,e)&&i}function p1(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var u=e[s];if(u&&!u.fa&&u.capture==t){var d=u.listener,g=u.la||u.src;u.ia&&ck(n.i,u),i=!1!==d.call(g,r)&&i}}return i&&!r.defaultPrevented}Ms(Rs,Rg),Rs.prototype[ZT]=!0,Rs.prototype.removeEventListener=function(n,e,t,r){AU(this,n,e,t,r)},Rs.prototype.N=function(){if(Rs.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)h1(t[r]);delete n.g[e],n.h--}}this.J=null},Rs.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Rs.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var _k=gn.JSON.stringify;function j9(){var n=yk;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var DU=new class U9{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new z9,n=>n.reset());class z9{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function G9(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function H9(n){gn.setTimeout(()=>{throw n},0)}let QT,YT=!1,yk=new class $9{constructor(){this.h=this.g=null}add(e,t){const r=DU.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},SU=()=>{const n=gn.Promise.resolve(void 0);QT=()=>{n.then(q9)}};var q9=()=>{for(var n;n=j9();){try{n.h.call(n.g)}catch(t){H9(t)}var e=DU;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}YT=!1};function g1(n,e){Rs.call(this),this.h=n||1,this.g=e||gn,this.j=wo(this.qb,this),this.l=Date.now()}function vk(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Ek(n,e,t){if("function"==typeof n)t&&(n=wo(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=wo(n.handleEvent,n)}return 2147483647<Number(e)?-1:gn.setTimeout(n,e||0)}function xU(n){n.g=Ek(()=>{n.g=null,n.i&&(n.i=!1,xU(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ms(g1,Rs),(At=g1.prototype).ga=!1,At.T=null,At.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Zs(this,"tick"),this.ga&&(vk(this),this.start()))}},At.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},At.N=function(){g1.$.N.call(this),vk(this),delete this.g};class W9 extends Rg{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xU(this)}N(){super.N(),this.g&&(gn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function JT(n){Rg.call(this),this.h=n,this.g={}}Ms(JT,Rg);var MU=[];function RU(n,e,t,r){Array.isArray(t)||(t&&(MU[0]=t.toString()),t=MU);for(var i=0;i<t.length;i++){var s=wU(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function PU(n){uk(n.g,function(e,t){this.g.hasOwnProperty(t)&&fk(e)},n),n.g={}}function m1(){this.g=!0}function aI(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Y9(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<i.length;u++)i[u]=""}}}return _k(t)}catch{return e}}(n,t)+(r?" "+r:"")})}JT.prototype.N=function(){JT.$.N.call(this),PU(this)},JT.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},m1.prototype.Ea=function(){this.g=!1},m1.prototype.info=function(){};var Ny={},NU=null;function _1(){return NU=NU||new Rs}function OU(n){bo.call(this,Ny.Ta,n)}function XT(n){const e=_1();Zs(e,new OU(e))}function kU(n,e){bo.call(this,Ny.STAT_EVENT,n),this.stat=e}function Qo(n){const e=_1();Zs(e,new kU(e,n))}function FU(n,e){bo.call(this,Ny.Ua,n),this.size=e}function eA(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return gn.setTimeout(function(){n()},e)}Ny.Ta="serverreachability",Ms(OU,bo),Ny.STAT_EVENT="statevent",Ms(kU,bo),Ny.Ua="timingevent",Ms(FU,bo);var y1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},VU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ik(){}function BU(){}Ik.prototype.h=null;var Tk,tA={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wk(){bo.call(this,"d")}function bk(){bo.call(this,"c")}function v1(){}function nA(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new JT(this),this.P=J9,this.V=new g1(n=nk?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new UU}function UU(){this.i=null,this.g="",this.h=!1}Ms(wk,bo),Ms(bk,bo),Ms(v1,Ik),v1.prototype.g=function(){return new XMLHttpRequest},v1.prototype.i=function(){return{}},Tk=new v1;var J9=45e3,Ak={},E1={};function Ck(n,e,t){n.L=1,n.v=T1(vf(e)),n.s=t,n.S=!0,jU(n,null)}function jU(n,e){n.G=Date.now(),rA(n),n.A=vf(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),YU(t.i,"t",r),n.C=0,t=n.l.J,n.h=new UU,n.g=I4(n.l,t?e:null,!n.s),0<n.O&&(n.M=new W9(wo(n.Pa,n,n.g),n.O)),RU(n.U,n.g,"readystatechange",n.nb),e=n.I?vU(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),XT(),function K9(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var u="",d=s.split("&"),g=0;g<d.length;g++){var E=d[g].split("=");if(1<E.length){var b=E[0];E=E[1];var x=b.split("_");u=2<=x.length&&"type"==x[1]?u+(b+"=")+E+"&":u+(b+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function $U(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function zU(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=X9(n,t),i==E1){4==e&&(n.o=4,Qo(14),r=!1),aI(n.j,n.m,null,"[Incomplete Response]");break}if(i==Ak){n.o=4,Qo(15),aI(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}aI(n.j,n.m,i,null),Dk(n,i)}$U(n)&&i!=E1&&i!=Ak&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Qo(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ok(e),e.M=!0,Qo(11))):(aI(n.j,n.m,t,"[Invalid Chunked Response]"),Oy(n),iA(n))}function X9(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?E1:(t=Number(e.substring(t,r)),isNaN(t)?Ak:(r+=1)+t>e.length?E1:(e=e.slice(r,r+t),n.C=r+t,e))}function rA(n){n.Y=Date.now()+n.P,GU(n,n.P)}function GU(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=eA(wo(n.lb,n),e)}function I1(n){n.B&&(gn.clearTimeout(n.B),n.B=null)}function iA(n){0==n.l.H||n.J||_4(n.l,n)}function Oy(n){I1(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,vk(n.V),PU(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Dk(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Sk(t.i,n)))if(!n.K&&Sk(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;M1(t),S1(t)}Nk(t),Qo(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=eA(wo(t.ib,t),6e3));if(1>=e4(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Fy(t,11)}else if((n.K||t.g==n)&&M1(t),!WT(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.V=E[0],E=E[1],2==t.H)if("c"==E[0]){t.K=E[1],t.pa=E[2];const b=E[3];null!=b&&(t.ra=b,t.l.info("VER="+t.ra));const x=E[4];null!=x&&(t.Ga=x,t.l.info("SVER="+t.Ga));const N=E[5];null!=N&&"number"==typeof N&&0<N&&(t.L=r=1.5*N,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const L=n.g;if(L){const Y=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Y){var s=r.i;s.g||-1==Y.indexOf("spdy")&&-1==Y.indexOf("quic")&&-1==Y.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(xk(s,s.h),s.h=null))}if(r.F){const se=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;se&&(r.Da=se,Fr(r.I,r.F,se))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var u=n;if((r=t).wa=E4(r,r.J?r.pa:null,r.Y),u.K){t4(r.i,u);var d=u,g=r.L;g&&d.setTimeout(g),d.B&&(I1(d),rA(d)),r.g=u}else g4(r);0<t.j.length&&x1(t)}else"stop"!=E[0]&&"close"!=E[0]||Fy(t,7);else 3==t.H&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?Fy(t,7):Pk(t):"noop"!=E[0]&&t.h&&t.h.Aa(E),t.A=0)}XT()}catch{}}function HU(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(c1(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function tH(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(c1(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function eH(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(c1(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(At=nA.prototype).setTimeout=function(n){this.P=n},At.nb=function(n){n=n.target;const e=this.M;e&&3==Pd(n)?e.l():this.Pa(n)},At.Pa=function(n){try{if(n==this.g)e:{const b=Pd(this.g);var e=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||nk||this.g&&(this.h.h||this.g.ja()||c4(this.g)))){this.J||4!=b||7==e||XT(),I1(this);var t=this.g.da();this.ca=t;t:if($U(this)){var r=c4(this.g);n="";var i=r.length,s=4==Pd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Oy(this),iA(this);var u="";break t}this.h.i=new gn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function Z9(n,e,t,r,i,s,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.W,b,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var d,g=this.g;if((d=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!WT(d)){var E=d;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,Qo(12),Oy(this),iA(this);break e}aI(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dk(this,t)}this.S?(zU(this,b,u),nk&&this.i&&3==b&&(RU(this.U,this.V,"tick",this.mb),this.V.start())):(aI(this.j,this.m,u,null),Dk(this,u)),4==b&&Oy(this),this.i&&!this.J&&(4==b?_4(this.l,this):(this.i=!1,rA(this)))}else(function vH(n){const e={};n=(n.g&&2<=Pd(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(WT(n[r]))continue;var t=G9(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function V9(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Qo(12)):(this.o=0,Qo(13)),Oy(this),iA(this)}}}catch{}},At.mb=function(){if(this.g){var n=Pd(this.g),e=this.g.ja();this.C<e.length&&(I1(this),zU(this,n,e),this.i&&4!=n&&rA(this))}},At.cancel=function(){this.J=!0,Oy(this)},At.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Q9(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(XT(),Qo(17)),Oy(this),this.o=2,iA(this)):GU(this,this.Y-n)};var qU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ky(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ky){this.h=n.h,w1(this,n.j),this.s=n.s,this.g=n.g,b1(this,n.m),this.l=n.l;var e=n.i,t=new aA;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),WU(this,t),this.o=n.o}else n&&(e=String(n).match(qU))?(this.h=!1,w1(this,e[1]||"",!0),this.s=sA(e[2]||""),this.g=sA(e[3]||"",!0),b1(this,e[4]),this.l=sA(e[5]||"",!0),WU(this,e[6]||"",!0),this.o=sA(e[7]||"")):(this.h=!1,this.i=new aA(null,this.h))}function vf(n){return new ky(n)}function w1(n,e,t){n.j=t?sA(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function b1(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function WU(n,e,t){e instanceof aA?(n.i=e,function uH(n,e){e&&!n.j&&(Pg(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(ZU(this,r),YU(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=oA(e,oH)),n.i=new aA(e,n.h))}function Fr(n,e,t){n.i.set(e,t)}function T1(n){return Fr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function sA(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function oA(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,rH),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function rH(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ky.prototype.toString=function(){var n=[],e=this.j;e&&n.push(oA(e,KU,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(oA(e,KU,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(oA(t,"/"==t.charAt(0)?sH:iH,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",oA(t,aH)),n.join("")};var KU=/[#\/\?@]/g,iH=/[#\?:]/g,sH=/[#\?]/g,oH=/[#\?@]/g,aH=/#/g;function aA(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Pg(n){n.g||(n.g=new Map,n.h=0,n.i&&function nH(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ZU(n,e){Pg(n),e=uI(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function QU(n,e){return Pg(n),e=uI(n,e),n.g.has(e)}function YU(n,e,t){ZU(n,e),0<t.length&&(n.i=null,n.g.set(uI(n,e),ek(t)),n.h+=t.length)}function uI(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function JU(n){this.l=n||lH,n=gn.PerformanceNavigationTiming?0<(n=gn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(gn.g&&gn.g.Ka&&gn.g.Ka()&&gn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(At=aA.prototype).add=function(n,e){Pg(this),this.i=null,n=uI(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},At.forEach=function(n,e){Pg(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},At.ta=function(){Pg(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},At.Z=function(n){Pg(this);let e=[];if("string"==typeof n)QU(this,n)&&(e=e.concat(this.g.get(uI(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},At.set=function(n,e){return Pg(this),this.i=null,QU(this,n=uI(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},At.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},At.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var i=s;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var lH=10;function XU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function e4(n){return n.h?1:n.g?n.g.size:0}function Sk(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function xk(n,e){n.g?n.g.add(e):n.h=e}function t4(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function n4(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return ek(n.i)}JU.prototype.cancel=function(){if(this.i=n4(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var dH=class{stringify(n){return gn.JSON.stringify(n,void 0)}parse(n){return gn.JSON.parse(n,void 0)}};function hH(){this.g=new dH}function fH(n,e,t){const r=t||"";try{HU(n,function(i,s){let u=i;qT(i)&&(u=_k(i)),e.push(r+s+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function A1(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function uA(n){this.l=n.fc||null,this.j=n.ob||!1}function C1(n,e){Rs.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Mk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ms(uA,Ik),uA.prototype.g=function(){return new C1(this.l,this.j)},uA.prototype.i=function(n){return function(){return n}}({}),Ms(C1,Rs);var Mk=0;function r4(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function cA(n){n.readyState=4,n.l=null,n.j=null,n.A=null,lA(n)}function lA(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(At=C1.prototype).open=function(n,e){if(this.readyState!=Mk)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,lA(this)},At.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||gn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},At.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cA(this)),this.readyState=Mk},At.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,lA(this)),this.g&&(this.readyState=3,lA(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof gn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;r4(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},At.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?cA(this):lA(this),3==this.readyState&&r4(this)}},At.Za=function(n){this.g&&(this.response=this.responseText=n,cA(this))},At.Ya=function(n){this.g&&(this.response=n,cA(this))},At.ka=function(){this.g&&cA(this)},At.setRequestHeader=function(n,e){this.v.append(n,e)},At.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},At.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(C1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var gH=gn.JSON.parse;function pi(n){Rs.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=i4,this.L=this.M=!1}Ms(pi,Rs);var i4="",mH=/^https?$/i,_H=["POST","PUT"];function s4(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,o4(n),D1(n)}function o4(n){n.F||(n.F=!0,Zs(n,"complete"),Zs(n,"error"))}function a4(n){if(n.h&&typeof JO<"u"&&(!n.C[1]||4!=Pd(n)||2!=n.da()))if(n.v&&4==Pd(n))Ek(n.La,0,n);else if(Zs(n,"readystatechange"),4==Pd(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===u){var i=String(n.I).match(qU)[1]||null;!i&&gn.self&&gn.self.location&&(i=gn.self.location.protocol.slice(0,-1)),r=!mH.test(i?i.toLowerCase():"")}t=r}if(t)Zs(n,"complete"),Zs(n,"success");else{n.m=6;try{var s=2<Pd(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",o4(n)}}finally{D1(n)}}}function D1(n,e){if(n.g){u4(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Zs(n,"ready");try{t.onreadystatechange=r}catch{}}}function u4(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(gn.clearTimeout(n.A),n.A=null)}function Pd(n){return n.g?n.g.readyState:0}function c4(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case i4:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function l4(n){let e="";return uk(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Rk(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=l4(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Fr(n,e,t))}function dA(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function d4(n){this.Ga=0,this.j=[],this.l=new m1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=dA("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=dA("baseRetryDelayMs",5e3,n),this.hb=dA("retryDelaySeedMs",1e4,n),this.eb=dA("forwardChannelMaxRetries",2,n),this.xa=dA("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new JU(n&&n.concurrentRequestLimit),this.Ja=new hH,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Pk(n){if(h4(n),3==n.H){var e=n.W++,t=vf(n.I);if(Fr(t,"SID",n.K),Fr(t,"RID",e),Fr(t,"TYPE","terminate"),hA(n,t),(e=new nA(n,n.l,e)).L=2,e.v=T1(vf(t)),t=!1,gn.navigator&&gn.navigator.sendBeacon)try{t=gn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&gn.Image&&((new Image).src=e.v,t=!0),t||(e.g=I4(e.l,null),e.g.ha(e.v)),e.G=Date.now(),rA(e)}v4(n)}function S1(n){n.g&&(Ok(n),n.g.cancel(),n.g=null)}function h4(n){S1(n),n.u&&(gn.clearTimeout(n.u),n.u=null),M1(n),n.i.cancel(),n.m&&("number"==typeof n.m&&gn.clearTimeout(n.m),n.m=null)}function x1(n){if(!XU(n.i)&&!n.m){n.m=!0;var e=n.Na;QT||SU(),YT||(QT(),YT=!0),yk.add(e,n),n.C=0}}function f4(n,e){var t;t=e?e.m:n.W++;const r=vf(n.I);Fr(r,"SID",n.K),Fr(r,"RID",t),Fr(r,"AID",n.V),hA(n,r),n.o&&n.s&&Rk(r,n.o,n.s),t=new nA(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=p4(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),xk(n.i,t),Ck(t,r,e)}function hA(n,e){n.na&&uk(n.na,function(t,r){Fr(e,r,t)}),n.h&&HU({},function(t,r){Fr(e,r,t)})}function p4(n,e,t){t=Math.min(n.j.length,t);var r=n.h?wo(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const u=["count="+t];-1==s?0<t?(s=i[0].g,u.push("ofs="+s)):s=0:u.push("ofs="+s);let d=!0;for(let g=0;g<t;g++){let E=i[g].g;const b=i[g].map;if(E-=s,0>E)s=Math.max(0,i[g].g-100),d=!1;else try{fH(b,u,"req"+E+"_")}catch{r&&r(b)}}if(d){r=u.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function g4(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;QT||SU(),YT||(QT(),YT=!0),yk.add(e,n),n.A=0}}function Nk(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=eA(wo(n.Ma,n),y4(n,n.A)),n.A++,0))}function Ok(n){null!=n.B&&(gn.clearTimeout(n.B),n.B=null)}function m4(n){n.g=new nA(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=vf(n.wa);Fr(e,"RID","rpc"),Fr(e,"SID",n.K),Fr(e,"AID",n.V),Fr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Fr(e,"TO",n.qa),Fr(e,"TYPE","xmlhttp"),hA(n,e),n.o&&n.s&&Rk(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=T1(vf(e)),t.s=null,t.S=!0,jU(t,n)}function M1(n){null!=n.v&&(gn.clearTimeout(n.v),n.v=null)}function _4(n,e){var t=null;if(n.g==e){M1(n),Ok(n),n.g=null;var r=2}else{if(!Sk(n.i,e))return;t=e.F,t4(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Zs(r=_1(),new FU(r,t)),x1(n)}else g4(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function EH(n,e){return!(e4(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=eA(wo(n.Na,n,e),y4(n,n.C)),n.C++,0)))}(n,e)||2==r&&Nk(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Fy(n,5);break;case 4:Fy(n,10);break;case 3:Fy(n,6);break;default:Fy(n,2)}}function y4(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Fy(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=wo(n.pb,n);t||(t=new ky("//www.google.com/images/cleardot.gif"),gn.location&&"http"==gn.location.protocol||w1(t,"https"),T1(t)),function pH(n,e){const t=new m1;if(gn.Image){const r=new Image;r.onload=l1(A1,t,r,"TestLoadImage: loaded",!0,e),r.onerror=l1(A1,t,r,"TestLoadImage: error",!1,e),r.onabort=l1(A1,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=l1(A1,t,r,"TestLoadImage: timeout",!1,e),gn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Qo(2);n.H=0,n.h&&n.h.za(e),v4(n),h4(n)}function v4(n){if(n.H=0,n.ma=[],n.h){const e=n4(n.i);(0!=e.length||0!=n.j.length)&&(pU(n.ma,e),pU(n.ma,n.j),n.i.i.length=0,ek(n.j),n.j.length=0),n.h.ya()}}function E4(n,e,t){var r=t instanceof ky?vf(t):new ky(t);if(""!=r.g)e&&(r.g=e+"."+r.g),b1(r,r.m);else{var i=gn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ky(null);r&&w1(s,r),e&&(s.g=e),i&&b1(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Fr(r,t,e),Fr(r,"VER",n.ra),hA(n,r),r}function I4(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pi(t&&n.Ha&&!n.va?new uA({ob:!0}):n.va)).Oa(n.J),e}function w4(){}function R1(){if(oI&&!(10<=Number(N9)))throw Error("Environmental error: no available transport.")}function yu(n,e){Rs.call(this),this.g=new d4(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!WT(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!WT(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new cI(this)}function b4(n){wk.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function T4(){bk.call(this),this.status=1}function cI(n){this.g=n}function cl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function kk(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],u=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;u=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(u<<7&4294967295|u>>>25))+((u=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((s=(e=t+((u=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((i=s+((u=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function cr(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(At=pi.prototype).Oa=function(n){this.M=n},At.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Tk.g(),this.C=function LU(n){return n.h||(n.h=n.i())}(this.u?this.u:Tk),this.g.onreadystatechange=wo(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void s4(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=gn.FormData&&n instanceof gn.FormData,!(0<=fU(_H,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of t)this.g.setRequestHeader(s,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{u4(this),0<this.B&&((this.L=function yH(n){return oI&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wo(this.ua,this)):this.A=Ek(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){s4(this,s)}},At.ua=function(){typeof JO<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zs(this,"timeout"),this.abort(8))},At.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Zs(this,"complete"),Zs(this,"abort"),D1(this))},At.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),D1(this,!0)),pi.$.N.call(this)},At.La=function(){this.s||(this.G||this.v||this.l?a4(this):this.kb())},At.kb=function(){a4(this)},At.isActive=function(){return!!this.g},At.da=function(){try{return 2<Pd(this)?this.g.status:-1}catch{return-1}},At.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},At.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),gH(e)}},At.Ia=function(){return this.m},At.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(At=d4.prototype).ra=8,At.H=1,At.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new nA(this,this.l,n);let s=this.s;if(this.U&&(s?(s=vU(s),IU(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=p4(this,i,e),Fr(t=vf(this.I),"RID",n),Fr(t,"CVER",22),this.F&&Fr(t,"X-HTTP-Session-Id",this.F),hA(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(l4(s)))+"&"+e:this.o&&Rk(t,this.o,s)),xk(this.i,i),this.bb&&Fr(t,"TYPE","init"),this.P?(Fr(t,"$req",e),Fr(t,"SID","null"),i.aa=!0,Ck(i,t,null)):Ck(i,t,e),this.H=2}}else 3==this.H&&(n?f4(this,n):0==this.j.length||XU(this.i)||f4(this))},At.Ma=function(){if(this.u=null,m4(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=eA(wo(this.jb,this),n)}},At.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qo(10),S1(this),m4(this))},At.ib=function(){null!=this.v&&(this.v=null,S1(this),Nk(this),Qo(19))},At.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Qo(2)):(this.l.info("Failed to ping google.com"),Qo(1))},At.isActive=function(){return!!this.h&&this.h.isActive(this)},(At=w4.prototype).Ba=function(){},At.Aa=function(){},At.za=function(){},At.ya=function(){},At.isActive=function(){return!0},At.Va=function(){},R1.prototype.g=function(n,e){return new yu(n,e)},Ms(yu,Rs),yu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Qo(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=E4(n,null,n.Y),x1(n)},yu.prototype.close=function(){Pk(this.g)},yu.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=_k(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&x1(e)},yu.prototype.N=function(){this.g.h=null,delete this.j,Pk(this.g),delete this.g,yu.$.N.call(this)},Ms(b4,wk),Ms(T4,bk),Ms(cI,w4),cI.prototype.Ba=function(){Zs(this.g,"a")},cI.prototype.Aa=function(n){Zs(this.g,new b4(n))},cI.prototype.za=function(n){Zs(this.g,new T4)},cI.prototype.ya=function(){Zs(this.g,"b")},Ms(cl,function IH(){this.blockSize=-1}),cl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},cl.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)kk(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){kk(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){kk(this,r),i=0;break}}this.h=i,this.i+=e},cl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var wH={};function Fk(n){return-128<=n&&128>n?function M9(n,e){var t=wH;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new cr([0|e],0>e?-1:0)}):new cr([0|n],0>n?-1:0)}function Nd(n){if(isNaN(n)||!isFinite(n))return lI;if(0>n)return Qs(Nd(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Vk;return new cr(e,0)}var Vk=4294967296,lI=Fk(0),Lk=Fk(1),C4=Fk(16777216);function Ef(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function oc(n){return-1==n.h}function Qs(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new cr(t,~n.h).add(Lk)}function P1(n,e){return n.add(Qs(e))}function N1(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function fA(n,e){this.g=n,this.h=e}function O1(n,e){if(Ef(e))throw Error("division by zero");if(Ef(n))return new fA(lI,lI);if(oc(n))return e=O1(Qs(n),e),new fA(Qs(e.g),Qs(e.h));if(oc(e))return e=O1(n,Qs(e)),new fA(Qs(e.g),e.h);if(30<n.g.length){if(oc(n)||oc(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Lk,r=e;0>=r.X(n);)t=D4(t),r=D4(r);var i=dI(t,1),s=dI(r,1);for(r=dI(r,2),t=dI(t,2);!Ef(r);){var u=s.add(r);0>=u.X(n)&&(i=i.add(t),s=u),r=dI(r,1),t=dI(t,1)}return e=P1(n,i.R(e)),new fA(i,e)}for(i=lI;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),u=(s=Nd(t)).R(e);oc(u)||0<u.X(n);)u=(s=Nd(t-=r)).R(e);Ef(s)&&(s=Lk),i=i.add(s),n=P1(n,u)}return new fA(i,n)}function D4(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new cr(t,n.h)}function dI(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new cr(i,n.h)}(At=cr.prototype).ea=function(){if(oc(this))return-Qs(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Vk+r)*e,e*=Vk}return n},At.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ef(this))return"0";if(oc(this))return"-"+Qs(this).toString(n);for(var e=Nd(Math.pow(n,6)),t=this,r="";;){var i=O1(t,e).g,s=((0<(t=P1(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ef(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},At.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},At.X=function(n){return oc(n=P1(this,n))?-1:Ef(n)?0:1},At.abs=function(){return oc(this)?Qs(this):this},At.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),u=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=u>>>16,t[i]=(u&=65535)<<16|(s&=65535)}return new cr(t,-2147483648&t[t.length-1]?-1:0)},At.R=function(n){if(Ef(this)||Ef(n))return lI;if(oc(this))return oc(n)?Qs(this).R(Qs(n)):Qs(Qs(this).R(n));if(oc(n))return Qs(this.R(Qs(n)));if(0>this.X(C4)&&0>n.X(C4))return Nd(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,u=65535&this.D(r),d=n.D(i)>>>16,g=65535&n.D(i);t[2*r+2*i]+=u*g,N1(t,2*r+2*i),t[2*r+2*i+1]+=s*g,N1(t,2*r+2*i+1),t[2*r+2*i+1]+=u*d,N1(t,2*r+2*i+1),t[2*r+2*i+2]+=s*d,N1(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new cr(t,0)},At.gb=function(n){return O1(this,n).h},At.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new cr(t,this.h&n.h)},At.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new cr(t,this.h|n.h)},At.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new cr(t,this.h^n.h)},R1.prototype.createWebChannel=R1.prototype.g,yu.prototype.send=yu.prototype.u,yu.prototype.open=yu.prototype.m,yu.prototype.close=yu.prototype.close,y1.NO_ERROR=0,y1.TIMEOUT=8,y1.HTTP_ERROR=6,VU.COMPLETE="complete",BU.EventType=tA,tA.OPEN="a",tA.CLOSE="b",tA.ERROR="c",tA.MESSAGE="d",Rs.prototype.listen=Rs.prototype.O,pi.prototype.listenOnce=pi.prototype.P,pi.prototype.getLastError=pi.prototype.Sa,pi.prototype.getLastErrorCode=pi.prototype.Ia,pi.prototype.getStatus=pi.prototype.da,pi.prototype.getResponseJson=pi.prototype.Wa,pi.prototype.getResponseText=pi.prototype.ja,pi.prototype.send=pi.prototype.ha,pi.prototype.setWithCredentials=pi.prototype.Oa,cl.prototype.digest=cl.prototype.l,cl.prototype.reset=cl.prototype.reset,cl.prototype.update=cl.prototype.j,cr.prototype.add=cr.prototype.add,cr.prototype.multiply=cr.prototype.R,cr.prototype.modulo=cr.prototype.gb,cr.prototype.compare=cr.prototype.X,cr.prototype.toNumber=cr.prototype.ea,cr.prototype.toString=cr.prototype.toString,cr.prototype.getBits=cr.prototype.D,cr.fromNumber=Nd,cr.fromString=function A4(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Qs(A4(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Nd(Math.pow(e,8)),r=lI,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),u=parseInt(n.substring(i,i+s),e);8>s?(s=Nd(Math.pow(e,s)),r=r.R(s).add(Nd(u))):r=(r=r.R(t)).add(Nd(u))}return r};var bH=ul.createWebChannelTransport=function(){return new R1},TH=ul.getStatEventTarget=function(){return _1()},Bk=ul.ErrorCode=y1,AH=ul.EventType=VU,CH=ul.Event=Ny,S4=ul.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},DH=ul.FetchXmlHttpFactory=uA,k1=ul.WebChannel=BU,SH=ul.XhrIo=pi,xH=(ul.Md5=cl,ul.Integer=cr);const x4="@firebase/firestore";class Ps{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ps.UNAUTHENTICATED=new Ps(null),Ps.GOOGLE_CREDENTIALS=new Ps("google-credentials-uid"),Ps.FIRST_PARTY=new Ps("first-party-uid"),Ps.MOCK_USER=new Ps("mock-user");let hI="9.23.0";const Ng=new Yr.Yd("@firebase/firestore");function Uk(){return Ng.logLevel}function nt(n,...e){if(Ng.logLevel<=Yr.in.DEBUG){const t=e.map(jk);Ng.debug(`Firestore (${hI}): ${n}`,...t)}}function xi(n,...e){if(Ng.logLevel<=Yr.in.ERROR){const t=e.map(jk);Ng.error(`Firestore (${hI}): ${n}`,...t)}}function ll(n,...e){if(Ng.logLevel<=Yr.in.WARN){const t=e.map(jk);Ng.warn(`Firestore (${hI}): ${n}`,...t)}}function jk(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ot(n="Unexpected state"){const e=`FIRESTORE (${hI}) INTERNAL ASSERTION FAILED: `+n;throw xi(e),new Error(e)}function qt(n,e){n||Ot()}function wt(n,e){return n}const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qe extends Ju.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ms{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class M4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ps.UNAUTHENTICATED))}shutdown(){}}class PH{constructor(e){this.t=e,this.currentUser=Ps.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let u=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ms,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const E=u;e.enqueueRetryable((0,Ye.Z)(function*(){yield E.promise,yield s(r.currentUser)}))},g=E=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(E=>g(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?g(E):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ms)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt("string"==typeof r.accessToken),new M4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qt(null===e||"string"==typeof e),new Ps(e)}}class NH{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Ps.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class OH{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new NH(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ps.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kH{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.T;return this.T=s.token,nt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qt("string"==typeof t.token),this.T=t.token,new R4(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function FH(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class P4{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=FH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function fn(n,e){return n<e?-1:n>e?1:0}function fI(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class ti{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Qe(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Qe(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Qe(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qe(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ti.fromMillis(Date.now())}static fromDate(e){return ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ti(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fn(this.nanoseconds,e.nanoseconds):fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wt(e)}static min(){return new Wt(new ti(0,0))}static max(){return new Wt(new ti(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class pA{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ot(),void 0===r?r=e.length-t:r>e.length-t&&Ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===pA.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pA?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),u=t.get(i);if(s<u)return-1;if(s>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Wn extends pA{construct(e,t,r){return new Wn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Qe(Ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Wn(t)}static emptyPath(){return new Wn([])}}const VH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mi extends pA{construct(e,t,r){return new Mi(e,t,r)}static isValidIdentifier(e){return VH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new Qe(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const d=e[i];if("\\"===d){if(i+1===e.length)throw new Qe(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[i+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Qe(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,i+=2}else"`"===d?(u=!u,i++):"."!==d||u?(r+=d,i++):(s(),i++)}if(s(),u)throw new Qe(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mi(t)}static emptyPath(){return new Mi([])}}class It{constructor(e){this.path=e}static fromPath(e){return new It(Wn.fromString(e))}static fromName(e){return new It(Wn.fromString(e).popFirst(5))}static empty(){return new It(Wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new It(new Wn(e.slice()))}}function k4(n){return new vu(n.readTime,n.key,-1)}class vu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new vu(Wt.min(),It.empty(),-1)}static max(){return new vu(Wt.max(),It.empty(),-1)}}function zk(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=It.comparator(n.documentKey,e.documentKey),0!==t?t:fn(n.largestBatchId,e.largestBatchId))}const F4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Og(n){return Gk.apply(this,arguments)}function Gk(){return Gk=(0,Ye.Z)(function*(n){if(n.code!==Ce.FAILED_PRECONDITION||n.message!==F4)throw n;nt("LocalStore","Unexpectedly lost primary lease")}),Gk.apply(this,arguments)}class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.reject(t)}static resolve(e){return new ye((t,r)=>{t(e)})}static reject(e){return new ye((t,r)=>{r(e)})}static waitFor(e){return new ye((t,r)=>{let i=0,s=0,u=!1;e.forEach(d=>{++i,d.next(()=>{++s,u&&s===i&&t()},g=>r(g))}),u=!0,s===i&&t()})}static or(e){let t=ye.resolve(!1);for(const r of e)t=t.next(i=>i?ye.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ye((r,i)=>{const s=e.length,u=new Array(s);let d=0;for(let g=0;g<s;g++){const E=g;t(e[E]).next(b=>{u[E]=b,++d,d===s&&r(u)},b=>i(b))}})}static doWhile(e,t){return new ye((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function kg(n){return"IndexedDbTransactionError"===n.name}let Eu=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function _A(n){return null==n}function yA(n){return 0===n&&1/n==-1/0}function H4(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fg(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function q4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Mr{constructor(e,t){this.comparator=e,this.root=t||Ys.EMPTY}insert(e,t){return new Mr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ys.BLACK,null,null))}remove(e){return new Mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ys.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new U1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new U1(this.root,e,this.comparator,!1)}getReverseIterator(){return new U1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new U1(this.root,e,this.comparator,!0)}}class U1{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ys{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Ys.RED,this.left=i??Ys.EMPTY,this.right=s??Ys.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Ys(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ys.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ys.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ys.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ys.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ot();const e=this.left.check();if(e!==this.right.check())throw Ot();return e+(this.isRed()?0:1)}}Ys.EMPTY=null,Ys.RED=!0,Ys.BLACK=!1,Ys.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot()}get value(){throw Ot()}get color(){throw Ot()}get left(){throw Ot()}get right(){throw Ot()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ys(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vr{constructor(e){this.comparator=e,this.data=new Mr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new W4(this.data.getIterator())}getIteratorFrom(e){return new W4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Vr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vr(this.comparator);return t.data=e,t}}class W4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ra{constructor(e){this.fields=e,e.sort(Mi.comparator)}static empty(){return new Ra([])}unionWith(e){let t=new Vr(Mi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ra(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fI(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class K4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _s{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new K4("Invalid base64 string: "+i):i}}(e);return new _s(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new _s(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_s.EMPTY_BYTE_STRING=new _s("");const c5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vg(n){if(qt(!!n),"string"==typeof n){let e=0;const t=c5.exec(n);if(qt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gi(n.seconds),nanos:gi(n.nanos)}}function gi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function If(n){return"string"==typeof n?_s.fromBase64String(n):_s.fromUint8Array(n)}function j1(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function $1(n){const e=n.mapValue.fields.__previous_value__;return j1(e)?$1(e):e}function vA(n){const e=Vg(n.mapValue.fields.__local_write_time__.timestampValue);return new ti(e.seconds,e.nanos)}class l5{constructor(e,t,r,i,s,u,d,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=E}}class By{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new By("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof By&&e.projectId===this.projectId&&e.database===this.database}}const Lg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bg(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?j1(n)?4:J4(n)?9007199254740991:10:Ot()}function kd(n,e){if(n===e)return!0;const t=Bg(n);if(t!==Bg(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vA(n).isEqual(vA(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Vg(r.timestampValue),u=Vg(i.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,If(n.bytesValue).isEqual(If(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return gi(r.geoPointValue.latitude)===gi(i.geoPointValue.latitude)&&gi(r.geoPointValue.longitude)===gi(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return gi(r.integerValue)===gi(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=gi(r.doubleValue),u=gi(i.doubleValue);return s===u?yA(s)===yA(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return fI(n.arrayValue.values||[],e.arrayValue.values||[],kd);case 10:return function(r,i){const s=r.mapValue.fields||{},u=i.mapValue.fields||{};if(H4(s)!==H4(u))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===u[d]||!kd(s[d],u[d])))return!1;return!0}(n,e);default:return Ot()}var i}function EA(n,e){return void 0!==(n.values||[]).find(t=>kd(t,e))}function Ug(n,e){if(n===e)return 0;const t=Bg(n),r=Bg(e);if(t!==r)return fn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return fn(n.booleanValue,e.booleanValue);case 2:return function(i,s){const u=gi(i.integerValue||i.doubleValue),d=gi(s.integerValue||s.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return Z4(n.timestampValue,e.timestampValue);case 4:return Z4(vA(n),vA(e));case 5:return fn(n.stringValue,e.stringValue);case 6:return function(i,s){const u=If(i),d=If(s);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const u=i.split("/"),d=s.split("/");for(let g=0;g<u.length&&g<d.length;g++){const E=fn(u[g],d[g]);if(0!==E)return E}return fn(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const u=fn(gi(i.latitude),gi(s.latitude));return 0!==u?u:fn(gi(i.longitude),gi(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const u=i.values||[],d=s.values||[];for(let g=0;g<u.length&&g<d.length;++g){const E=Ug(u[g],d[g]);if(E)return E}return fn(u.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Lg.mapValue&&s===Lg.mapValue)return 0;if(i===Lg.mapValue)return 1;if(s===Lg.mapValue)return-1;const u=i.fields||{},d=Object.keys(u),g=s.fields||{},E=Object.keys(g);d.sort(),E.sort();for(let b=0;b<d.length&&b<E.length;++b){const x=fn(d[b],E[b]);if(0!==x)return x;const N=Ug(u[d[b]],g[E[b]]);if(0!==N)return N}return fn(d.length,E.length)}(n.mapValue,e.mapValue);default:throw Ot()}}function Z4(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return fn(n,e);const t=Vg(n),r=Vg(e),i=fn(t.seconds,r.seconds);return 0!==i?i:fn(t.nanos,r.nanos)}function gI(n){return Wk(n)}function Wk(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Vg(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?If(n.bytesValue).toBase64():"referenceValue"in n?It.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const u of r.values||[])s?s=!1:i+=",",i+=Wk(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",u=!0;for(const d of i)u?u=!1:s+=",",s+=`${d}:${Wk(r.fields[d])}`;return s+"}"}(n.mapValue):Ot();var e}function Kk(n){return!!n&&"integerValue"in n}function IA(n){return!!n&&"arrayValue"in n}function H1(n){return!!n&&"mapValue"in n}function wA(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Fg(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=wA(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wA(n.arrayValue.values[t]);return e}return Object.assign({},n)}function J4(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Js{constructor(e){this.value=e}static empty(){return new Js({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!H1(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wA(t)}setAll(e){let t=Mi.emptyPath(),r={},i=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const g=this.getFieldsMap(t);this.applyChanges(g,r,i),r={},i=[],t=d.popLast()}u?r[d.lastSegment()]=wA(u):i.push(d.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());H1(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];H1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Fg(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Js(wA(this.value))}}function tj(n){const e=[];return Fg(n.fields,(t,r)=>{const i=new Mi([t]);if(H1(r)){const s=tj(r.mapValue).fields;if(0===s.length)e.push(i);else for(const u of s)e.push(i.child(u))}else e.push(i)}),new Ra(e)}class Lr{constructor(e,t,r,i,s,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Lr(e,0,Wt.min(),Wt.min(),Wt.min(),Js.empty(),0)}static newFoundDocument(e,t,r,i){return new Lr(e,1,t,Wt.min(),r,i,0)}static newNoDocument(e,t){return new Lr(e,2,t,Wt.min(),Wt.min(),Js.empty(),0)}static newUnknownDocument(e,t){return new Lr(e,3,t,Wt.min(),Wt.min(),Js.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Js.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Js.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Lr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jg{constructor(e,t){this.position=e,this.inclusive=t}}function nj(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],u=n.position[i];if(r=s.field.isKeyField()?It.comparator(It.fromName(u.referenceValue),t.key):Ug(u,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function rj(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!kd(n.position[t],e.position[t]))return!1;return!0}class mI{constructor(e,t="asc"){this.field=e,this.dir=t}}function f5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class ij{}class Ln extends ij{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new p5(e,t,r):"array-contains"===t?new _5(e,r):"in"===t?new lj(e,r):"not-in"===t?new y5(e,r):"array-contains-any"===t?new v5(e,r):new Ln(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new g5(e,r):new m5(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ug(t,this.value)):null!==t&&Bg(this.value)===Bg(t)&&this.matchesComparison(Ug(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class lr extends ij{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new lr(e,t)}matches(e){return _I(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function _I(n){return"and"===n.op}function Qk(n){return function sj(n){for(const e of n.filters)if(e instanceof lr)return!1;return!0}(n)&&_I(n)}function Yk(n){if(n instanceof Ln)return n.field.canonicalString()+n.op.toString()+gI(n.value);if(Qk(n))return n.filters.map(e=>Yk(e)).join(",");{const e=n.filters.map(t=>Yk(t)).join(",");return`${n.op}(${e})`}}function oj(n,e){return n instanceof Ln?(t=n,(r=e)instanceof Ln&&t.op===r.op&&t.field.isEqual(r.field)&&kd(t.value,r.value)):n instanceof lr?function(t,r){return r instanceof lr&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,u)=>i&&oj(s,r.filters[u]),!0)}(n,e):void Ot();var t,r}function uj(n){return n instanceof Ln?`${(e=n).field.canonicalString()} ${e.op} ${gI(e.value)}`:n instanceof lr?function(e){return e.op.toString()+" {"+e.getFilters().map(uj).join(" ,")+"}"}(n):"Filter";var e}class p5 extends Ln{constructor(e,t,r){super(e,t,r),this.key=It.fromName(r.referenceValue)}matches(e){const t=It.comparator(e.key,this.key);return this.matchesComparison(t)}}class g5 extends Ln{constructor(e,t){super(e,"in",t),this.keys=cj(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class m5 extends Ln{constructor(e,t){super(e,"not-in",t),this.keys=cj(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cj(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>It.fromName(r.referenceValue))}class _5 extends Ln{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return IA(t)&&EA(t.arrayValue,this.value)}}class lj extends Ln{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&EA(this.value.arrayValue,t)}}class y5 extends Ln{constructor(e,t){super(e,"not-in",t)}matches(e){if(EA(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!EA(this.value.arrayValue,t)}}class v5 extends Ln{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!IA(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>EA(this.value.arrayValue,r))}}class E5{constructor(e,t=null,r=[],i=[],s=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=u,this.endAt=d,this.dt=null}}function Jk(n,e=null,t=[],r=[],i=null,s=null,u=null){return new E5(n,e,t,r,i,s,u)}function jy(n){const e=wt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Yk(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),_A(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>gI(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>gI(r)).join(",")),e.dt=t}return e.dt}function bA(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!f5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!oj(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rj(n.startAt,e.startAt)&&rj(n.endAt,e.endAt)}class wf{constructor(e,t=null,r=[],i=[],s=null,u="F",d=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=u,this.startAt=d,this.endAt=g,this.wt=null,this._t=null}}function pj(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function $y(n){const e=wt(n);if(null===e.wt){e.wt=[];const t=function K1(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function Xk(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new mI(t)),e.wt.push(new mI(Mi.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new mI(Mi.keyField(),s))}}}return e.wt}function Yo(n){const e=wt(n);if(!e._t)if("F"===e.limitType)e._t=Jk(e.path,e.collectionGroup,$y(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of $y(e))t.push(new mI(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new jg(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new jg(e.startAt.position,e.startAt.inclusive):null;e._t=Jk(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Z1(n,e,t){return new wf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function TA(n,e){return bA(Yo(n),Yo(e))&&n.limitType===e.limitType}function gj(n){return`${jy(Yo(n))}|lt:${n.limitType}`}function n2(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>uj(r)).join(", ")}]`),_A(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>gI(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>gI(r)).join(",")),`Target(${t})`}(Yo(n))}; limitType=${n.limitType})`}function AA(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):It.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of $y(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,u){const d=nj(i,s,u);return i.inclusive?d<=0:d<0}(t.startAt,$y(t),r)||t.endAt&&!function(i,s,u){const d=nj(i,s,u);return i.inclusive?d>=0:d>0}(t.endAt,$y(t),r)));var t,r}function I5(n,e,t){const r=n.field.isKeyField()?It.comparator(e.key,t.key):function(i,s,u){const d=s.data.field(i),g=u.data.field(i);return null!==d&&null!==g?Ug(d,g):Ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ot()}}class bf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fg(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return q4(this.inner)}size(){return this.innerSize}}const w5=new Mr(It.comparator);function Pa(){return w5}const yj=new Mr(It.comparator);function CA(...n){let e=yj;for(const t of n)e=e.insert(t.key,t);return e}function vj(n){let e=yj;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fd(){return DA()}function Ej(){return DA()}function DA(){return new bf(n=>n.toString(),(n,e)=>n.isEqual(e))}const b5=new Mr(It.comparator),T5=new Vr(It.comparator);function In(...n){let e=T5;for(const t of n)e=e.add(t);return e}const A5=new Vr(fn);function Ij(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yA(e)?"-0":e}}function wj(n){return{integerValue:""+n}}function bj(n,e){return function L4(n){return"number"==typeof n&&Number.isInteger(n)&&!yA(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?wj(e):Ij(n,e)}class Q1{constructor(){this._=void 0}}function C5(n,e,t){return n instanceof vI?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&j1(i)&&(i=$1(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof zy?Aj(n,e):n instanceof Gy?Cj(n,e):function(r,i){const s=Tj(r,i),u=Dj(s)+Dj(r.gt);return Kk(s)&&Kk(r.gt)?wj(u):Ij(r.serializer,u)}(n,e)}function D5(n,e,t){return n instanceof zy?Aj(n,e):n instanceof Gy?Cj(n,e):t}function Tj(n,e){return n instanceof EI?Kk(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class vI extends Q1{}class zy extends Q1{constructor(e){super(),this.elements=e}}function Aj(n,e){const t=Sj(e);for(const r of n.elements)t.some(i=>kd(i,r))||t.push(r);return{arrayValue:{values:t}}}class Gy extends Q1{constructor(e){super(),this.elements=e}}function Cj(n,e){let t=Sj(e);for(const r of n.elements)t=t.filter(i=>!kd(i,r));return{arrayValue:{values:t}}}class EI extends Q1{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Dj(n){return gi(n.integerValue||n.doubleValue)}function Sj(n){return IA(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class x5{constructor(e,t){this.version=e,this.transformResults=t}}class Zr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Y1(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class J1{}function xj(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new wI(n.key,Zr.none()):new II(n.key,n.data,Zr.none());{const t=n.data,r=Js.empty();let i=new Vr(Mi.comparator);for(let s of e.fields)if(!i.has(s)){let u=t.field(s);null===u&&s.length>1&&(s=s.popLast(),u=t.field(s)),null===u?r.delete(s):r.set(s,u),i=i.add(s)}return new Tf(n.key,r,new Ra(i.toArray()),Zr.none())}}function M5(n,e,t){n instanceof II?function(r,i,s){const u=r.value.clone(),d=Pj(r.fieldTransforms,i,s.transformResults);u.setAll(d),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Tf?function(r,i,s){if(!Y1(r.precondition,i))return void i.convertToUnknownDocument(s.version);const u=Pj(r.fieldTransforms,i,s.transformResults),d=i.data;d.setAll(Rj(r)),d.setAll(u),i.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function xA(n,e,t,r){return n instanceof II?function(i,s,u,d){if(!Y1(i.precondition,s))return u;const g=i.value.clone(),E=Nj(i.fieldTransforms,d,s);return g.setAll(E),s.convertToFoundDocument(s.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof Tf?function(i,s,u,d){if(!Y1(i.precondition,s))return u;const g=Nj(i.fieldTransforms,d,s),E=s.data;return E.setAll(Rj(i)),E.setAll(g),s.convertToFoundDocument(s.version,E).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(b=>b.field))}(n,e,t,r):(u=t,Y1(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u);var s,u}function R5(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=Tj(r.transform,i||null);null!=s&&(null===t&&(t=Js.empty()),t.set(r.field,s))}return t||null}function Mj(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&fI(t,r,(i,s)=>function S5(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof zy&&r instanceof zy||t instanceof Gy&&r instanceof Gy?fI(t.elements,r.elements,kd):t instanceof EI&&r instanceof EI?kd(t.gt,r.gt):t instanceof vI&&r instanceof vI);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class II extends J1{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Tf extends J1{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Rj(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Pj(n,e,t){const r=new Map;qt(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],u=s.transform,d=e.data.field(s.field);r.set(s.field,D5(u,d,t[i]))}return r}function Nj(n,e,t){const r=new Map;for(const i of n){const s=i.transform,u=t.data.field(i.field);r.set(i.field,C5(s,u,e))}return r}class wI extends J1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i2 extends J1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class s2{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&M5(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=xA(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=xA(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Ej();return this.mutations.forEach(i=>{const s=e.get(i.key),u=s.overlayedDocument;let d=this.applyToLocalView(u,s.mutatedFields);d=t.has(i.key)?null:d;const g=xj(u,d);null!==g&&r.set(i.key,g),u.isValidDocument()||u.convertToNoDocument(Wt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),In())}isEqual(e){return this.batchId===e.batchId&&fI(this.mutations,e.mutations,(t,r)=>Mj(t,r))&&fI(this.baseMutations,e.baseMutations,(t,r)=>Mj(t,r))}}class o2{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){qt(e.mutations.length===r.length);let i=b5;const s=e.mutations;for(let u=0;u<s.length;u++)i=i.insert(s[u].key,r[u].version);return new o2(e,t,r,i)}}class a2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}var Zi,Kn;(Kn=Zi||(Zi={}))[Kn.OK=0]="OK",Kn[Kn.CANCELLED=1]="CANCELLED",Kn[Kn.UNKNOWN=2]="UNKNOWN",Kn[Kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kn[Kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kn[Kn.NOT_FOUND=5]="NOT_FOUND",Kn[Kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kn[Kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kn[Kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kn[Kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kn[Kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kn[Kn.ABORTED=10]="ABORTED",Kn[Kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kn[Kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kn[Kn.INTERNAL=13]="INTERNAL",Kn[Kn.UNAVAILABLE=14]="UNAVAILABLE",Kn[Kn.DATA_LOSS=15]="DATA_LOSS",new xH([4294967295,4294967295],0);class B5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bI(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gj(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function U5(n,e){return bI(n,e.toTimestamp())}function Ri(n){return qt(!!n),Wt.fromTimestamp(function(e){const t=Vg(e);return new ti(t.seconds,t.nanos)}(n))}function d2(n,e){return(t=n,new Wn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function NA(n,e){return d2(n.databaseId,e.path)}function qj(n){const e=function Hj(n){const e=Wn.fromString(n);return qt(function e6(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}(e)),e}(n);return 4===e.length?Wn.emptyPath():function Wj(n){return qt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}(e)}function Kj(n,e,t){return{name:NA(n,e),fields:t.value.mapValue.fields}}function Yj(n){let e=qj(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){qt(1===r);const b=t.from[0];b.allDescendants?i=b.collectionId:e=e.child(b.collectionId)}let s=[];t.where&&(s=function(b){const x=Jj(b);return x instanceof lr&&Qk(x)?x.getFilters():[x]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(b=>{return new mI(TI((x=b).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let d=null;t.limit&&(d=function(b){let x;return x="object"==typeof b?b.value:b,_A(x)?null:x}(t.limit));let g=null;var b;t.startAt&&(g=new jg((b=t.startAt).values||[],!!b.before));let E=null;return t.endAt&&(E=function(b){return new jg(b.values||[],!b.before)}(t.endAt)),function fj(n,e,t,r,i,s,u,d){return new wf(n,e,t,r,i,s,u,d)}(e,i,u,s,d,"F",g,E)}function Jj(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=TI(e.unaryFilter.field);return Ln.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=TI(e.unaryFilter.field);return Ln.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=TI(e.unaryFilter.field);return Ln.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=TI(e.unaryFilter.field);return Ln.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ot()}}(n):void 0!==n.fieldFilter?Ln.create(TI((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ot()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return lr.create(e.compositeFilter.filters.map(t=>Jj(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ot()}}(e.compositeFilter.op))}(n):Ot();var e}function TI(n){return Mi.fromServerFormat(n.fieldPath)}function K5(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}class t6{constructor(e){this.fe=e}}function g2(n){const e=Yj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Z1(e,e.limit,"L"):e}class Ky{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(gi(e.integerValue));else if("doubleValue"in e){const r=gi(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),yA(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(If(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?J4(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Ot()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),It.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Ky.Ve=new Ky;class rq{constructor(){this.rn=new I2}addToCollectionParentIndex(e,t){return this.rn.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getIndexType(e,t){return ye.resolve(0)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,t){return ye.resolve(vu.min())}getMinOffsetFromCollectionGroup(e,t){return ye.resolve(vu.min())}updateCollectionGroup(e,t,r){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class I2{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Vr(Wn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vr(Wn.comparator)).toArray()}}new Uint8Array(0);class Ao{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ao(e,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ao.DEFAULT_COLLECTION_PERCENTILE=10,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ao.DEFAULT=new Ao(41943040,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ao.DISABLED=new Ao(-1,0,0);class Qy{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Qy(0)}static Mn(){return new Qy(-1)}}class cq{constructor(){this.changes=new bf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Lr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ye.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hq{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class D6{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&xA(r.mutation,i,Ra.empty(),ti.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,In()).next(()=>r))}getLocalViewOfDocuments(e,t,r=In()){const i=Fd();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let u=CA();return s.forEach((d,g)=>{u=u.insert(d,g.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Fd();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,In()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,i){let s=Pa();const u=DA(),d=DA();return t.forEach((g,E)=>{const b=r.get(E.key);i.has(E.key)&&(void 0===b||b.mutation instanceof Tf)?s=s.insert(E.key,E):void 0!==b?(u.set(E.key,b.mutation.getFieldMask()),xA(b.mutation,E,b.mutation.getFieldMask(),ti.now())):u.set(E.key,Ra.empty())}),this.recalculateAndSaveOverlays(e,s).next(g=>(g.forEach((E,b)=>u.set(E,b)),t.forEach((E,b)=>{var x;return d.set(E,new hq(b,null!==(x=u.get(E))&&void 0!==x?x:null))}),d))}recalculateAndSaveOverlays(e,t){const r=DA();let i=new Mr((u,d)=>u-d),s=In();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(g=>{const E=t.get(g);if(null===E)return;let b=r.get(g)||Ra.empty();b=d.applyToLocalView(E,b),r.set(g,b);const x=(i.get(d.batchId)||In()).add(g);i=i.insert(d.batchId,x)})}).next(()=>{const u=[],d=i.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),E=g.key,b=g.value,x=Ej();b.forEach(N=>{if(!s.has(N)){const L=xj(t.get(N),r.get(N));null!==L&&x.set(N,L),s=s.add(N)}}),u.push(this.documentOverlayCache.saveOverlays(e,E,x))}return ye.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return It.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function e2(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const u=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ye.resolve(Fd());let d=-1,g=s;return u.next(E=>ye.forEach(E,(b,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),s.get(b)?ye.resolve():this.remoteDocumentCache.getEntry(e,b).next(N=>{g=g.insert(b,N)}))).next(()=>this.populateOverlays(e,E,s)).next(()=>this.computeViews(e,g,E,In())).next(b=>({batchId:d,changes:vj(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new It(t)).next(r=>{let i=CA();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=CA();return this.indexManager.getCollectionParents(e,i).next(u=>ye.forEach(u,d=>{const g=(E=t,b=d.child(i),new wf(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,b;return this.getDocumentsMatchingCollectionQuery(e,g,r).next(E=>{E.forEach((b,x)=>{s=s.insert(b,x)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((d,g)=>{const E=g.getKey();null===s.get(E)&&(s=s.insert(E,Lr.newInvalidDocument(E)))});let u=CA();return s.forEach((d,g)=>{const E=i.get(d);void 0!==E&&xA(E.mutation,g,Ra.empty(),ti.now()),AA(t,g)&&(u=u.insert(d,g))}),u})}}class fq{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ye.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Ri(r.createTime)}),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:g2(r.bundledQuery),readTime:Ri(r.readTime)}),ye.resolve();var r}}class pq{constructor(){this.overlays=new Mr(It.comparator),this.ls=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fd();return ye.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),ye.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),ye.resolve()}getOverlaysForCollection(e,t,r){const i=Fd(),s=t.length+1,u=new It(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const g=d.getNext().value,E=g.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===s&&g.largestBatchId>r&&i.set(g.getKey(),g)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Mr((E,b)=>E-b);const u=this.overlays.getIterator();for(;u.hasNext();){const E=u.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let b=s.get(E.largestBatchId);null===b&&(b=Fd(),s=s.insert(E.largestBatchId,b)),b.set(E.getKey(),E)}}const d=Fd(),g=s.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((E,b)=>d.set(E,b)),!(d.size()>=i)););return ye.resolve(d)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new a2(t,r));let s=this.ls.get(t);void 0===s&&(s=In(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class w2{constructor(){this.fs=new Vr(Os.ds),this.ws=new Vr(Os._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Os(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Os(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new It(new Wn([])),r=new Os(t,e),i=new Os(t,e+1),s=[];return this.ws.forEachInRange([r,i],u=>{this.ys(u),s.push(u.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new It(new Wn([])),r=new Os(t,e),i=new Os(t,e+1);let s=In();return this.ws.forEachInRange([r,i],u=>{s=s.add(u.key)}),s}containsKey(e){const t=new Os(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Os{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return It.comparator(e.key,t.key)||fn(e.As,t.As)}static _s(e,t){return fn(e.As,t.As)||It.comparator(e.key,t.key)}}class gq{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Vr(Os.ds)}checkEmpty(e){return ye.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const u=new s2(s,t,r,i);this.mutationQueue.push(u);for(const d of i)this.Rs=this.Rs.add(new Os(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ye.resolve(u)}lookupMutationBatch(e,t){return ye.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return ye.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Os(t,0),i=new Os(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],u=>{const d=this.Ps(u.As);s.push(d)}),ye.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vr(fn);return t.forEach(i=>{const s=new Os(i,0),u=new Os(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,u],d=>{r=r.add(d.As)})}),ye.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;It.isDocumentKey(s)||(s=s.child(""));const u=new Os(new It(s),0);let d=new Vr(fn);return this.Rs.forEachWhile(g=>{const E=g.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(d=d.add(g.As)),!0)},u),ye.resolve(this.Vs(d))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){qt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ye.forEach(t.mutations,i=>{const s=new Os(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Os(t,0),i=this.Rs.firstAfterOrEqual(r);return ye.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ye.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class mq{constructor(e){this.Ds=e,this.docs=new Mr(It.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,u=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ye.resolve(r?r.document.mutableCopy():Lr.newInvalidDocument(t))}getEntries(e,t){let r=Pa();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Lr.newInvalidDocument(i))}),ye.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Pa();const u=t.path,d=new It(u.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:E,value:{document:b}}=g.getNext();if(!u.isPrefixOf(E.path))break;E.path.length>u.length+1||zk(k4(b),r)<=0||(i.has(b.key)||AA(t,b))&&(s=s.insert(b.key,b.mutableCopy()))}return ye.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ot()}Cs(e,t){return ye.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _q(this)}getSize(e){return ye.resolve(this.size)}}class _q extends cq{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),ye.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class yq{constructor(e){this.persistence=e,this.xs=new bf(t=>jy(t),bA),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new w2,this.targetCount=0,this.Ms=Qy.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ye.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Qy(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.Fn(t),ye.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((u,d)=>{d.sequenceNumber<=t&&null===r.get(d.targetId)&&(this.xs.delete(u),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)}),ye.waitFor(s).next(()=>i)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ye.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ye.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(u=>{s.push(i.markPotentiallyOrphaned(e,u))}),ye.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ye.resolve(r)}containsKey(e,t){return ye.resolve(this.ks.containsKey(t))}}class b2{constructor(e,t){this.$s={},this.overlays={},this.Os=new Eu(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new yq(this),this.indexManager=new rq,this.remoteDocumentCache=new mq(r=>this.referenceDelegate.Ls(r)),this.serializer=new t6(t),this.qs=new fq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pq,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new gq(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){nt("MemoryPersistence","Starting transaction:",e);const i=new vq(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return ye.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class vq extends UH{constructor(e){super(),this.currentSequenceNumber=e}}class cM{constructor(e){this.persistence=e,this.Qs=new w2,this.js=null}static zs(e){return new cM(e)}get Ws(){if(this.js)return this.js;throw Ot()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ye.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ye.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Ws,r=>{const i=It.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,Wt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ye.or([()=>ye.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class D2{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=In(),i=In();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new D2(e,t.fromCache,r,i)}}class x6{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(pj(t))return ye.resolve(null);let r=Yo(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Z1(t,null,"F"),r=Yo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const u=In(...s);return this.Ui.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(g=>{const E=this.ji(t,d);return this.zi(t,E,u,g.readTime)?this.Ki(e,Z1(t,null,"F")):this.Wi(e,E,t,g)}))})))}Gi(e,t,r,i){return pj(t)||i.isEqual(Wt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const u=this.ji(t,s);return this.zi(t,u,r,i)?this.Qi(e,t):(Uk()<=Yr.in.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),n2(t)),this.Wi(e,u,t,function O4(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Wt.fromTimestamp(1e9===r?new ti(t+1,0):new ti(t,r));return new vu(i,It.empty(),e)}(i,-1)))})}ji(e,t){let r=new Vr(function _j(n){return(e,t)=>{let r=!1;for(const i of $y(n)){const s=I5(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}(e));return t.forEach((i,s)=>{AA(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return Uk()<=Yr.in.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",n2(t)),this.Ui.getDocumentsMatchingQuery(e,t,vu.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(u=>{s=s.insert(u.key,u)}),s))}}class Iq{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Mr(fn),this.Yi=new bf(s=>jy(s),bA),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D6(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function R6(n,e){return S2.apply(this,arguments)}function S2(){return S2=(0,Ye.Z)(function*(n,e){const t=wt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const u=[],d=[];let g=In();for(const E of i){u.push(E.batchId);for(const b of E.mutations)g=g.add(b.key)}for(const E of s){d.push(E.batchId);for(const b of E.mutations)g=g.add(b.key)}return t.localDocuments.getDocuments(r,g).next(E=>({er:E,removedBatchIds:u,addedBatchIds:d}))})})}),S2.apply(this,arguments)}function Tq(n,e){const t=wt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class O2{constructor(){this.activeTargetIds=function r2(){return A5}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B6{constructor(){this.Hr=new O2,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new O2,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Dq{Yr(e){}shutdown(){}}class U6{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let gM=null;function F2(){return null===gM?gM=268435456+Math.round(2147483648*Math.random()):gM++,"0x"+gM.toString(16)}const Sq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xq{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Co="WebChannelConnection";class Mq extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const u=F2(),d=this.To(e,t);nt("RestConnection",`Sending RPC '${e}' ${u}:`,d,r);const g={};return this.Eo(g,i,s),this.Ao(e,d,g,r).then(E=>(nt("RestConnection",`Received RPC '${e}' ${u}: `,E),E),E=>{throw ll("RestConnection",`RPC '${e}' ${u} failed with error: `,E,"url: ",d,"request:",r),E})}vo(e,t,r,i,s,u){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+hI,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${Sq[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=F2();return new Promise((u,d)=>{const g=new SH;g.setWithCredentials(!0),g.listenOnce(AH.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Bk.NO_ERROR:const b=g.getResponseJson();nt(Co,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(b)),u(b);break;case Bk.TIMEOUT:nt(Co,`RPC '${e}' ${s} timed out`),d(new Qe(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case Bk.HTTP_ERROR:const x=g.getStatus();if(nt(Co,`RPC '${e}' ${s} failed with status:`,x,"response text:",g.getResponseText()),x>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const L=N?.error;if(L&&L.status&&L.message){const Y=function(se){const ae=se.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(ae)>=0?ae:Ce.UNKNOWN}(L.status);d(new Qe(Y,L.message))}else d(new Qe(Ce.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new Qe(Ce.UNAVAILABLE,"Connection failed."));break;default:Ot()}}finally{nt(Co,`RPC '${e}' ${s} completed.`)}});const E=JSON.stringify(i);nt(Co,`RPC '${e}' ${s} sending request:`,i),g.send(t,"POST",E,r,15)})}Ro(e,t,r){const i=F2(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=bH(),d=TH(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;void 0!==E&&(g.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(g.xmlHttpFactory=new DH({})),this.Eo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const b=s.join("");nt(Co,`Creating RPC '${e}' stream ${i}: ${b}`,g);const x=u.createWebChannel(b,g);let N=!1,L=!1;const Y=new xq({ro:ae=>{L?nt(Co,`Not sending because RPC '${e}' stream ${i} is closed:`,ae):(N||(nt(Co,`Opening RPC '${e}' stream ${i} transport.`),x.open(),N=!0),nt(Co,`RPC '${e}' stream ${i} sending:`,ae),x.send(ae))},oo:()=>x.close()}),se=(ae,He,rt)=>{ae.listen(He,Xe=>{try{rt(Xe)}catch(pt){setTimeout(()=>{throw pt},0)}})};return se(x,k1.EventType.OPEN,()=>{L||nt(Co,`RPC '${e}' stream ${i} transport opened.`)}),se(x,k1.EventType.CLOSE,()=>{L||(L=!0,nt(Co,`RPC '${e}' stream ${i} transport closed`),Y.wo())}),se(x,k1.EventType.ERROR,ae=>{L||(L=!0,ll(Co,`RPC '${e}' stream ${i} transport errored:`,ae),Y.wo(new Qe(Ce.UNAVAILABLE,"The operation could not be completed")))}),se(x,k1.EventType.MESSAGE,ae=>{var He;if(!L){const rt=ae.data[0];qt(!!rt);const pt=rt.error||(null===(He=rt[0])||void 0===He?void 0:He.error);if(pt){nt(Co,`RPC '${e}' stream ${i} received error:`,pt);const kt=pt.status;let Lt=function(ks){const HM=Zi[ks];if(void 0!==HM)return function kj(n){if(void 0===n)return xi("GRPC error has no .code"),Ce.UNKNOWN;switch(n){case Zi.OK:return Ce.OK;case Zi.CANCELLED:return Ce.CANCELLED;case Zi.UNKNOWN:return Ce.UNKNOWN;case Zi.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case Zi.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case Zi.INTERNAL:return Ce.INTERNAL;case Zi.UNAVAILABLE:return Ce.UNAVAILABLE;case Zi.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case Zi.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case Zi.NOT_FOUND:return Ce.NOT_FOUND;case Zi.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case Zi.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case Zi.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case Zi.ABORTED:return Ce.ABORTED;case Zi.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case Zi.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case Zi.DATA_LOSS:return Ce.DATA_LOSS;default:return Ot()}}(HM)}(kt),Qn=pt.message;void 0===Lt&&(Lt=Ce.INTERNAL,Qn="Unknown error status: "+kt+" with message "+pt.message),L=!0,Y.wo(new Qe(Lt,Qn)),x.close()}else nt(Co,`RPC '${e}' stream ${i} received:`,rt),Y._o(rt)}}),se(d,CH.STAT_EVENT,ae=>{ae.stat===S4.PROXY?nt(Co,`RPC '${e}' stream ${i} detected buffering proxy`):ae.stat===S4.NOPROXY&&nt(Co,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{Y.fo()},0),Y}}function mM(){return typeof document<"u"?document:null}function GA(n){return new B5(n,!0)}class V2{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&nt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Rq{constructor(e,t,r,i,s,u,d,g){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new V2(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ye.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ye.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Ye.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===Ce.RESOURCE_EXHAUSTED?(xi(t.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===Ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Qe(Ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,Ye.Z)(function*(){e.state=0,e.start()}))}tu(e){return nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nq extends Rq{constructor(e,t,r,i,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function z5(n,e){return n&&n.length>0?(qt(void 0!==e),n.map(t=>function(r,i){let s=Ri(r.updateTime?r.updateTime:i);return s.isEqual(Wt.min())&&(s=Ri(i)),new x5(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ri(e.commitTime);return this.listener.cu(r,t)}return qt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=function OA(n){return new Wn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function kA(n,e){let t;if(e instanceof II)t={update:Kj(n,e.key,e.value)};else if(e instanceof wI)t={delete:NA(n,e.key)};else if(e instanceof Tf)t={update:Kj(n,e.key,e.data),updateMask:K5(e.fieldMask)};else{if(!(e instanceof i2))return Ot();t={verify:NA(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const u=s.transform;if(u instanceof vI)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof zy)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Gy)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof EI)return{fieldPath:s.field.canonicalString(),increment:u.gt};throw Ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:U5(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Ot()),t;var i}(this.serializer,r))};this.Wo(t)}}class Oq extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Qe(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Qe(Ce.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.vo(e,t,r,s,u,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Qe(Ce.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Fq{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(xi(t),this.mu=!1):nt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Vq{constructor(e,t,r,i,s){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(d=>{r.enqueueAndForget((0,Ye.Z)(function*(){var g;qg(u)&&(nt("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,Ye.Z)(function*(E){const b=wt(E);b.vu.add(4),yield xI(b),b.bu.set("Unknown"),b.vu.delete(4),yield HA(b)}),function(E){return g.apply(this,arguments)})(u))}))}),this.bu=new Fq(r,i)}}function HA(n){return B2.apply(this,arguments)}function B2(){return B2=(0,Ye.Z)(function*(n){if(qg(n))for(const e of n.Ru)yield e(!0)}),B2.apply(this,arguments)}function xI(n){return U2.apply(this,arguments)}function U2(){return U2=(0,Ye.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),U2.apply(this,arguments)}function qg(n){return 0===wt(n).vu.size}function yM(n,e,t){return W2.apply(this,arguments)}function W2(){return W2=(0,Ye.Z)(function*(n,e,t){if(!kg(e))throw e;n.vu.add(1),yield xI(n),n.bu.set("Offline"),t||(t=()=>function P6(n){const e=wt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ye.Z)(function*(){nt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield HA(n)}))}),W2.apply(this,arguments)}function G6(n,e){return e().catch(t=>yM(n,t,e))}function MI(n){return K2.apply(this,arguments)}function K2(){return K2=(0,Ye.Z)(function*(n){const e=wt(n),t=Wg(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;jq(e);)try{const i=yield Tq(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,$q(e,i)}catch(i){yield yM(e,i)}H6(e)&&q6(e)}),K2.apply(this,arguments)}function jq(n){return qg(n)&&n.Eu.length<10}function $q(n,e){n.Eu.push(e);const t=Wg(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function H6(n){return qg(n)&&!Wg(n).Uo()&&n.Eu.length>0}function q6(n){Wg(n).start()}function zq(n){return Z2.apply(this,arguments)}function Z2(){return Z2=(0,Ye.Z)(function*(n){Wg(n).hu()}),Z2.apply(this,arguments)}function Gq(n){return Q2.apply(this,arguments)}function Q2(){return Q2=(0,Ye.Z)(function*(n){const e=Wg(n);for(const t of n.Eu)e.uu(t.mutations)}),Q2.apply(this,arguments)}function Hq(n,e,t){return Y2.apply(this,arguments)}function Y2(){return Y2=(0,Ye.Z)(function*(n,e,t){const r=n.Eu.shift(),i=o2.from(r,e,t);yield G6(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield MI(n)}),Y2.apply(this,arguments)}function qq(n,e){return J2.apply(this,arguments)}function J2(){return J2=(0,Ye.Z)(function*(n,e){var t;e&&Wg(n).ou&&(yield(t=(0,Ye.Z)(function*(r,i){if(function Oj(n){switch(n){default:return Ot();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0}}(s=i.code)&&s!==Ce.ABORTED){const u=r.Eu.shift();Wg(r).Qo(),yield G6(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield MI(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),H6(n)&&q6(n)}),J2.apply(this,arguments)}function W6(n,e){return X2.apply(this,arguments)}function X2(){return X2=(0,Ye.Z)(function*(n,e){const t=wt(n);t.asyncQueue.verifyOperationInProgress(),nt("RemoteStore","RemoteStore received new credentials");const r=qg(t);t.vu.add(3),yield xI(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield HA(t)}),X2.apply(this,arguments)}function tF(){return tF=(0,Ye.Z)(function*(n,e){const t=wt(n);e?(t.vu.delete(2),yield HA(t)):e||(t.vu.add(2),yield xI(t),t.bu.set("Unknown"))}),tF.apply(this,arguments)}function Wg(n){return n.Du||(n.Du=function(e,t,r){const i=wt(e);return i.fu(),new Nq(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:zq.bind(null,n),ao:qq.bind(null,n),au:Gq.bind(null,n),cu:Hq.bind(null,n)}),n.Ru.push(function(){var e=(0,Ye.Z)(function*(t){t?(n.Du.Qo(),yield MI(n)):(yield n.Du.stop(),n.Eu.length>0&&(nt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class nF{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,s){const u=Date.now()+r,d=new nF(e,t,u,i,s);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qe(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function PI(n,e){if(xi("AsyncQueue",`${e}: ${n}`),kg(n))return new Qe(Ce.UNAVAILABLE,`${e}: ${n}`);throw n}class Kq{constructor(){this.queries=new bf(e=>gj(e),TA),this.onlineState="Unknown",this.ku=new Set}}class t7{constructor(e,t,r,i,s,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new bf(d=>gj(d),TA),this._c=new Map,this.mc=new Set,this.gc=new Mr(It.comparator),this.yc=new Map,this.Ic=new w2,this.Tc={},this.Ec=new Map,this.Ac=Qy.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function fF(){return fF=(0,Ye.Z)(function*(n,e,t){const r=function NF(n){const e=wt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a7.bind(null,e),e}(n);try{const i=yield function(s,u){const d=wt(s),g=ti.now(),E=u.reduce((N,L)=>N.add(L.key),In());let b,x;return d.persistence.runTransaction("Locally write mutations","readwrite",N=>{let L=Pa(),Y=In();return d.Zi.getEntries(N,E).next(se=>{L=se,L.forEach((ae,He)=>{He.isValidDocument()||(Y=Y.add(ae))})}).next(()=>d.localDocuments.getOverlayedDocuments(N,L)).next(se=>{b=se;const ae=[];for(const He of u){const rt=R5(He,b.get(He.key).overlayedDocument);null!=rt&&ae.push(new Tf(He.key,rt,tj(rt.value.mapValue),Zr.exists(!0)))}return d.mutationQueue.addMutationBatch(N,g,ae,u)}).next(se=>{x=se;const ae=se.applyToLocalDocumentSet(b,Y);return d.documentOverlayCache.saveOverlays(N,se.batchId,ae)})}).then(()=>({batchId:x.batchId,changes:vj(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,u,d){let g=s.Tc[s.currentUser.toKey()];g||(g=new Mr(fn)),g=g.insert(u,d),s.Tc[s.currentUser.toKey()]=g}(r,i.batchId,t),yield Cf(r,i.changes),yield MI(r.remoteStore)}catch(i){const s=PI(i,"Failed to persist write");t.reject(s)}}),fF.apply(this,arguments)}function t3(n,e,t){const r=wt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,u)=>{const d=u.view.Mu(e);d.snapshot&&i.push(d.snapshot)}),function(s,u){const d=wt(s);d.onlineState=u;let g=!1;d.queries.forEach((E,b)=>{for(const x of b.listeners)x.Mu(u)&&(g=!0)}),g&&function aF(n){n.ku.forEach(e=>{e.next()})}(d)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function o7(n,e){return mF.apply(this,arguments)}function mF(){return mF=(0,Ye.Z)(function*(n,e){const t=wt(n),r=e.batch.batchId;try{const i=yield function wq(n,e){const t=wt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(u,d,g,E){const b=g.batch,x=b.keys();let N=ye.resolve();return x.forEach(L=>{N=N.next(()=>E.getEntry(d,L)).next(Y=>{const se=g.docVersions.get(L);qt(null!==se),Y.version.compareTo(se)<0&&(b.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),E.addEntry(Y)))})}),N.next(()=>u.mutationQueue.removeMutationBatch(d,b))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=In();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(d=d.add(u.batch.mutations[g].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);EF(t,r,null),vF(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Cf(t,i)}catch(i){yield Og(i)}}),mF.apply(this,arguments)}function a7(n,e,t){return _F.apply(this,arguments)}function _F(){return _F=(0,Ye.Z)(function*(n,e,t){const r=wt(n);try{const i=yield function(s,u){const d=wt(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return d.mutationQueue.lookupMutationBatch(g,u).next(b=>(qt(null!==b),E=b.keys(),d.mutationQueue.removeMutationBatch(g,b))).next(()=>d.mutationQueue.performConsistencyCheck(g)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(g,E,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>d.localDocuments.getDocuments(g,E))})}(r.localStore,e);EF(r,e,t),vF(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Cf(r,i)}catch(i){yield Og(i)}}),_F.apply(this,arguments)}function vF(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function EF(n,e,t){const r=wt(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Cf(n,e,t){return bF.apply(this,arguments)}function bF(){return bF=(0,Ye.Z)(function*(n,e,t){const r=wt(n),i=[],s=[],u=[];var d;r.wc.isEmpty()||(r.wc.forEach((d,g)=>{u.push(r.Rc(g,e,t).then(E=>{if((E||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(g.targetId,E?.fromCache?"not-current":"current"),E){i.push(E);const b=D2.Li(g.targetId,E);s.push(b)}}))}),yield Promise.all(u),r.dc.nu(i),yield(d=(0,Ye.Z)(function*(g,E){const b=wt(g);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ye.forEach(E,N=>ye.forEach(N.Fi,L=>b.persistence.referenceDelegate.addReference(x,N.targetId,L)).next(()=>ye.forEach(N.Bi,L=>b.persistence.referenceDelegate.removeReference(x,N.targetId,L)))))}catch(x){if(!kg(x))throw x;nt("LocalStore","Failed to update sequence numbers: "+x)}for(const x of E){const N=x.targetId;if(!x.fromCache){const L=b.Ji.get(N),se=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);b.Ji=b.Ji.insert(N,se)}}}),function(g,E){return d.apply(this,arguments)})(r.localStore,s))}),bF.apply(this,arguments)}function l7(n,e){return TF.apply(this,arguments)}function TF(){return TF=(0,Ye.Z)(function*(n,e){const t=wt(n);if(!t.currentUser.isEqual(e)){nt("SyncEngine","User change. New user:",e.toKey());const r=yield R6(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(u=>{u.forEach(d=>{d.reject(new Qe(Ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Cf(t,r.er)}var i}),TF.apply(this,arguments)}class vM{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ye.Z)(function*(){t.serializer=GA(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function M6(n,e,t,r){return new Iq(n,e,t,r)}(this.persistence,new x6,e.initialUser,this.serializer)}createPersistence(e){return new b2(cM.zs,this.serializer)}createSharedClientState(e){return new B6}terminate(){var e=this;return(0,Ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class FI{initialize(e,t){var r=this;return(0,Ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>t3(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=l7.bind(null,r.syncEngine),yield function eF(n,e){return tF.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Kq}createDatastore(e){const t=GA(e.databaseInfo.databaseId),r=new Mq(e.databaseInfo);return new Oq(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=d=>t3(this.syncEngine,d,0),u=U6.D()?new U6:new Dq,new Vq(t,r,i,s,u);var t,r,i,s,u}createSyncEngine(e,t){return function(r,i,s,u,d,g,E){const b=new t7(r,i,s,u,d,g);return E&&(b.vc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ye.Z)(function*(t){const r=wt(t);nt("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield xI(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class T7{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ps.UNAUTHENTICATED,this.clientId=P4.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,Ye.Z)(function*(d){nt("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(nt("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,Ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Qe(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ye.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=PI(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function IM(n,e){return OF.apply(this,arguments)}function OF(){return OF=(0,Ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),nt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ye.Z)(function*(s){r.isEqual(s)||(yield R6(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),OF.apply(this,arguments)}function kF(n,e){return FF.apply(this,arguments)}function FF(){return FF=(0,Ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function VF(n){return LF.apply(this,arguments)}(n);nt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>W6(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>W6(e.remoteStore,s)),n._onlineComponents=e}),FF.apply(this,arguments)}function LF(){return LF=(0,Ye.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){nt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield IM(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function u3(n){return"FirebaseError"===n.name?n.code===Ce.FAILED_PRECONDITION||n.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;ll("Error using user provided cache. Falling back to memory cache: "+t),yield IM(n,new vM)}}else nt("FirestoreClient","Using default OfflineComponentProvider"),yield IM(n,new vM);return n._offlineComponents}),LF.apply(this,arguments)}function BF(){return BF=(0,Ye.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(nt("FirestoreClient","Using user provided OnlineComponentProvider"),yield kF(n,n._uninitializedComponentsProvider._online)):(nt("FirestoreClient","Using default OnlineComponentProvider"),yield kF(n,new FI))),n._onlineComponents}),BF.apply(this,arguments)}function UF(n){return function wM(n){return BF.apply(this,arguments)}(n).then(e=>e.syncEngine)}function p3(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const g3=new Map;function $F(n,e,t){if(!t)throw new Qe(Ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function m3(n){if(!It.isDocumentKey(n))throw new Qe(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _3(n){if(It.isDocumentKey(n))throw new Qe(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function TM(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Ot()}function $n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Qe(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=TM(n);throw new Qe(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class v3{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Qe(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Qe(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function N7(n,e,t,r){if(!0===e&&!0===r)throw new Qe(Ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=p3(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Qe(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Qe(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Qe(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class WA{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Qe(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Qe(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v3(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new MH;switch(t.type){case"firstParty":return new OH(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Qe(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=g3.get(e);t&&(nt("ComponentProvider","Removing Datastore"),g3.delete(e),t.terminate())}(this),Promise.resolve()}}class Pi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ld(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pi(this.firestore,e,this._key)}}class Xs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class Ld extends Xs{constructor(e,t,r){super(e,t,function yI(n){return new wf(n)}(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pi(this.firestore,null,new It(e))}withConverter(e){return new Ld(this.firestore,e,this._path)}}function k7(n,e,...t){if(n=(0,Ju.m9)(n),$F("collection","path",e),n instanceof WA){const r=Wn.fromString(e,...t);return _3(r),new Ld(n,null,r)}{if(!(n instanceof Pi||n instanceof Ld))throw new Qe(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wn.fromString(e,...t));return _3(r),new Ld(n.firestore,null,r)}}function E3(n,e,...t){if(n=(0,Ju.m9)(n),1===arguments.length&&(e=P4.A()),$F("doc","path",e),n instanceof WA){const r=Wn.fromString(e,...t);return m3(r),new Pi(n,null,new It(r))}{if(!(n instanceof Pi||n instanceof Ld))throw new Qe(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wn.fromString(e,...t));return m3(r),new Pi(n.firestore,n instanceof Ld?n.converter:null,new It(r))}}class F7{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new V2(this,"async_queue_retry"),this.Xc=()=>{const t=mM();t&&nt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=mM();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=mM();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ms;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ye.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!kg(t))throw t;nt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,xi("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=nF.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&Ot()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ye.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Br extends WA{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new F7,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||w3(this),this._firestoreClient.terminate()}}function w3(n){var e,t,r;const i=n._freezeSettings(),s=(d=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new l5(n._databaseId,d,n._persistenceKey,(E=i).host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,p3(E.experimentalLongPollingOptions),E.useFetchStreams));var d,E;n._firestoreClient=new T7(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Jy{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jy(_s.fromBase64String(e))}catch(t){throw new Qe(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jy(_s.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class LI{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Qe(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class A3{constructor(e){this._methodName=e}}class GF{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Qe(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Qe(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fn(this._lat,e._lat)||fn(this._long,e._long)}}const B7=/^__.*__$/;class U7{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Tf(e,this.data,this.fieldMask,t,this.fieldTransforms):new II(e,this.data,t,this.fieldTransforms)}}function D3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot()}}class AM{constructor(e,t,r,i,s,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new AM(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return DM(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(D3(this.ca)&&B7.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class j7{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||GA(e)}ya(e,t,r,i=!1){return new AM({ca:e,methodName:t,ga:r,path:Mi.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BI(n){const e=n._freezeSettings(),t=GA(n._databaseId);return new j7(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HF(n,e,t,r,i,s={}){const u=n.ya(s.merge||s.mergeFields?2:0,e,t,i);WF("Data must be an object, but it was:",u,r);const d=P3(r,u);let g,E;if(s.merge)g=new Ra(u.fieldMask),E=u.fieldTransforms;else if(s.mergeFields){const b=[];for(const x of s.mergeFields){const N=QA(e,x,t);if(!u.contains(N))throw new Qe(Ce.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);O3(b,N)||b.push(N)}g=new Ra(b),E=u.fieldTransforms.filter(x=>g.covers(x.field))}else g=null,E=u.fieldTransforms;return new U7(new Js(d),g,E)}function Xy(n,e){if(N3(n=(0,Ju.m9)(n)))return WF("Unsupported field value:",e,n),P3(n,e);if(n instanceof A3)return function(t,r){if(!D3(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const u of t){let d=Xy(u,r.wa(s));null==d&&(d={nullValue:"NULL_VALUE"}),i.push(d),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Ju.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return bj(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=ti.fromDate(t);return{timestampValue:bI(r.serializer,i)}}if(t instanceof ti){const i=new ti(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:bI(r.serializer,i)}}if(t instanceof GF)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Jy)return{bytesValue:Gj(r.serializer,t._byteString)};if(t instanceof Pi){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:d2(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${TM(t)}`)}(n,e)}function P3(n,e){const t={};return q4(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fg(n,(r,i)=>{const s=Xy(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function N3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ti||n instanceof GF||n instanceof Jy||n instanceof Pi||n instanceof A3)}function WF(n,e,t){if(!N3(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=TM(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function QA(n,e,t){if((e=(0,Ju.m9)(e))instanceof LI)return e._internalPath;if("string"==typeof e)return function CM(n,e,t){if(e.search(H7)>=0)throw DM(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new LI(...e.split("."))._internalPath}catch{throw DM(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e);throw DM("Field path arguments must be of type string or ",n,!1,void 0,t)}const H7=new RegExp("[~\\*/\\[\\]]");function DM(n,e,t,r,i){const s=r&&!r.isEmpty(),u=void 0!==i;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(s||u)&&(g+=" (found",s&&(g+=` in field ${r}`),u&&(g+=` in document ${i}`),g+=")"),new Qe(Ce.INVALID_ARGUMENT,d+n+g)}function O3(n,e){return n.some(t=>t.isEqual(e))}function Y7(n){return XA($n(n.firestore,Br),[new wI(n._key,Zr.none())])}function J7(n,e){const t=$n(n.firestore,Br),r=E3(n),i=function ZF(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return XA(t,[HF(BI(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Zr.exists(!1))]).then(()=>r)}function XA(n,e){return function(t,r){const i=new ms;return t.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return function i7(n,e,t){return fF.apply(this,arguments)}(yield UF(t),r,i)})),i.promise}(function Qi(n){return n._firestoreClient||w3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}(n),e)}!function(n,e=!0){hI=cd.SDK_VERSION,(0,cd._registerComponent)(new Jm.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),u=new Br(new PH(t.getProvider("auth-internal")),new kH(t.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Qe(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new By(d.options.projectId,g)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,cd.registerVersion)(x4,"3.13.0",n),(0,cd.registerVersion)(x4,"3.13.0","esm2017")}();class OM{constructor(e){return e}}const pW=(0,Ir.u3)(I9,!0),gW=(0,Ir.u3)(J7,!0),G3=(0,Ir.u3)(k7,!0),mW=(0,Ir.u3)(Y7,!0),_W=(0,Ir.u3)(E3,!0);let JF=(()=>{class n{constructor(t){this.firestore=t}addPlace(t){const r=G3(this.firestore,"places");return gW(r,t)}getPlaces(){const t=G3(this.firestore,"places");return pW(t,{idField:"id"})}deletePlace(t){const r=_W(this.firestore,`places/${t.id}`);return mW(r)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(OM))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yW=(()=>{class n{constructor(t){this.placesService=t,this.latitude=40,this.longitude=-3,this.places=[]}ngOnInit(){this.placesService.getPlaces().subscribe(t=>{this.places=t})}}return n.\u0275fac=function(t){return new(t||n)(_.Y36(JF))},n.\u0275cmp=_.Xpm({type:n,selectors:[["app-place-map"]],decls:0,vars:0,template:function(t,r){},styles:["agm-map[_ngcontent-%COMP%]{height:100%}"]}),n})();const vW=function(n){return{backgroundImage:n}};function EW(n,e){if(1&n){const t=_.EpF();_.TgZ(0,"div",2),_._UZ(1,"div",3),_.TgZ(2,"div",4)(3,"h4"),_._uU(4),_.qZA(),_.TgZ(5,"p"),_._uU(6),_.qZA(),_.TgZ(7,"p"),_._uU(8),_.qZA(),_.TgZ(9,"button",5),_.NdJ("click",function(){const s=_.CHM(t).$implicit,u=_.oxw();return _.KtG(u.onClickDelete(s))}),_._uU(10,"Borrar"),_.qZA()()()}if(2&n){const t=e.$implicit;_.xp6(1),_.Q6J("ngStyle",_.VKq(5,vW,"url("+t.image+")")),_.xp6(3),_.Oqu(t.name),_.xp6(2),_.Oqu(t.description),_.xp6(2),_.AsE("Coordenadas: ",t.latitude," / ",t.longitude,"")}}let IW=(()=>{class n{constructor(t){this.placesService=t,this.places=[{name:"Prueba de sitio",description:"Esto es una prueba",latitude:40,longitude:-3,image:"https://media.timeout.com/images/105718969/750/422/image.jpg"}]}ngOnInit(){this.placesService.getPlaces().subscribe(t=>{this.places=t})}onClickDelete(t){var r=this;return(0,Ye.Z)(function*(){const i=yield r.placesService.deletePlace(t);console.log(i)})()}}return n.\u0275fac=function(t){return new(t||n)(_.Y36(JF))},n.\u0275cmp=_.Xpm({type:n,selectors:[["app-place-list"]],decls:2,vars:1,consts:[[1,"places"],["class","place",4,"ngFor","ngForOf"],[1,"place"],[1,"image",3,"ngStyle"],[1,"info"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,r){1&t&&(_.TgZ(0,"div",0),_.YNc(1,EW,11,7,"div",1),_.qZA()),2&t&&(_.xp6(1),_.Q6J("ngForOf",r.places))},dependencies:[es,Tu],styles:[".place[_ngcontent-%COMP%]{border:1px solid black;border-radius:20px;display:grid;grid-template-columns:1fr 3fr;overflow:hidden;margin-bottom:20px}.place[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{padding:10px 20px}.place[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{background-size:cover;background-position:center}"]}),n})();function n$(n){return null!=n}function r$(n){return(0,_.QGY)(n)?(0,pr.D)(n):n}function i$(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function s$(n,e){return e.map(t=>t(n))}function o$(n){return n.map(e=>function SW(n){return!n.validate}(e)?e:t=>e.validate(t))}function eV(n){return null!=n?function a$(n){if(!n)return null;const e=n.filter(n$);return 0==e.length?null:function(t){return i$(s$(t,e))}}(o$(n)):null}function tV(n){return null!=n?function u$(n){if(!n)return null;const e=n.filter(n$);return 0==e.length?null:function(t){return function wW(...n){const e=(0,da.jO)(n),{args:t,keys:r}=lh(n),i=new Bi.y(s=>{const{length:u}=t;if(!u)return void s.complete();const d=new Array(u);let g=u,E=u;for(let b=0;b<u;b++){let x=!1;(0,Wa.Xf)(t[b]).subscribe((0,Us.x)(s,N=>{x||(x=!0,E--),d[b]=N},()=>g--,void 0,()=>{(!g||!x)&&(E||s.next(r?ha(r,d):d),s.complete())}))}});return e?i.pipe(gm(e)):i}(s$(t,e).map(r$)).pipe((0,Cn.U)(i$))}}(o$(n)):null}function nV(n){return n?Array.isArray(n)?n:[n]:[]}function FM(n,e){return Array.isArray(n)?n.includes(e):n===e}function h$(n,e){const t=nV(e);return nV(n).forEach(i=>{FM(t,i)||t.push(i)}),t}function f$(n,e){return nV(e).filter(t=>!FM(n,t))}const eC="VALID",LM="INVALID",$I="PENDING",tC="DISABLED";function sV(n){return(BM(n)?n.validators:n)||null}function oV(n,e){return(BM(e)?e.asyncValidators:n)||null}function BM(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class v${constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===eC}get invalid(){return this.status===LM}get pending(){return this.status==$I}get disabled(){return this.status===tC}get enabled(){return this.status!==tC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(h$(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(h$(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(f$(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(f$(e,this._rawAsyncValidators))}hasValidator(e){return FM(this._rawValidators,e)}hasAsyncValidator(e){return FM(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=$I,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tC,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=eC,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===eC||this.status===$I)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tC:eC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=$I,this._hasOwnPendingAsyncValidator=!0;const t=r$(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?tC:this.errors?LM:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($I)?$I:this._anyControlsHaveStatus(LM)?LM:eC}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){BM(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function OW(n){return Array.isArray(n)?eV(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function kW(n){return Array.isArray(n)?tV(n):n||null}(this._rawAsyncValidators)}}class UM extends v${constructor(e,t,r){super(sV(t),oV(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function y$(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new _.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function _$(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new _.vHH(1e3,"");if(!r[t])throw new _.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function b$(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function T$(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const nv=class extends v${constructor(e=null,t,r){super(sV(t),oV(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),BM(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=T$(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){b$(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){b$(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){T$(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},I8=[{path:"",component:Jw},{path:"place-map",component:yW},{path:"place-list",component:IW},{path:"new-place",component:(()=>{class n{constructor(t){this.placesService=t,this.formulario=new UM({name:new nv,latitude:new nv,longitude:new nv,description:new nv,image:new nv})}ngOnInit(){}onSubmit(){var t=this;return(0,Ye.Z)(function*(){console.log(t.formulario.value);const r=yield t.placesService.addPlace(t.formulario.value);console.log(r)})()}}return n.\u0275fac=function(t){return new(t||n)(_.Y36(JF))},n.\u0275cmp=_.Xpm({type:n,selectors:[["app-new-place"]],decls:22,vars:0,consts:[[3,"FormGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","name",1,"form-control"],["cols","30","rows","10","formControlName","description",1,"form-control"],["type","text","formControlName","latitude",1,"form-control"],["type","text","formControlName","longitude",1,"form-control"],["type","text","formControlName","image",1,"form-control"],["type","submit","value","Enviar",1,"btn","btn-info"]],template:function(t,r){1&t&&(_.TgZ(0,"form",0),_.NdJ("FormGroup",function(){return r.formulario})("ngSubmit",function(){return r.onSubmit()}),_.TgZ(1,"div",1)(2,"label",2),_._uU(3,"Name"),_.qZA(),_._UZ(4,"input",3),_.qZA(),_.TgZ(5,"div",1)(6,"label",2),_._uU(7,"Description"),_.qZA(),_._UZ(8,"textarea",4),_.qZA(),_.TgZ(9,"div",1)(10,"label",2),_._uU(11,"Latitude"),_.qZA(),_._UZ(12,"input",5),_.qZA(),_.TgZ(13,"div",1)(14,"label",2),_._uU(15,"Longitude"),_.qZA(),_._UZ(16,"input",6),_.qZA(),_.TgZ(17,"div",1)(18,"label",2),_._uU(19,"Image"),_.qZA(),_._UZ(20,"input",7),_.qZA(),_._UZ(21,"input",8),_.qZA())}}),n})()},{path:"login",component:iD},{path:"sign-up",component:sD},{path:"dashboard",component:oD,canActivate:[(n,e)=>{const t=(0,_.f3M)(w_),r=(0,_.f3M)(Ts);return t.isLoggedIn||r.navigate(["login"]),!0}]}];let w8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({imports:[Gv.forRoot(I8),Gv]}),n})(),b8=(()=>{class n{constructor(){this.title="TripTrove"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=_.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&_._UZ(0,"router-outlet")},dependencies:[pp]}),n})();const W$_firebase={projectId:"triptroveangular",appId:"1:424821813680:web:8e62cec178c0ffc4972675",storageBucket:"triptroveangular.appspot.com",apiKey:"AIzaSyA9r2Hn3Qoc7EaCkG0q9LVIGj_N6UluTZ4",authDomain:"triptroveangular.firebaseapp.com",messagingSenderId:"424821813680",measurementId:"G-JB2EZRFDDX"};class vV{constructor(e){return e}}const EV=new _.OlP("angularfire2.auth-instances");function C8(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new vV(r)}}const D8={provide:class T8{constructor(){return(0,Ir.vb)("auth")}},deps:[[new _.FiY,EV]]},S8={provide:vV,useFactory:function A8(n,e){const t=(0,Ir.JM)("auth",n,e);return t&&new vV(t)},deps:[[new _.FiY,EV],wa]};let x8=(()=>{class n{constructor(){(0,di.KN)("angularfire",Ir.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({providers:[S8,D8]}),n})();function M8(n,...e){return{ngModule:x8,providers:[{provide:EV,useFactory:C8(n),multi:!0,deps:[_.R0b,_.zs3,Ir.HU,jh,[new _.FiY,w0],...e]}]}}const R8=(0,Ir.u3)(Uh.o,!0);let P8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n,bootstrap:[b8]}),n.\u0275inj=_.cJS({imports:[ih,w8,Yv(()=>vw(W$_firebase)),M8(()=>R8()),mo.hO.initializeApp(W$_firebase)]}),n})();lm().bootstrapModule(P8).catch(n=>console.error(n))},5619:(Bt,$e,j)=>{j.d($e,{X:()=>G});var _=j(8645);class G extends _.x{constructor(me){super(),this._value=me}get value(){return this.getValue()}_subscribe(me){const Pe=super._subscribe(me);return!Pe.closed&&me.next(this._value),Pe}getValue(){const{hasError:me,thrownError:Pe,_value:Ke}=this;if(me)throw Pe;return this._throwIfClosed(),Ke}next(me){super.next(this._value=me)}}},5592:(Bt,$e,j)=>{j.d($e,{y:()=>at});var _=j(1887),G=j(7394),X=j(4850),me=j(8407),Pe=j(2653),Ke=j(4674),et=j(1441);let at=(()=>{class Fe{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const ft=new Fe;return ft.source=this,ft.operator=Se,ft}subscribe(Se,ft,lt){const dt=function ie(Fe){return Fe&&Fe instanceof _.Lv||function De(Fe){return Fe&&(0,Ke.m)(Fe.next)&&(0,Ke.m)(Fe.error)&&(0,Ke.m)(Fe.complete)}(Fe)&&(0,G.Nn)(Fe)}(Se)?Se:new _.Hp(Se,ft,lt);return(0,et.x)(()=>{const{operator:Le,source:Ct}=this;dt.add(Le?Le.call(dt,Ct):Ct?this._subscribe(dt):this._trySubscribe(dt))}),dt}_trySubscribe(Se){try{return this._subscribe(Se)}catch(ft){Se.error(ft)}}forEach(Se,ft){return new(ft=Ge(ft))((lt,dt)=>{const Le=new _.Hp({next:Ct=>{try{Se(Ct)}catch(ze){dt(ze),Le.unsubscribe()}},error:dt,complete:lt});this.subscribe(Le)})}_subscribe(Se){var ft;return null===(ft=this.source)||void 0===ft?void 0:ft.subscribe(Se)}[X.L](){return this}pipe(...Se){return(0,me.U)(Se)(this)}toPromise(Se){return new(Se=Ge(Se))((ft,lt)=>{let dt;this.subscribe(Le=>dt=Le,Le=>lt(Le),()=>ft(dt))})}}return Fe.create=ht=>new Fe(ht),Fe})();function Ge(Fe){var ht;return null!==(ht=Fe??Pe.config.Promise)&&void 0!==ht?ht:Promise}},8645:(Bt,$e,j)=>{j.d($e,{x:()=>et});var _=j(5592),G=j(7394);const me=(0,j(2306).d)(Ge=>function(){Ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Pe=j(9039),Ke=j(1441);let et=(()=>{class Ge extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const Fe=new at(this,this);return Fe.operator=ie,Fe}_throwIfClosed(){if(this.closed)throw new me}next(ie){(0,Ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Fe of this.currentObservers)Fe.next(ie)}})}error(ie){(0,Ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:Fe}=this;for(;Fe.length;)Fe.shift().error(ie)}})}complete(){(0,Ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:Fe,isStopped:ht,observers:Se}=this;return Fe||ht?G.Lc:(this.currentObservers=null,Se.push(ie),new G.w0(()=>{this.currentObservers=null,(0,Pe.P)(Se,ie)}))}_checkFinalizedStatuses(ie){const{hasError:Fe,thrownError:ht,isStopped:Se}=this;Fe?ie.error(ht):Se&&ie.complete()}asObservable(){const ie=new _.y;return ie.source=this,ie}}return Ge.create=(De,ie)=>new at(De,ie),Ge})();class at extends et{constructor(De,ie){super(),this.destination=De,this.source=ie}next(De){var ie,Fe;null===(Fe=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===Fe||Fe.call(ie,De)}error(De){var ie,Fe;null===(Fe=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===Fe||Fe.call(ie,De)}complete(){var De,ie;null===(ie=null===(De=this.destination)||void 0===De?void 0:De.complete)||void 0===ie||ie.call(De)}_subscribe(De){var ie,Fe;return null!==(Fe=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(De))&&void 0!==Fe?Fe:G.Lc}}},1887:(Bt,$e,j)=>{j.d($e,{Hp:()=>lt,Lv:()=>Fe});var _=j(4674),G=j(7394),X=j(2653),me=j(3894);function Pe(){}const Ke=Ge("C",void 0,void 0);function Ge(Be,Re,ke){return{kind:Be,value:Re,error:ke}}var De=j(7599),ie=j(1441);class Fe extends G.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,G.Nn)(Re)&&Re.add(this)):this.destination=ze}static create(Re,ke,qe){return new lt(Re,ke,qe)}next(Re){this.isStopped?Ct(function at(Be){return Ge("N",Be,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?Ct(function et(Be){return Ge("E",void 0,Be)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?Ct(Ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ht=Function.prototype.bind;function Se(Be,Re){return ht.call(Be,Re)}class ft{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:ke}=this;if(ke.next)try{ke.next(Re)}catch(qe){dt(qe)}}error(Re){const{partialObserver:ke}=this;if(ke.error)try{ke.error(Re)}catch(qe){dt(qe)}else dt(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(ke){dt(ke)}}}class lt extends Fe{constructor(Re,ke,qe){let le;if(super(),(0,_.m)(Re)||!Re)le={next:Re??void 0,error:ke??void 0,complete:qe??void 0};else{let W;this&&X.config.useDeprecatedNextContext?(W=Object.create(Re),W.unsubscribe=()=>this.unsubscribe(),le={next:Re.next&&Se(Re.next,W),error:Re.error&&Se(Re.error,W),complete:Re.complete&&Se(Re.complete,W)}):le=Re}this.destination=new ft(le)}}function dt(Be){X.config.useDeprecatedSynchronousErrorHandling?(0,ie.O)(Be):(0,me.h)(Be)}function Ct(Be,Re){const{onStoppedNotification:ke}=X.config;ke&&De.z.setTimeout(()=>ke(Be,Re))}const ze={closed:!0,next:Pe,error:function Le(Be){throw Be},complete:Pe}},7394:(Bt,$e,j)=>{j.d($e,{Lc:()=>Ke,w0:()=>Pe,Nn:()=>et});var _=j(4674);const X=(0,j(2306).d)(Ge=>function(ie){Ge(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((Fe,ht)=>`${ht+1}) ${Fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var me=j(9039);class Pe{constructor(De){this.initialTeardown=De,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let De;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const Se of ie)Se.remove(this);else ie.remove(this);const{initialTeardown:Fe}=this;if((0,_.m)(Fe))try{Fe()}catch(Se){De=Se instanceof X?Se.errors:[Se]}const{_finalizers:ht}=this;if(ht){this._finalizers=null;for(const Se of ht)try{at(Se)}catch(ft){De=De??[],ft instanceof X?De=[...De,...ft.errors]:De.push(ft)}}if(De)throw new X(De)}}add(De){var ie;if(De&&De!==this)if(this.closed)at(De);else{if(De instanceof Pe){if(De.closed||De._hasParent(this))return;De._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(De)}}_hasParent(De){const{_parentage:ie}=this;return ie===De||Array.isArray(ie)&&ie.includes(De)}_addParent(De){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(De),ie):ie?[ie,De]:De}_removeParent(De){const{_parentage:ie}=this;ie===De?this._parentage=null:Array.isArray(ie)&&(0,me.P)(ie,De)}remove(De){const{_finalizers:ie}=this;ie&&(0,me.P)(ie,De),De instanceof Pe&&De._removeParent(this)}}Pe.EMPTY=(()=>{const Ge=new Pe;return Ge.closed=!0,Ge})();const Ke=Pe.EMPTY;function et(Ge){return Ge instanceof Pe||Ge&&"closed"in Ge&&(0,_.m)(Ge.remove)&&(0,_.m)(Ge.add)&&(0,_.m)(Ge.unsubscribe)}function at(Ge){(0,_.m)(Ge)?Ge():Ge.unsubscribe()}},2653:(Bt,$e,j)=>{j.d($e,{config:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Bt,$e,j)=>{j.d($e,{E:()=>G});const G=new(j(5592).y)(Pe=>Pe.complete())},2459:(Bt,$e,j)=>{j.d($e,{D:()=>Re});var _=j(4829),G=j(3093),X=j(5137),Ke=j(5592),at=j(4971),Ge=j(4674),De=j(7103);function Fe(ke,qe){if(!ke)throw new Error("Iterable cannot be null");return new Ke.y(le=>{(0,De.f)(le,qe,()=>{const W=ke[Symbol.asyncIterator]();(0,De.f)(le,qe,()=>{W.next().then(ce=>{ce.done?le.complete():le.next(ce.value)})},0,!0)})})}var ht=j(8382),Se=j(4026),ft=j(4266),lt=j(3664),dt=j(5726),Le=j(9853),Ct=j(541);function Re(ke,qe){return qe?function Be(ke,qe){if(null!=ke){if((0,ht.c)(ke))return function me(ke,qe){return(0,_.Xf)(ke).pipe((0,X.R)(qe),(0,G.Q)(qe))}(ke,qe);if((0,ft.z)(ke))return function et(ke,qe){return new Ke.y(le=>{let W=0;return qe.schedule(function(){W===ke.length?le.complete():(le.next(ke[W++]),le.closed||this.schedule())})})}(ke,qe);if((0,Se.t)(ke))return function Pe(ke,qe){return(0,_.Xf)(ke).pipe((0,X.R)(qe),(0,G.Q)(qe))}(ke,qe);if((0,dt.D)(ke))return Fe(ke,qe);if((0,lt.T)(ke))return function ie(ke,qe){return new Ke.y(le=>{let W;return(0,De.f)(le,qe,()=>{W=ke[at.h](),(0,De.f)(le,qe,()=>{let ce,ve;try{({value:ce,done:ve}=W.next())}catch(rn){return void le.error(rn)}ve?le.complete():le.next(ce)},0,!0)}),()=>(0,Ge.m)(W?.return)&&W.return()})}(ke,qe);if((0,Ct.L)(ke))return function ze(ke,qe){return Fe((0,Ct.Q)(ke),qe)}(ke,qe)}throw(0,Le.z)(ke)}(ke,qe):(0,_.Xf)(ke)}},4829:(Bt,$e,j)=>{j.d($e,{Xf:()=>ht});var _=j(7582),G=j(4266),X=j(4026),me=j(5592),Pe=j(8382),Ke=j(5726),et=j(9853),at=j(3664),Ge=j(541),De=j(4674),ie=j(3894),Fe=j(4850);function ht(Be){if(Be instanceof me.y)return Be;if(null!=Be){if((0,Pe.c)(Be))return function Se(Be){return new me.y(Re=>{const ke=Be[Fe.L]();if((0,De.m)(ke.subscribe))return ke.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,G.z)(Be))return function ft(Be){return new me.y(Re=>{for(let ke=0;ke<Be.length&&!Re.closed;ke++)Re.next(Be[ke]);Re.complete()})}(Be);if((0,X.t)(Be))return function lt(Be){return new me.y(Re=>{Be.then(ke=>{Re.closed||(Re.next(ke),Re.complete())},ke=>Re.error(ke)).then(null,ie.h)})}(Be);if((0,Ke.D)(Be))return Le(Be);if((0,at.T)(Be))return function dt(Be){return new me.y(Re=>{for(const ke of Be)if(Re.next(ke),Re.closed)return;Re.complete()})}(Be);if((0,Ge.L)(Be))return function Ct(Be){return Le((0,Ge.Q)(Be))}(Be)}throw(0,et.z)(Be)}function Le(Be){return new me.y(Re=>{(function ze(Be,Re){var ke,qe,le,W;return(0,_.mG)(this,void 0,void 0,function*(){try{for(ke=(0,_.KL)(Be);!(qe=yield ke.next()).done;)if(Re.next(qe.value),Re.closed)return}catch(ce){le={error:ce}}finally{try{qe&&!qe.done&&(W=ke.return)&&(yield W.call(ke))}finally{if(le)throw le.error}}Re.complete()})})(Be,Re).catch(ke=>Re.error(ke))})}},3019:(Bt,$e,j)=>{j.d($e,{T:()=>Ke});var _=j(7537),G=j(4829),X=j(6232),me=j(4564),Pe=j(2459);function Ke(...et){const at=(0,me.yG)(et),Ge=(0,me._6)(et,1/0),De=et;return De.length?1===De.length?(0,G.Xf)(De[0]):(0,_.J)(Ge)((0,Pe.D)(De,at)):X.E}},2096:(Bt,$e,j)=>{j.d($e,{of:()=>X});var _=j(4564),G=j(2459);function X(...me){const Pe=(0,_.yG)(me);return(0,G.D)(me,Pe)}},8251:(Bt,$e,j)=>{j.d($e,{x:()=>G});var _=j(1887);function G(me,Pe,Ke,et,at){return new X(me,Pe,Ke,et,at)}class X extends _.Lv{constructor(Pe,Ke,et,at,Ge,De){super(Pe),this.onFinalize=Ge,this.shouldUnsubscribe=De,this._next=Ke?function(ie){try{Ke(ie)}catch(Fe){Pe.error(Fe)}}:super._next,this._error=at?function(ie){try{at(ie)}catch(Fe){Pe.error(Fe)}finally{this.unsubscribe()}}:super._error,this._complete=et?function(){try{et()}catch(ie){Pe.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ke}=this;super.unsubscribe(),!Ke&&(null===(Pe=this.onFinalize)||void 0===Pe||Pe.call(this))}}}},7398:(Bt,$e,j)=>{j.d($e,{U:()=>X});var _=j(9360),G=j(8251);function X(me,Pe){return(0,_.e)((Ke,et)=>{let at=0;Ke.subscribe((0,G.x)(et,Ge=>{et.next(me.call(Pe,Ge,at++))}))})}},7537:(Bt,$e,j)=>{j.d($e,{J:()=>X});var _=j(1631),G=j(2737);function X(me=1/0){return(0,_.z)(G.y,me)}},1631:(Bt,$e,j)=>{j.d($e,{z:()=>at});var _=j(7398),G=j(4829),X=j(9360),me=j(7103),Pe=j(8251),et=j(4674);function at(Ge,De,ie=1/0){return(0,et.m)(De)?at((Fe,ht)=>(0,_.U)((Se,ft)=>De(Fe,Se,ht,ft))((0,G.Xf)(Ge(Fe,ht))),ie):("number"==typeof De&&(ie=De),(0,X.e)((Fe,ht)=>function Ke(Ge,De,ie,Fe,ht,Se,ft,lt){const dt=[];let Le=0,Ct=0,ze=!1;const Be=()=>{ze&&!dt.length&&!Le&&De.complete()},Re=qe=>Le<Fe?ke(qe):dt.push(qe),ke=qe=>{Se&&De.next(qe),Le++;let le=!1;(0,G.Xf)(ie(qe,Ct++)).subscribe((0,Pe.x)(De,W=>{ht?.(W),Se?Re(W):De.next(W)},()=>{le=!0},void 0,()=>{if(le)try{for(Le--;dt.length&&Le<Fe;){const W=dt.shift();ft?(0,me.f)(De,ft,()=>ke(W)):ke(W)}Be()}catch(W){De.error(W)}}))};return Ge.subscribe((0,Pe.x)(De,Re,()=>{ze=!0,Be()})),()=>{lt?.()}}(Fe,ht,Ge,ie)))}},3093:(Bt,$e,j)=>{j.d($e,{Q:()=>me});var _=j(7103),G=j(9360),X=j(8251);function me(Pe,Ke=0){return(0,G.e)((et,at)=>{et.subscribe((0,X.x)(at,Ge=>(0,_.f)(at,Pe,()=>at.next(Ge),Ke),()=>(0,_.f)(at,Pe,()=>at.complete(),Ke),Ge=>(0,_.f)(at,Pe,()=>at.error(Ge),Ke)))})}},3020:(Bt,$e,j)=>{j.d($e,{B:()=>Pe});var _=j(4829),G=j(8645),X=j(1887),me=j(9360);function Pe(et={}){const{connector:at=(()=>new G.x),resetOnError:Ge=!0,resetOnComplete:De=!0,resetOnRefCountZero:ie=!0}=et;return Fe=>{let ht,Se,ft,lt=0,dt=!1,Le=!1;const Ct=()=>{Se?.unsubscribe(),Se=void 0},ze=()=>{Ct(),ht=ft=void 0,dt=Le=!1},Be=()=>{const Re=ht;ze(),Re?.unsubscribe()};return(0,me.e)((Re,ke)=>{lt++,!Le&&!dt&&Ct();const qe=ft=ft??at();ke.add(()=>{lt--,0===lt&&!Le&&!dt&&(Se=Ke(Be,ie))}),qe.subscribe(ke),!ht&&lt>0&&(ht=new X.Hp({next:le=>qe.next(le),error:le=>{Le=!0,Ct(),Se=Ke(ze,Ge,le),qe.error(le)},complete:()=>{dt=!0,Ct(),Se=Ke(ze,De),qe.complete()}}),(0,_.Xf)(Re).subscribe(ht))})(Fe)}}function Ke(et,at,...Ge){if(!0===at)return void et();if(!1===at)return;const De=new X.Hp({next:()=>{De.unsubscribe(),et()}});return(0,_.Xf)(at(...Ge)).subscribe(De)}},5137:(Bt,$e,j)=>{j.d($e,{R:()=>G});var _=j(9360);function G(X,me=0){return(0,_.e)((Pe,Ke)=>{Ke.add(X.schedule(()=>Pe.subscribe(Ke),me))})}},4664:(Bt,$e,j)=>{j.d($e,{w:()=>me});var _=j(4829),G=j(9360),X=j(8251);function me(Pe,Ke){return(0,G.e)((et,at)=>{let Ge=null,De=0,ie=!1;const Fe=()=>ie&&!Ge&&at.complete();et.subscribe((0,X.x)(at,ht=>{Ge?.unsubscribe();let Se=0;const ft=De++;(0,_.Xf)(Pe(ht,ft)).subscribe(Ge=(0,X.x)(at,lt=>at.next(Ke?Ke(ht,lt,ft,Se++):lt),()=>{Ge=null,Fe()}))},()=>{ie=!0,Fe()}))})}},9397:(Bt,$e,j)=>{j.d($e,{b:()=>Pe});var _=j(4674),G=j(9360),X=j(8251),me=j(2737);function Pe(Ke,et,at){const Ge=(0,_.m)(Ke)||et||at?{next:Ke,error:et,complete:at}:Ke;return Ge?(0,G.e)((De,ie)=>{var Fe;null===(Fe=Ge.subscribe)||void 0===Fe||Fe.call(Ge);let ht=!0;De.subscribe((0,X.x)(ie,Se=>{var ft;null===(ft=Ge.next)||void 0===ft||ft.call(Ge,Se),ie.next(Se)},()=>{var Se;ht=!1,null===(Se=Ge.complete)||void 0===Se||Se.call(Ge),ie.complete()},Se=>{var ft;ht=!1,null===(ft=Ge.error)||void 0===ft||ft.call(Ge,Se),ie.error(Se)},()=>{var Se,ft;ht&&(null===(Se=Ge.unsubscribe)||void 0===Se||Se.call(Ge)),null===(ft=Ge.finalize)||void 0===ft||ft.call(Ge)}))}):me.y}},4552:(Bt,$e,j)=>{j.d($e,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},7599:(Bt,$e,j)=>{j.d($e,{z:()=>_});const _={setTimeout(G,X,...me){const{delegate:Pe}=_;return Pe?.setTimeout?Pe.setTimeout(G,X,...me):setTimeout(G,X,...me)},clearTimeout(G){const{delegate:X}=_;return(X?.clearTimeout||clearTimeout)(G)},delegate:void 0}},4971:(Bt,$e,j)=>{j.d($e,{h:()=>G});const G=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Bt,$e,j)=>{j.d($e,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(Bt,$e,j)=>{j.d($e,{_6:()=>Ke,jO:()=>me,yG:()=>Pe});var _=j(4674);function X(et){return et[et.length-1]}function me(et){return(0,_.m)(X(et))?et.pop():void 0}function Pe(et){return function G(et){return et&&(0,_.m)(et.schedule)}(X(et))?et.pop():void 0}function Ke(et,at){return"number"==typeof X(et)?et.pop():at}},9039:(Bt,$e,j)=>{function _(G,X){if(G){const me=G.indexOf(X);0<=me&&G.splice(me,1)}}j.d($e,{P:()=>_})},2306:(Bt,$e,j)=>{function _(G){const me=G(Pe=>{Error.call(Pe),Pe.stack=(new Error).stack});return me.prototype=Object.create(Error.prototype),me.prototype.constructor=me,me}j.d($e,{d:()=>_})},1441:(Bt,$e,j)=>{j.d($e,{O:()=>me,x:()=>X});var _=j(2653);let G=null;function X(Pe){if(_.config.useDeprecatedSynchronousErrorHandling){const Ke=!G;if(Ke&&(G={errorThrown:!1,error:null}),Pe(),Ke){const{errorThrown:et,error:at}=G;if(G=null,et)throw at}}else Pe()}function me(Pe){_.config.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=Pe)}},7103:(Bt,$e,j)=>{function _(G,X,me,Pe=0,Ke=!1){const et=X.schedule(function(){me(),Ke?G.add(this.schedule(null,Pe)):this.unsubscribe()},Pe);if(G.add(et),!Ke)return et}j.d($e,{f:()=>_})},2737:(Bt,$e,j)=>{function _(G){return G}j.d($e,{y:()=>_})},4266:(Bt,$e,j)=>{j.d($e,{z:()=>_});const _=G=>G&&"number"==typeof G.length&&"function"!=typeof G},5726:(Bt,$e,j)=>{j.d($e,{D:()=>G});var _=j(4674);function G(X){return Symbol.asyncIterator&&(0,_.m)(X?.[Symbol.asyncIterator])}},4674:(Bt,$e,j)=>{function _(G){return"function"==typeof G}j.d($e,{m:()=>_})},8382:(Bt,$e,j)=>{j.d($e,{c:()=>X});var _=j(4850),G=j(4674);function X(me){return(0,G.m)(me[_.L])}},3664:(Bt,$e,j)=>{j.d($e,{T:()=>X});var _=j(4971),G=j(4674);function X(me){return(0,G.m)(me?.[_.h])}},4026:(Bt,$e,j)=>{j.d($e,{t:()=>G});var _=j(4674);function G(X){return(0,_.m)(X?.then)}},541:(Bt,$e,j)=>{j.d($e,{L:()=>me,Q:()=>X});var _=j(7582),G=j(4674);function X(Pe){return(0,_.FC)(this,arguments,function*(){const et=Pe.getReader();try{for(;;){const{value:at,done:Ge}=yield(0,_.qq)(et.read());if(Ge)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(at)}}finally{et.releaseLock()}})}function me(Pe){return(0,G.m)(Pe?.getReader)}},9360:(Bt,$e,j)=>{j.d($e,{A:()=>G,e:()=>X});var _=j(4674);function G(me){return(0,_.m)(me?.lift)}function X(me){return Pe=>{if(G(Pe))return Pe.lift(function(Ke){try{return me(Ke,this)}catch(et){this.error(et)}});throw new TypeError("Unable to lift unknown Observable type")}}},8407:(Bt,$e,j)=>{j.d($e,{U:()=>X,z:()=>G});var _=j(2737);function G(...me){return X(me)}function X(me){return 0===me.length?_.y:1===me.length?me[0]:function(Ke){return me.reduce((et,at)=>at(et),Ke)}}},3894:(Bt,$e,j)=>{j.d($e,{h:()=>X});var _=j(2653),G=j(7599);function X(me){G.z.setTimeout(()=>{const{onUnhandledError:Pe}=_.config;if(!Pe)throw me;Pe(me)})}},9853:(Bt,$e,j)=>{function _(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d($e,{z:()=>_})},8926:(Bt,$e,j)=>{j.d($e,{tb:()=>hT,AFp:()=>Uh,ip1:()=>iy,hGG:()=>TT,z2F:()=>hi,Ojb:()=>Pp,sBO:()=>hx,Sil:()=>ay,EJc:()=>YS,Xts:()=>Sp,SBq:()=>fd,lqb:()=>$c,qLn:()=>kp,vpe:()=>Sa,XFs:()=>Ft,OlP:()=>jn,zs3:()=>Wh,ZZ4:()=>wT,aQg:()=>_u,soG:()=>pu,YKP:()=>Vb,h0i:()=>Id,PXZ:()=>QP,R0b:()=>Ss,FiY:()=>Nc,Lbi:()=>Yr,g9A:()=>cd,Qsj:()=>e0,FYo:()=>pd,JOm:()=>go,tp0:()=>tp,Rgc:()=>fE,dDg:()=>ix,eoX:()=>AE,q4F:()=>gd,GfV:()=>u_,s_b:()=>ey,ifc:()=>it,VuI:()=>Cx,MMx:()=>Bb,Lck:()=>aE,eFA:()=>uy,Gpc:()=>Ct,f3M:()=>Te,X6Q:()=>dx,$WT:()=>Ro,_c5:()=>bT,qFp:()=>Sx,rg0:()=>Mu,c2e:()=>fu,zSh:()=>Vh,HDt:()=>Ad,wAp:()=>Zt,vHH:()=>le,lri:()=>bE,rWj:()=>TE,cg1:()=>Xp,kL8:()=>eg,dqk:()=>Rn,Z0I:()=>Oi,eJc:()=>uf,QGY:()=>CD,F4k:()=>$R,RDi:()=>lC,AaK:()=>lt,qOj:()=>qw,Xq5:()=>nD,TTD:()=>Dl,_Bn:()=>oE,jDz:()=>Q_,xp6:()=>ct,uIk:()=>Qw,ekj:()=>N0,Suo:()=>mE,Xpm:()=>bu,lG2:()=>ra,Yz7:()=>nn,cJS:()=>mi,oAB:()=>ml,Yjl:()=>ia,Y36:()=>h_,_UZ:()=>ID,qZA:()=>Yh,TgZ:()=>ib,EpF:()=>jR,n5z:()=>ws,LFG:()=>H,$8M:()=>ph,$Z:()=>nR,NdJ:()=>DD,CRH:()=>he,oxw:()=>qR,Q6J:()=>nb,VKq:()=>Hi,iGM:()=>FS,MAs:()=>vD,KtG:()=>Nu,Jf7:()=>Gc,CHM:()=>Vl,P3R:()=>zm,YNc:()=>kR,_uU:()=>V0,Oqu:()=>B0,AsE:()=>mb});var _=j(8645),G=j(7394),X=j(5619),me=j(5592),Pe=j(3019),Ke=j(2096),et=j(3020),at=j(4664),Ge=j(2737),De=j(9360),ie=j(8251);function ht(o,a){return o===a}function Se(o){for(let a in o)if(o[a]===Se)return a;throw Error("Could not find renamed property on target object.")}function ft(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function lt(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(lt).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function dt(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const Le=Se({__forward_ref__:Se});function Ct(o){return o.__forward_ref__=Ct,o.toString=function(){return lt(this())},o}function ze(o){return Be(o)?o():o}function Be(o){return"function"==typeof o&&o.hasOwnProperty(Le)&&o.__forward_ref__===Ct}function Re(o){return o&&!!o.\u0275providers}const qe="https://g.co/ng/security#xss";class le extends Error{constructor(a,c){super(function W(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,c)),this.code=a}}function ce(o){return"string"==typeof o?o:null==o?"":String(o)}function Zn(o,a){throw new le(-201,!1)}function tn(o,a){null==o&&function Dt(o,a,c,l){throw new Error(`ASSERTION ERROR: ${o}`+(null==l?"":` [Expected=> ${c} ${l} ${a} <=Actual]`))}(a,o,null,"!=")}function nn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function mi(o){return{providers:o.providers||[],imports:o.imports||[]}}function ys(o){return Xo(o,Mn)||Xo(o,Qt)}function Oi(o){return null!==ys(o)}function Xo(o,a){return o.hasOwnProperty(a)?o[a]:null}function eo(o){return o&&(o.hasOwnProperty(Mt)||o.hasOwnProperty(_i))?o[Mt]:null}const Mn=Se({\u0275prov:Se}),Mt=Se({\u0275inj:Se}),Qt=Se({ngInjectableDef:Se}),_i=Se({ngInjectorDef:Se});var Ft=(()=>((Ft=Ft||{})[Ft.Default=0]="Default",Ft[Ft.Host=1]="Host",Ft[Ft.Self=2]="Self",Ft[Ft.SkipSelf=4]="SkipSelf",Ft[Ft.Optional=8]="Optional",Ft))();let Ur;function vn(o){const a=Ur;return Ur=o,a}function yi(o,a,c){const l=ys(o);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:c&Ft.Optional?null:void 0!==a?a:void Zn(lt(o))}const Rn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),So={},Yi="__NG_DI_FLAG__",Ji="ngTempTokenPath",Ve=/\n/gm,Gt="__source";let pn;function Gn(o){const a=pn;return pn=o,a}function Q(o,a=Ft.Default){if(void 0===pn)throw new le(-203,!1);return null===pn?yi(o,void 0,a):pn.get(o,a&Ft.Optional?null:void 0,a)}function H(o,a=Ft.Default){return(function Vs(){return Ur}()||Q)(ze(o),a)}function Te(o,a=Ft.Default){return H(o,fe(a))}function fe(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Tt(o){const a=[];for(let c=0;c<o.length;c++){const l=ze(o[c]);if(Array.isArray(l)){if(0===l.length)throw new le(900,!1);let h,m=Ft.Default;for(let w=0;w<l.length;w++){const C=l[w],M=K(C);"number"==typeof M?-1===M?h=C.token:m|=M:h=C}a.push(H(h,m))}else a.push(H(l))}return a}function Ut(o,a){return o[Yi]=a,o.prototype[Yi]=a,o}function K(o){return o[Yi]}function ue(o){return{toString:o}.toString()}var J=(()=>((J=J||{})[J.OnPush=0]="OnPush",J[J.Default=1]="Default",J))(),it=(()=>{return(o=it||(it={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",it;var o})();const Rt={},Nt=[],yr=Se({\u0275cmp:Se}),jr=Se({\u0275dir:Se}),Nr=Se({\u0275pipe:Se}),Tn=Se({\u0275mod:Se}),or=Se({\u0275fac:Se}),Xi=Se({__NG_ELEMENT_ID__:Se}),xo=Se({__NG_ENV_ID__:Se});function Na(o,a,c){let l=o.length;for(;;){const h=o.indexOf(a,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const m=a.length;if(h+m===l||o.charCodeAt(h+m)<=32)return h}c=h+1}}function Mo(o,a,c){let l=0;for(;l<c.length;){const h=c[l];if("number"==typeof h){if(0!==h)break;l++;const m=c[l++],w=c[l++],C=c[l++];o.setAttribute(a,w,C,m)}else{const m=h,w=c[++l];Ud(m)?o.setProperty(a,m,w):o.setAttribute(a,m,w),l++}}return l}function Iu(o){return 3===o||4===o||6===o}function Ud(o){return 64===o.charCodeAt(0)}function wu(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let l=0;l<a.length;l++){const h=a[l];"number"==typeof h?c=h:0===c||ac(o,c,h,null,-1===c||2===c?a[++l]:null)}}return o}function ac(o,a,c,l,h){let m=0,w=o.length;if(-1===a)w=-1;else for(;m<o.length;){const C=o[m++];if("number"==typeof C){if(C===a){w=-1;break}if(C>a){w=m-1;break}}}for(;m<o.length;){const C=o[m];if("number"==typeof C)break;if(C===c){if(null===l)return void(null!==h&&(o[m+1]=h));if(l===o[m+1])return void(o[m+2]=h)}m++,null!==l&&m++,null!==h&&m++}-1!==w&&(o.splice(w,0,a),m=w+1),o.splice(m++,0,c),null!==l&&o.splice(m++,0,l),null!==h&&o.splice(m++,0,h)}const uc="ng-template";function jd(o,a,c){let l=0,h=!0;for(;l<o.length;){let m=o[l++];if("string"==typeof m&&h){const w=o[l++];if(c&&"class"===m&&-1!==Na(w.toLowerCase(),a,0))return!0}else{if(1===m){for(;l<o.length&&"string"==typeof(m=o[l++]);)if(m.toLowerCase()===a)return!0;return!1}"number"==typeof m&&(h=!1)}}return!1}function ki(o){return 4===o.type&&o.value!==uc}function cc(o,a,c){return a===(4!==o.type||c?o.value:uc)}function $d(o,a,c){let l=4;const h=o.attrs||[],m=function lc(o){for(let a=0;a<o.length;a++)if(Iu(o[a]))return a;return o.length}(h);let w=!1;for(let C=0;C<a.length;C++){const M=a[C];if("number"!=typeof M){if(!w)if(4&l){if(l=2|1&l,""!==M&&!cc(o,M,c)||""===M&&1===a.length){if(es(l))return!1;w=!0}}else{const R=8&l?M:a[++C];if(8&l&&null!==o.attrs){if(!jd(o.attrs,R,c)){if(es(l))return!1;w=!0}continue}const z=er(8&l?"class":M,h,ki(o),c);if(-1===z){if(es(l))return!1;w=!0;continue}if(""!==R){let ee;ee=z>m?"":h[z+1].toLowerCase();const oe=8&l?ee:null;if(oe&&-1!==Na(oe,R,0)||2&l&&R!==ee){if(es(l))return!1;w=!0}}}}else{if(!w&&!es(l)&&!es(M))return!1;if(w&&es(M))continue;w=!1,l=M|1&l}}return es(l)||w}function es(o){return 0==(1&o)}function er(o,a,c,l){if(null===a)return-1;let h=0;if(l||!c){let m=!1;for(;h<a.length;){const w=a[h];if(w===o)return h;if(3===w||6===w)m=!0;else{if(1===w||2===w){let C=a[++h];for(;"string"==typeof C;)C=a[++h];continue}if(4===w)break;if(0===w){h+=4;continue}}h+=m?1:2}return-1}return function hl(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const l=o[c];if("number"==typeof l)return-1;if(l===a)return c;c++}return-1}(a,o)}function zd(o,a,c=!1){for(let l=0;l<a.length;l++)if($d(o,a[l],c))return!0;return!1}function na(o,a){return o?":not("+a.trim()+")":a}function pl(o){let a=o[0],c=1,l=2,h="",m=!1;for(;c<o.length;){let w=o[c];if("string"==typeof w)if(2&l){const C=o[++c];h+="["+w+(C.length>0?'="'+C+'"':"")+"]"}else 8&l?h+="."+w:4&l&&(h+=" "+w);else""!==h&&!es(w)&&(a+=na(m,h),h=""),l=w,m=m||!es(l);c++}return""!==h&&(a+=na(m,h)),a}function bu(o){return ue(()=>{const a=Po(o),c={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===J.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||it.Emulated,styles:o.styles||Nt,_:null,schemas:o.schemas||null,tView:null,id:""};Oa(c);const l=o.dependencies;return c.directiveDefs=ka(l,!1),c.pipeDefs=ka(l,!0),c.id=function yl(o){let a=0;const c=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const h of c)a=Math.imul(31,a)+h.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(c),c})}function Tu(o){return yn(o)||ii(o)}function gl(o){return null!==o}function ml(o){return ue(()=>({type:o.type,bootstrap:o.bootstrap||Nt,declarations:o.declarations||Nt,imports:o.imports||Nt,exports:o.exports||Nt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function _l(o,a){if(null==o)return Rt;const c={};for(const l in o)if(o.hasOwnProperty(l)){let h=o[l],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),c[h]=l,a&&(a[h]=m)}return c}function ra(o){return ue(()=>{const a=Po(o);return Oa(a),a})}function ia(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function yn(o){return o[yr]||null}function ii(o){return o[jr]||null}function si(o){return o[Nr]||null}function Ro(o){const a=yn(o)||ii(o)||si(o);return null!==a&&a.standalone}function oi(o,a){const c=o[Tn]||null;if(!c&&!0===a)throw new Error(`Type ${lt(o)} does not have '\u0275mod' property.`);return c}function Po(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:o.inputs||Rt,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||Nt,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_l(o.inputs,a),outputs:_l(o.outputs)}}function Oa(o){o.features?.forEach(a=>a(o))}function ka(o,a){if(!o)return null;const c=a?si:Tu;return()=>("function"==typeof o?o():o).map(l=>c(l)).filter(gl)}const ar=0,vt=1,Yt=2,Hn=3,Ar=4,No=5,Or=6,Qr=7,tr=8,no=9,ts=10,U=11,V=12,q=13,_e=14,re=15,st=16,xt=17,un=18,Cr=19,dr=20,Fi=21,mn=22,vr=23,ns=24,on=25,vl=1,Xg=2,ro=7,io=9,$r=11;function Ei(o){return Array.isArray(o)&&"object"==typeof o[vl]}function qn(o){return Array.isArray(o)&&!0===o[vl]}function Cu(o){return 0!=(4&o.flags)}function Du(o){return o.componentOffset>-1}function Su(o){return 1==(1&o.flags)}function Vi(o){return!!o.template}function so(o){return 0!=(512&o[Yt])}function oo(o,a){return o.hasOwnProperty(or)?o[or]:null}let Wd=Rn.WeakRef??class Nf{constructor(a){this.ref=a}deref(){return this.ref}},Fa=0,Ls=null,Kd=!1;function ur(o){const a=Ls;return Ls=o,a}class Zd{constructor(){this.id=Fa++,this.ref=function om(o){return new Wd(o)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[a,c]of this.producers){const l=c.producerNode.deref();if(null!=l&&c.atTrackingVersion===this.trackingVersion){if(l.producerPollStatus(c.seenValueVersion))return!0}else this.producers.delete(a),l?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const a=Kd;Kd=!0;try{for(const[c,l]of this.consumers){const h=l.consumerNode.deref();null!=h&&h.trackingVersion===l.atTrackingVersion?h.onConsumerDependencyMayHaveChanged():(this.consumers.delete(c),h?.producers.delete(this.id))}}finally{Kd=a}}producerAccessed(){if(Kd)throw new Error("");if(null===Ls)return;let a=Ls.producers.get(this.id);void 0===a?(a={consumerNode:Ls.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ls.trackingVersion},Ls.producers.set(this.id,a),this.consumers.set(Ls.id,a)):(a.seenValueVersion=this.valueVersion,a.atTrackingVersion=Ls.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Ls?.consumerAllowSignalWrites}producerPollStatus(a){return this.valueVersion!==a||(this.onProducerUpdateValueVersion(),this.valueVersion!==a)}}let Al=null;function Mu(o){const a=ur(null);try{return o()}finally{ur(a)}}const Ru=()=>{};class Yd extends Zd{constructor(a,c,l){super(),this.watch=a,this.schedule=c,this.dirty=!1,this.cleanupFn=Ru,this.registerOnCleanup=h=>{this.cleanupFn=h},this.consumerAllowSignalWrites=l}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const a=ur(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ru,this.watch(this.registerOnCleanup)}finally{ur(a)}}cleanup(){this.cleanupFn()}}class _c{constructor(a,c,l){this.previousValue=a,this.currentValue=c,this.firstChange=l}isFirstChange(){return this.firstChange}}function Dl(){return yc}function yc(o){return o.type.prototype.ngOnChanges&&(o.setInput=Sl),Ff}function Ff(){const o=vc(this),a=o?.current;if(a){const c=o.previous;if(c===Rt)o.previous=a;else for(let l in a)c[l]=a[l];o.current=null,this.ngOnChanges(a)}}function Sl(o,a,c,l){const h=this.declaredInputs[c],m=vc(o)||function Vf(o,a){return o[xl]=a}(o,{previous:Rt,current:null}),w=m.current||(m.current={}),C=m.previous,M=C[h];w[h]=new _c(M&&M.currentValue,a,C===Rt),o[l]=a}Dl.ngInherit=!0;const xl="__ngSimpleChanges__";function vc(o){return o[xl]||null}const rs=function(o,a,c){};function Nn(o){for(;Array.isArray(o);)o=o[ar];return o}function Ba(o,a){return Nn(a[o])}function is(o,a){return Nn(a[o.index])}function Pl(o,a){return o.data[a]}function Ii(o,a){const c=a[o];return Ei(c)?c:c[ar]}function ss(o,a){return null==a?null:o[a]}function ao(o){o[xt]=0}function Pu(o){1024&o[Yt]||(o[Yt]|=1024,Uf(o,1))}function eh(o){1024&o[Yt]&&(o[Yt]&=-1025,Uf(o,-1))}function Uf(o,a){let c=o[Hn];if(null===c)return;c[No]+=a;let l=c;for(c=c[Hn];null!==c&&(1===a&&1===l[No]||-1===a&&0===l[No]);)c[No]+=a,l=c,c=c[Hn]}const Jt={lFrame:Tc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function kl(){return Jt.bindingsEnabled}function je(){return Jt.lFrame.lView}function An(){return Jt.lFrame.tView}function Vl(o){return Jt.lFrame.contextLView=o,o[tr]}function Nu(o){return Jt.lFrame.contextLView=null,o}function ai(){let o=fr();for(;null!==o&&64===o.type;)o=o.parent;return o}function fr(){return Jt.lFrame.currentTNode}function vs(o,a){const c=Jt.lFrame;c.currentTNode=o,c.isParent=a}function wc(){return Jt.lFrame.isParent}function Fo(){return Jt.lFrame.bindingIndex++}function as(o){const a=Jt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function Gf(o,a){const c=Jt.lFrame;c.bindingIndex=c.bindingRootIndex=o,Es(a)}function Es(o){Jt.lFrame.currentDirectiveIndex=o}function sh(){return Jt.lFrame.currentQueryIndex}function $a(o){Jt.lFrame.currentQueryIndex=o}function dm(o){const a=o[vt];return 2===a.type?a.declTNode:1===a.type?o[Or]:null}function HI(o,a,c){if(c&Ft.SkipSelf){let h=a,m=o;for(;!(h=h.parent,null!==h||c&Ft.Host||(h=dm(m),null===h||(m=m[_e],10&h.type))););if(null===h)return!1;a=h,o=m}const l=Jt.lFrame=lv();return l.currentTNode=a,l.lView=o,!0}function Hf(o){const a=lv(),c=o[vt];Jt.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function lv(){const o=Jt.lFrame,a=null===o?null:o.child;return null===a?Tc(o):a}function Tc(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function dv(){const o=Jt.lFrame;return Jt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const hm=dv;function qf(){const o=dv();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Li(){return Jt.lFrame.selectedIndex}function Fu(o){Jt.lFrame.selectedIndex=o}function sr(){const o=Jt.lFrame;return Pl(o.tView,o.selectedIndex)}let Kf=!0;function uh(){return Kf}function Ga(o){Kf=o}function Bi(o,a){for(let c=a.directiveStart,l=a.directiveEnd;c<l;c++){const m=o.data[c].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:C,ngAfterViewInit:M,ngAfterViewChecked:R,ngOnDestroy:k}=m;w&&(o.contentHooks??=[]).push(-c,w),C&&((o.contentHooks??=[]).push(c,C),(o.contentCheckHooks??=[]).push(c,C)),M&&(o.viewHooks??=[]).push(-c,M),R&&((o.viewHooks??=[]).push(c,R),(o.viewCheckHooks??=[]).push(c,R)),null!=k&&(o.destroyHooks??=[]).push(c,k)}}function ca(o,a,c){Kt(o,a,3,c)}function Ac(o,a,c,l){(3&o[Yt])===c&&Kt(o,a,c,l)}function pr(o,a){let c=o[Yt];(3&c)===a&&(c&=8191,c+=1,o[Yt]=c)}function Kt(o,a,c,l){const m=l??-1,w=a.length-1;let C=0;for(let M=void 0!==l?65535&o[xt]:0;M<w;M++)if("number"==typeof a[M+1]){if(C=a[M],null!=l&&C>=l)break}else a[M]<0&&(o[xt]+=65536),(C<m||-1==m)&&(ch(o,c,a,M),o[xt]=(4294901760&o[xt])+M+2),M++}function Ui(o,a){rs(4,o,a);const c=ur(null);try{a.call(o)}finally{ur(c),rs(5,o,a)}}function ch(o,a,c,l){const h=c[l]<0,m=c[l+1],C=o[h?-c[l]:c[l]];h?o[Yt]>>13<o[xt]>>16&&(3&o[Yt])===a&&(o[Yt]+=8192,Ui(C,m)):Ui(C,m)}const uo=-1;class la{constructor(a,c,l){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=l}}function da(o){return o!==uo}function ha(o){return 32767&o}function jl(o,a){let c=function Us(o){return o>>16}(o),l=a;for(;c>0;)l=l[_e],c--;return l}let Ha=!0;function Is(o){const a=Ha;return Ha=o,a}const hh=255,Vo=5;let qa=0;const co={};function Wa(o,a){const c=$l(o,a);if(-1!==c)return c;const l=a[vt];l.firstCreatePass&&(o.injectorIndex=a.length,Vu(l.data,o),Vu(a,null),Vu(l.blueprint,null));const h=Bo(o,a),m=o.injectorIndex;if(da(h)){const w=ha(h),C=jl(h,a),M=C[vt].data;for(let R=0;R<8;R++)a[m+R]=C[w+R]|M[w+R]}return a[m+8]=h,m}function Vu(o,a){o.push(0,0,0,0,0,0,0,0,a)}function $l(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Bo(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,l=null,h=a;for(;null!==h;){if(l=zo(h),null===l)return uo;if(c++,h=h[_e],-1!==l.injectorIndex)return l.injectorIndex|c<<16}return uo}function us(o,a,c){!function Lo(o,a,c){let l;"string"==typeof c?l=c.charCodeAt(0)||0:c.hasOwnProperty(Xi)&&(l=c[Xi]),null==l&&(l=c[Xi]=qa++);const h=l&hh;a.data[o+(h>>Vo)]|=1<<h}(o,a,c)}function ji(o,a,c){if(c&Ft.Optional||void 0!==o)return o;Zn()}function Dc(o,a,c,l){if(c&Ft.Optional&&void 0===l&&(l=null),!(c&(Ft.Self|Ft.Host))){const h=o[no],m=vn(void 0);try{return h?h.get(a,l,c&Ft.Optional):yi(a,l,c&Ft.Optional)}finally{vn(m)}}return ji(l,0,c)}function zl(o,a,c,l=Ft.Default,h){if(null!==o){if(2048&a[Yt]&&!(l&Ft.Self)){const w=function ui(o,a,c,l,h){let m=o,w=a;for(;null!==m&&null!==w&&2048&w[Yt]&&!(512&w[Yt]);){const C=Uo(m,w,c,l|Ft.Self,co);if(C!==co)return C;let M=m.parent;if(!M){const R=w[dr];if(R){const k=R.get(c,co,l);if(k!==co)return k}M=zo(w),w=w[_e]}m=M}return h}(o,a,c,l,co);if(w!==co)return w}const m=Uo(o,a,c,l,co);if(m!==co)return m}return Dc(a,c,l,h)}function Uo(o,a,c,l,h){const m=function jo(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Xi)?o[Xi]:void 0;return"number"==typeof a?a>=0?a&hh:fh:a}(c);if("function"==typeof m){if(!HI(a,o,l))return l&Ft.Host?ji(h,0,l):Dc(a,c,l,h);try{const w=m(l);if(null!=w||l&Ft.Optional)return w;Zn()}finally{hm()}}else if("number"==typeof m){let w=null,C=$l(o,a),M=uo,R=l&Ft.Host?a[re][Or]:null;for((-1===C||l&Ft.SkipSelf)&&(M=-1===C?Bo(o,a):a[C+8],M!==uo&&Sc(l,!1)?(w=a[vt],C=ha(M),a=jl(M,a)):C=-1);-1!==C;){const k=a[vt];if(zr(m,C,k.data)){const z=kr(C,a,c,w,l,R);if(z!==co)return z}M=a[C+8],M!==uo&&Sc(l,a[vt].data[C+8]===R)&&zr(m,C,a)?(w=k,C=ha(M),a=jl(M,a)):C=-1}}return h}function kr(o,a,c,l,h,m){const w=a[vt],C=w.data[o+8],k=lo(C,w,c,null==l?Du(C)&&Ha:l!=w&&0!=(3&C.type),h&Ft.Host&&m===C);return null!==k?fa(a,w,k,C):co}function lo(o,a,c,l,h){const m=o.providerIndexes,w=a.data,C=1048575&m,M=o.directiveStart,k=m>>20,ee=h?C+k:o.directiveEnd;for(let oe=l?C:C+k;oe<ee;oe++){const Oe=w[oe];if(oe<M&&c===Oe||oe>=M&&Oe.type===c)return oe}if(h){const oe=w[M];if(oe&&Vi(oe)&&oe.type===c)return M}return null}function fa(o,a,c,l){let h=o[c];const m=a.data;if(function pm(o){return o instanceof la}(h)){const w=h;w.resolving&&function rn(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new le(-200,`Circular dependency in DI detected for ${o}${c}`)}(function ve(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ce(o)}(m[c]));const C=Is(w.canSeeViewProviders);w.resolving=!0;const M=w.injectImpl?vn(w.injectImpl):null;HI(o,l,Ft.Default);try{h=o[c]=w.factory(void 0,m,o,l),a.firstCreatePass&&c>=l.directiveStart&&function pv(o,a,c){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:m}=a.type.prototype;if(l){const w=yc(a);(c.preOrderHooks??=[]).push(o,w),(c.preOrderCheckHooks??=[]).push(o,w)}h&&(c.preOrderHooks??=[]).push(0-o,h),m&&((c.preOrderHooks??=[]).push(o,m),(c.preOrderCheckHooks??=[]).push(o,m))}(c,m[c],a)}finally{null!==M&&vn(M),Is(C),w.resolving=!1,hm()}}return h}function zr(o,a,c){return!!(c[a+(o>>Vo)]&1<<o)}function Sc(o,a){return!(o&Ft.Self||o&Ft.Host&&a)}class Ka{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,l){return zl(this._tNode,this._lView,a,fe(l),c)}}function fh(){return new Ka(ai(),je())}function ws(o){return ue(()=>{const a=o.prototype.constructor,c=a[or]||$o(a),l=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==l;){const m=h[or]||$o(h);if(m&&m!==c)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function $o(o){return Be(o)?()=>{const a=$o(ze(o));return a&&a()}:oo(o)}function zo(o){const a=o[vt],c=a.type;return 2===c?a.declTNode:1===c?o[Or]:null}function ph(o){return function Qf(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const l=c.length;let h=0;for(;h<l;){const m=c[h];if(Iu(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<l&&"string"==typeof c[h];)h++;else{if(m===a)return c[h+1];h+=2}}}return null}(ai(),o)}const Za="__parameters__";function en(o,a,c){return ue(()=>{const l=function Lu(o){return function(...c){if(o){const l=o(...c);for(const h in l)this[h]=l[h]}}}(a);function h(...m){if(this instanceof h)return l.apply(this,m),this;const w=new h(...m);return C.annotation=w,C;function C(M,R,k){const z=M.hasOwnProperty(Za)?M[Za]:Object.defineProperty(M,Za,{value:[]})[Za];for(;z.length<=k;)z.push(null);return(z[k]=z[k]||[]).push(w),M}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}function xc(o,a){o.forEach(c=>Array.isArray(c)?xc(c,a):a(c))}function ga(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function ma(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function ci(o,a,c){let l=ju(o,a);return l>=0?o[1|l]=c:(l=~l,function Uu(o,a,c,l){let h=o.length;if(h==a)o.push(c,l);else if(1===h)o.push(l,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=c,o[a+1]=l}}(o,l,a,c)),l}function Mc(o,a){const c=ju(o,a);if(c>=0)return o[1|c]}function ju(o,a){return function Rc(o,a,c){let l=0,h=o.length>>c;for(;h!==l;){const m=l+(h-l>>1),w=o[m<<c];if(a===w)return m<<c;w>a?h=m:l=m+1}return~(h<<c)}(o,a,1)}const Nc=Ut(en("Optional"),8),tp=Ut(en("SkipSelf"),4);function Gr(o){return 128==(128&o.flags)}var go=(()=>((go=go||{})[go.Important=1]="Important",go[go.DashCase=2]="DashCase",go))();const Ya=new Map;let dp=0;const nd="__ngContext__";function wi(o,a){Ei(a)?(o[nd]=a[Cr],function hp(o){Ya.set(o[Cr],o)}(a)):o[nd]=a}let Ja;function Tm(o,a){return Ja(o,a)}function Xa(o){const a=o[Hn];return qn(a)?a[Hn]:a}function Am(o){return mp(o[V])}function Th(o){return mp(o[Ar])}function mp(o){for(;null!==o&&!qn(o);)o=o[Ar];return o}function Wu(o,a,c,l,h){if(null!=l){let m,w=!1;qn(l)?m=l:Ei(l)&&(w=!0,l=l[ar]);const C=Nn(l);0===o&&null!==c?null==h?sd(a,c,C):id(a,c,C,h||null,!0):1===o&&null!==c?id(a,c,C,h||null,!0):2===o?function Bc(o,a,c){const l=tu(o,a);l&&function sw(o,a,c,l){o.removeChild(a,c,l)}(o,l,a,c)}(a,C,w):3===o&&a.destroyNode(C),null!=m&&function oC(o,a,c,l,h){const m=c[ro];m!==Nn(c)&&Wu(a,o,l,m,h);for(let C=$r;C<c.length;C++){const M=c[C];Zu(M[vt],M,o,a,l,m)}}(a,o,m,c,h)}}function Sm(o,a,c){return o.createElement(a,c)}function Rm(o,a){const c=o[io],l=c.indexOf(a);eh(a),c.splice(l,1)}function eu(o,a){if(o.length<=$r)return;const c=$r+a,l=o[c];if(l){const h=l[st];null!==h&&h!==o&&Rm(h,l),a>0&&(o[c-1][Ar]=l[Ar]);const m=ma(o,$r+a);!function xm(o,a){Zu(o,a,a[U],2,null,null),a[ar]=null,a[Or]=null}(l[vt],l);const w=m[un];null!==w&&w.detachView(m[vt]),l[Hn]=null,l[Ar]=null,l[Yt]&=-129}return l}function nw(o,a){if(!(256&a[Yt])){const c=a[U];a[vr]?.destroy(),a[ns]?.destroy(),c.destroyNode&&Zu(o,a,c,3,null,null),function tw(o){let a=o[V];if(!a)return Ah(o[vt],o);for(;a;){let c=null;if(Ei(a))c=a[V];else{const l=a[$r];l&&(c=l)}if(!c){for(;a&&!a[Ar]&&a!==o;)Ei(a)&&Ah(a[vt],a),a=a[Hn];null===a&&(a=o),Ei(a)&&Ah(a[vt],a),c=a&&a[Ar]}a=c}}(a)}}function Ah(o,a){if(!(256&a[Yt])){a[Yt]&=-129,a[Yt]|=256,function iw(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let l=0;l<c.length;l+=2){const h=a[c[l]];if(!(h instanceof la)){const m=c[l+1];if(Array.isArray(m))for(let w=0;w<m.length;w+=2){const C=h[m[w]],M=m[w+1];rs(4,C,M);try{M.call(C)}finally{rs(5,C,M)}}else{rs(4,h,m);try{m.call(h)}finally{rs(5,h,m)}}}}}(o,a),function rw(o,a){const c=o.cleanup,l=a[Qr];if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const w=c[m+3];w>=0?l[w]():l[-w].unsubscribe(),m+=2}else c[m].call(l[c[m+1]]);null!==l&&(a[Qr]=null);const h=a[Fi];if(null!==h){a[Fi]=null;for(let m=0;m<h.length;m++)(0,h[m])()}}(o,a),1===a[vt].type&&a[U].destroy();const c=a[st];if(null!==c&&qn(a[Hn])){c!==a[Hn]&&Rm(c,a);const l=a[un];null!==l&&l.detachView(o)}!function td(o){Ya.delete(o[Cr])}(a)}}function Ch(o,a,c){return function _p(o,a,c){let l=a;for(;null!==l&&40&l.type;)l=(a=l).parent;if(null===l)return c[ar];{const{componentOffset:h}=l;if(h>-1){const{encapsulation:m}=o.data[l.directiveStart+h];if(m===it.None||m===it.Emulated)return null}return is(l,c)}}(o,a.parent,c)}function id(o,a,c,l,h){o.insertBefore(a,c,l,h)}function sd(o,a,c){o.appendChild(a,c)}function Ku(o,a,c,l,h){null!==l?id(o,a,c,l,h):sd(o,a,c)}function tu(o,a){return o.parentNode(a)}let yp,Sv,Rh,Cv=function Av(o,a,c){return 40&o.type?is(o,c):null};function Nm(o,a,c,l){const h=Ch(o,l,a),m=a[U],C=function Pm(o,a,c){return Cv(o,a,c)}(l.parent||a[Or],l,a);if(null!=h)if(Array.isArray(c))for(let M=0;M<c.length;M++)Ku(m,h,c[M],C,!1);else Ku(m,h,c,C,!1);void 0!==yp&&yp(m,l,a,c,h)}function Sh(o,a){if(null!==a){const c=a.type;if(3&c)return is(a,o);if(4&c)return Ep(-1,o[a.index]);if(8&c){const l=a.child;if(null!==l)return Sh(o,l);{const h=o[a.index];return qn(h)?Ep(-1,h):Nn(h)}}if(32&c)return Tm(a,o)()||Nn(o[a.index]);{const l=Dv(o,a);return null!==l?Array.isArray(l)?l[0]:Sh(Xa(o[re]),l):Sh(o,a.next)}}return null}function Dv(o,a){return null!==a?o[re][Or].projection[a.projection]:null}function Ep(o,a){const c=$r+o+1;if(c<a.length){const l=a[c],h=l[vt].firstChild;if(null!==h)return Sh(l,h)}return a[ro]}function Om(o,a,c,l,h,m,w){for(;null!=c;){const C=l[c.index],M=c.type;if(w&&0===a&&(C&&wi(Nn(C),l),c.flags|=2),32!=(32&c.flags))if(8&M)Om(o,a,c.child,l,h,m,!1),Wu(a,o,h,C,m);else if(32&M){const R=Tm(c,l);let k;for(;k=R();)Wu(a,o,h,k,m);Wu(a,o,h,C,m)}else 16&M?aw(o,a,l,c,h,m):Wu(a,o,h,C,m);c=w?c.projectionNext:c.next}}function Zu(o,a,c,l,h,m){Om(c,l,o.firstChild,a,h,m,!1)}function aw(o,a,c,l,h,m){const w=c[re],M=w[Or].projection[l.projection];if(Array.isArray(M))for(let R=0;R<M.length;R++)Wu(a,o,h,M[R],m);else{let R=M;const k=w[Hn];Gr(l)&&(R.flags|=128),Om(o,a,R,k,h,m,!0)}}function cw(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function xh(o,a,c){const{mergedAttrs:l,classes:h,styles:m}=c;null!==l&&Mo(o,a,l),null!==h&&cw(o,a,h),null!==m&&function uw(o,a,c){o.setAttribute(a,"style",c)}(o,a,m)}function lC(o){Sv=o}function Ph(o){return function ad(){if(void 0===Rh&&(Rh=null,Rn.trustedTypes))try{Rh=Rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Rh}()?.createScriptURL(o)||o}class Vm{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qe})`}}function jc(o){return o instanceof Vm?o.changingThisBreaksApplicationSecurity:o}function Ap(o,a){const c=function hC(o){return o instanceof Vm&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${qe})`)}return c===a}const yC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Er=(()=>((Er=Er||{})[Er.NONE=0]="NONE",Er[Er.HTML=1]="HTML",Er[Er.STYLE=2]="STYLE",Er[Er.SCRIPT=3]="SCRIPT",Er[Er.URL=4]="URL",Er[Er.RESOURCE_URL=5]="RESOURCE_URL",Er))();function Vv(o){const a=$s();return a?a.sanitize(Er.URL,o)||"":Ap(o,"URL")?jc(o):function Lm(o){return(o=String(o)).match(yC)?o:"unsafe:"+o}(ce(o))}function $m(o){const a=$s();if(a)return Ph(a.sanitize(Er.RESOURCE_URL,o)||"");if(Ap(o,"ResourceURL"))return Ph(jc(o));throw new le(904,!1)}function zm(o,a,c){return function Ti(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?$m:Vv}(a,c)(o)}function $s(){const o=je();return o&&o[ts].sanitizer}class jn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=nn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Sp=new jn("ENVIRONMENT_INITIALIZER"),Gm=new jn("INJECTOR",-1),mw=new jn("INJECTOR_DEF_TYPES");class Fh{get(a,c=So){if(c===So){const l=new Error(`NullInjectorError: No provider for ${lt(a)}!`);throw l.name="NullInjectorError",l}return c}}function qm(...o){return{\u0275providers:Bv(0,o),\u0275fromNgModule:!0}}function Bv(o,...a){const c=[],l=new Set;let h;return xc(a,m=>{const w=m;jv(w,c,[],l)&&(h||=[],h.push(w))}),void 0!==h&&Uv(h,c),c}function Uv(o,a){for(let c=0;c<o.length;c++){const{providers:h}=o[c];xp(h,m=>{a.push(m)})}}function jv(o,a,c,l){if(!(o=ze(o)))return!1;let h=null,m=eo(o);const w=!m&&yn(o);if(m||w){if(w&&!w.standalone)return!1;h=o}else{const M=o.ngModule;if(m=eo(M),!m)return!1;h=M}const C=l.has(h);if(w){if(C)return!1;if(l.add(h),w.dependencies){const M="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const R of M)jv(R,a,c,l)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let R;l.add(h);try{xc(m.imports,k=>{jv(k,a,c,l)&&(R||=[],R.push(k))})}finally{}void 0!==R&&Uv(R,a)}if(!C){const R=oo(h)||(()=>new h);a.push({provide:h,useFactory:R,deps:Nt},{provide:mw,useValue:h,multi:!0},{provide:Sp,useValue:()=>H(h),multi:!0})}const M=m.providers;null==M||C||xp(M,k=>{a.push(k)})}}return h!==o&&void 0!==o.providers}function xp(o,a){for(let c of o)Re(c)&&(c=c.\u0275providers),Array.isArray(c)?xp(c,a):a(c)}const bC=Se({provide:String,useValue:Se});function $v(o){return null!==o&&"object"==typeof o&&bC in o}function Yu(o){return"function"==typeof o}const Vh=new jn("Set Injector scope."),Mp={},Gv={};let Zm;function ud(){return void 0===Zm&&(Zm=new Fh),Zm}class $c{}class Lh extends $c{get destroyed(){return this._destroyed}constructor(a,c,l,h){super(),this.parent=c,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Wv(a,w=>this.processProvider(w)),this.records.set(Gm,Bh(void 0,this)),h.has("environment")&&this.records.set($c,Bh(void 0,this));const m=this.records.get(Vh);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(mw.multi,Nt,Ft.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of a)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=Gn(this),l=vn(void 0);try{return a()}finally{Gn(c),vn(l)}}get(a,c=So,l=Ft.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(xo))return a[xo](this);l=fe(l);const h=Gn(this),m=vn(void 0);try{if(!(l&Ft.SkipSelf)){let C=this.records.get(a);if(void 0===C){const M=function qv(o){return"function"==typeof o||"object"==typeof o&&o instanceof jn}(a)&&ys(a);C=M&&this.injectableDefInScope(M)?Bh(Qm(a),Mp):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(l&Ft.Self?ud():this.parent).get(a,c=l&Ft.Optional&&c===So?null:c)}catch(w){if("NullInjectorError"===w.name){if((w[Ji]=w[Ji]||[]).unshift(lt(a)),h)throw w;return function B(o,a,c,l){const h=o[Ji];throw a[Gt]&&h.unshift(a[Gt]),o.message=function Z(o,a,c,l=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=lt(a);if(Array.isArray(a))h=a.map(lt).join(" -> ");else if("object"==typeof a){let m=[];for(let w in a)if(a.hasOwnProperty(w)){let C=a[w];m.push(w+":"+("string"==typeof C?JSON.stringify(C):lt(C)))}h=`{${m.join(", ")}}`}return`${c}${l?"("+l+")":""}[${h}]: ${o.replace(Ve,"\n  ")}`}("\n"+o.message,h,c,l),o.ngTokenPath=h,o[Ji]=null,o}(w,a,"R3InjectorError",this.source)}throw w}finally{vn(m),Gn(h)}}resolveInjectorInitializers(){const a=Gn(this),c=vn(void 0);try{const l=this.get(Sp.multi,Nt,Ft.Self);for(const h of l)h()}finally{Gn(a),vn(c)}}toString(){const a=[],c=this.records;for(const l of c.keys())a.push(lt(l));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(a){let c=Yu(a=ze(a))?a:ze(a&&a.provide);const l=function yw(o){return $v(o)?Bh(void 0,o.useValue):Bh(Ym(o),Mp)}(a);if(Yu(a)||!0!==a.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=Bh(void 0,Mp,!0),h.factory=()=>Tt(h.multi),this.records.set(c,h)),c=a,h.multi.push(a)}this.records.set(c,l)}hydrate(a,c){return c.value===Mp&&(c.value=Gv,c.value=c.factory()),"object"==typeof c.value&&c.value&&function TC(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=ze(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function Qm(o){const a=ys(o),c=null!==a?a.factory:oo(o);if(null!==c)return c;if(o instanceof jn)throw new le(204,!1);if(o instanceof Function)return function Rp(o){const a=o.length;if(a>0)throw function Dn(o,a){const c=[];for(let l=0;l<o;l++)c.push(a);return c}(a,"?"),new le(204,!1);const c=function Fs(o){return o&&(o[Mn]||o[Qt])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new le(204,!1)}function Ym(o,a,c){let l;if(Yu(o)){const h=ze(o);return oo(h)||Qm(h)}if($v(o))l=()=>ze(o.useValue);else if(function zv(o){return!(!o||!o.useFactory)}(o))l=()=>o.useFactory(...Tt(o.deps||[]));else if(function Wm(o){return!(!o||!o.useExisting)}(o))l=()=>H(ze(o.useExisting));else{const h=ze(o&&(o.useClass||o.provide));if(!function Hv(o){return!!o.deps}(o))return oo(h)||Qm(h);l=()=>new h(...Tt(o.deps))}return l}function Bh(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function Wv(o,a){for(const c of o)Array.isArray(c)?Wv(c,a):c&&Re(c)?Wv(c.\u0275providers,a):a(c)}const Uh=new jn("AppId",{providedIn:"root",factory:()=>Ju}),Ju="ng",cd=new jn("Platform Initializer"),Yr=new jn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Pp=new jn("CSP nonce",{providedIn:"root",factory:()=>function od(){if(void 0!==Sv)return Sv;if(typeof document<"u")return document;throw new le(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let i_=(o,a)=>null;function vw(o,a){return i_(o,a)}class Iw{}class Jv{}class Xv{resolveComponentFactory(a){throw function hd(o){const a=Error(`No component factory found for ${lt(o)}.`);return a.ngComponent=o,a}(a)}}let a_=(()=>{class o{}return o.NULL=new Xv,o})();function ww(){return Hh(ai(),je())}function Hh(o,a){return new fd(is(o,a))}let fd=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=ww,o})();function bw(o){return o instanceof fd?o.nativeElement:o}class pd{}let e0=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function SC(){const o=je(),c=Ii(ai().index,o);return(Ei(c)?c:o)[U]}(),o})(),t0=(()=>{class o{}return o.\u0275prov=nn({token:o,providedIn:"root",factory:()=>null}),o})();class u_{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const gd=new u_("16.1.6"),Op={};function ba(o){for(;o;){o[Yt]|=64;const a=Xa(o);if(so(o)&&!a)return o;o=a}return null}function Tw(o){return o.ngOriginalError}class kp{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Tw(a);for(;c&&Tw(c);)c=Tw(c);return c||null}}const Cw=new jn("",{providedIn:"root",factory:()=>!1});function Gc(o){return o.ownerDocument.defaultView}function iu(o){return o instanceof Function?o():o}class A extends Zd{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(a){this._lView=a}onConsumerDependencyMayHaveChanged(){ba(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(a,c,l){const h=ur(this);this.trackingVersion++;try{a(c,l)}finally{ur(h)}}destroy(){this.trackingVersion++}}let O=null;function $(){return O??=new A,O}function de(o,a){return o[a]??$()}function xe(o,a){const c=$();c.hasReadASignal&&(o[a]=O,c.lView=o,O=new A)}const pe={};function ct(o){ge(An(),je(),Li()+o,!1)}function ge(o,a,c,l){if(!l)if(3==(3&a[Yt])){const m=o.preOrderCheckHooks;null!==m&&ca(a,m,c)}else{const m=o.preOrderHooks;null!==m&&Ac(a,m,0,c)}Fu(c)}function eR(o,a=null,c=null,l){const h=tR(o,a,c,l);return h.resolveInjectorInitializers(),h}function tR(o,a=null,c=null,l,h=new Set){const m=[c||Nt,qm(o)];return l=l||("object"==typeof o?void 0:lt(o)),new Lh(m,a||ud(),l||null,h)}let Wh=(()=>{class o{static create(c,l){if(Array.isArray(c))return eR({name:""},l,c,"");{const h=c.name??"";return eR({name:h},c.parent,c.providers,h)}}}return o.THROW_IF_NOT_FOUND=So,o.NULL=new Fh,o.\u0275prov=nn({token:o,providedIn:"any",factory:()=>H(Gm)}),o.__NG_ELEMENT_ID__=-1,o})();function h_(o,a=Ft.Default){const c=je();return null===c?H(o,a):zl(ai(),c,ze(o),a)}function nR(){throw new Error("invalid")}function a0(o,a,c,l,h,m,w,C,M,R,k){const z=a.blueprint.slice();return z[ar]=h,z[Yt]=140|l,(null!==R||o&&2048&o[Yt])&&(z[Yt]|=2048),ao(z),z[Hn]=z[_e]=o,z[tr]=c,z[ts]=w||o&&o[ts],z[U]=C||o&&o[U],z[no]=M||o&&o[no]||null,z[Or]=m,z[Cr]=function Eh(){return dp++}(),z[mn]=k,z[dr]=R,z[re]=2==a.type?o[re]:z,z}function Vp(o,a,c,l,h){let m=o.data[a];if(null===m)m=function Mw(o,a,c,l,h){const m=fr(),w=wc(),M=o.data[a]=function uR(o,a,c,l,h,m){let w=a?a.injectorIndex:-1,C=0;return function ja(){return null!==Jt.skipHydrationRootTNode}()&&(C|=128),{type:c,index:l,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?m:m&&m.parent,c,a,l,h);return null===o.firstChild&&(o.firstChild=M),null!==m&&(w?null==m.child&&null!==M.parent&&(m.child=M):null===m.next&&(m.next=M,M.prev=m)),M}(o,a,c,l,h),function cv(){return Jt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=c,m.value=l,m.attrs=h;const w=function Ll(){const o=Jt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===w?-1:w.injectorIndex}return vs(m,!0),m}function f_(o,a,c,l){if(0===c)return-1;const h=a.length;for(let m=0;m<c;m++)a.push(l),o.blueprint.push(l),o.data.push(null);return h}function rR(o,a,c,l,h){const m=de(a,vr),w=Li(),C=2&l;try{if(Fu(-1),C&&a.length>on&&ge(o,a,on,!1),rs(C?2:0,h),C)m.runInContext(c,l,h);else{const R=ur(null);try{c(l,h)}finally{ur(R)}}}finally{C&&null===a[vr]&&xe(a,vr),Fu(w),rs(C?3:1,h)}}function NC(o,a,c){if(Cu(a)){const l=ur(null);try{const m=a.directiveEnd;for(let w=a.directiveStart;w<m;w++){const C=o.data[w];C.contentQueries&&C.contentQueries(1,c[w],w)}}finally{ur(l)}}}function Rw(o,a,c){kl()&&(function dR(o,a,c,l){const h=c.directiveStart,m=c.directiveEnd;Du(c)&&function fR(o,a,c){const l=is(a,o),h=u0(c);let w=16;c.signals?w=4096:c.onPush&&(w=64);const C=y_(o,a0(o,h,null,w,l,a,null,o[ts].rendererFactory.createRenderer(l,c),null,null,null));o[a.index]=C}(a,c,o.data[h+c.componentOffset]),o.firstCreatePass||Wa(c,a),wi(l,a);const w=c.initialInputs;for(let C=h;C<m;C++){const M=o.data[C],R=fa(a,o,C,c);wi(R,a),null!==w&&pR(0,C-h,R,M,0,w),Vi(M)&&(Ii(c.index,a)[tr]=fa(a,o,C,c))}}(o,a,c,is(c,a)),64==(64&c.flags)&&VC(o,a,c))}function OC(o,a,c=is){const l=a.localNames;if(null!==l){let h=a.index+1;for(let m=0;m<l.length;m+=2){const w=l[m+1],C=-1===w?c(a,o):o[w];o[h++]=C}}}function u0(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=c0(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):a}function c0(o,a,c,l,h,m,w,C,M,R,k){const z=on+l,ee=z+h,oe=function iR(o,a){const c=[];for(let l=0;l<a;l++)c.push(l<o?null:pe);return c}(z,ee),Oe="function"==typeof R?R():R;return oe[vt]={type:o,blueprint:oe,template:c,queries:null,viewQuery:C,declTNode:a,data:oe.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:M,consts:Oe,incompleteFirstPass:!1,ssrId:k}}let p_=o=>null;function Nw(o,a,c,l){for(let h in o)if(o.hasOwnProperty(h)){c=null===c?{}:c;const m=o[h];null===l?kC(c,a,h,m):l.hasOwnProperty(h)&&kC(c,a,l[h],m)}return c}function kC(o,a,c,l){o.hasOwnProperty(c)?o[c].push(a,l):o[c]=[a,l]}function g_(o,a,c,l){if(kl()){const h=null===l?null:{"":-1},m=function hR(o,a){const c=o.directiveRegistry;let l=null,h=null;if(c)for(let m=0;m<c.length;m++){const w=c[m];if(zd(a,w.selectors,!1))if(l||(l=[]),Vi(w))if(null!==w.findHostDirectiveDefs){const C=[];h=h||new Map,w.findHostDirectiveDefs(w,C,h),l.unshift(...C,w),kw(o,a,C.length)}else l.unshift(w),kw(o,a,0);else h=h||new Map,w.findHostDirectiveDefs?.(w,l,h),l.push(w)}return null===l?null:[l,h]}(o,c);let w,C;null===m?w=C=null:[w,C]=m,null!==w&&m_(o,a,c,w,h,C),h&&function __(o,a,c){if(a){const l=o.localNames=[];for(let h=0;h<a.length;h+=2){const m=c[a[h+1]];if(null==m)throw new le(-301,!1);l.push(a[h],m)}}}(c,l,h)}c.mergedAttrs=wu(c.mergedAttrs,c.attrs)}function m_(o,a,c,l,h,m){for(let R=0;R<l.length;R++)us(Wa(c,a),o,l[R].type);!function h0(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}(c,o.data.length,l.length);for(let R=0;R<l.length;R++){const k=l[R];k.providersResolver&&k.providersResolver(k)}let w=!1,C=!1,M=f_(o,a,l.length,null);for(let R=0;R<l.length;R++){const k=l[R];c.mergedAttrs=wu(c.mergedAttrs,k.hostAttrs),UC(o,c,a,M,k),BC(M,k,h),null!==k.contentQueries&&(c.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(c.flags|=64);const z=k.type.prototype;!w&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((o.preOrderHooks??=[]).push(c.index),w=!0),!C&&(z.ngOnChanges||z.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(c.index),C=!0),M++}!function cR(o,a,c){const h=a.directiveEnd,m=o.data,w=a.attrs,C=[];let M=null,R=null;for(let k=a.directiveStart;k<h;k++){const z=m[k],ee=c?c.get(z):null,Oe=ee?ee.outputs:null;M=Nw(z.inputs,k,M,ee?ee.inputs:null),R=Nw(z.outputs,k,R,Oe);const tt=null===M||null===w||ki(a)?null:Lw(M,k,w);C.push(tt)}null!==M&&(M.hasOwnProperty("class")&&(a.flags|=8),M.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=C,a.inputs=M,a.outputs=R}(o,c,m)}function VC(o,a,c){const l=c.directiveStart,h=c.directiveEnd,m=c.index,w=function Bl(){return Jt.lFrame.currentDirectiveIndex}();try{Fu(m);for(let C=l;C<h;C++){const M=o.data[C],R=a[C];Es(C),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&LC(M,R)}}finally{Fu(-1),Es(w)}}function LC(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function kw(o,a,c){a.componentOffset=c,(o.components??=[]).push(a.index)}function BC(o,a,c){if(c){if(a.exportAs)for(let l=0;l<a.exportAs.length;l++)c[a.exportAs[l]]=o;Vi(a)&&(c[""]=o)}}function UC(o,a,c,l,h){o.data[l]=h;const m=h.factory||(h.factory=oo(h.type)),w=new la(m,Vi(h),h_);o.blueprint[l]=w,c[l]=w,function d0(o,a,c,l,h){const m=h.hostBindings;if(m){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const C=~a.index;(function Ow(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(w)!=C&&w.push(C),w.push(c,l,m)}}(o,a,l,f_(o,c,h.hostVars,pe),h)}function nc(o,a,c,l,h,m){const w=is(o,a);!function Fw(o,a,c,l,h,m,w){if(null==m)o.removeAttribute(a,h,c);else{const C=null==w?ce(m):w(m,l||"",h);o.setAttribute(a,h,C,c)}}(a[U],w,m,o.value,c,l,h)}function pR(o,a,c,l,h,m){const w=m[a];if(null!==w)for(let C=0;C<w.length;)Vw(l,c,w[C++],w[C++],w[C++])}function Vw(o,a,c,l,h){const m=ur(null);try{const w=o.inputTransforms;null!==w&&w.hasOwnProperty(l)&&(h=w[l].call(a,h)),null!==o.setInput?o.setInput(a,h,c,l):a[l]=h}finally{ur(m)}}function Lw(o,a,c){let l=null,h=0;for(;h<c.length;){const m=c[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(o.hasOwnProperty(m)){null===l&&(l=[]);const w=o[m];for(let C=0;C<w.length;C+=2)if(w[C]===a){l.push(m,w[C+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return l}function Bw(o,a,c,l){return[o,!0,!1,a,null,0,l,c,null,null,null]}function f0(o,a){const c=o.contentQueries;if(null!==c)for(let l=0;l<c.length;l+=2){const m=c[l+1];if(-1!==m){const w=o.data[m];$a(c[l]),w.contentQueries(2,a[m],m)}}}function y_(o,a){return o[V]?o[q][Ar]=a:o[V]=a,o[q]=a,a}function Kh(o,a,c){$a(0);const l=ur(null);try{a(o,c)}finally{ur(l)}}function p0(o){return o[Qr]||(o[Qr]=[])}function g0(o){return o.cleanup||(o.cleanup=[])}function m0(o,a){const c=o[no],l=c?c.get(kp,null):null;l&&l.handleError(a)}function v_(o,a,c,l,h){for(let m=0;m<c.length;){const w=c[m++],C=c[m++];Vw(o.data[w],a[w],l,C,h)}}function su(o,a,c){const l=Ba(a,o);!function Dm(o,a,c){o.setValue(a,c)}(o[U],l,c)}function Uw(o,a){const c=Ii(a,o),l=c[vt];!function gR(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])}(l,c);const h=c[ar];null!==h&&null===c[mn]&&(c[mn]=vw(h,c[no])),jw(l,c,c[tr])}function jw(o,a,c){Hf(a);try{const l=o.viewQuery;null!==l&&Kh(1,l,c);const h=o.template;null!==h&&rR(o,a,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&f0(o,a),o.staticViewQueries&&Kh(2,o.viewQuery,c);const m=o.components;null!==m&&function mR(o,a){for(let c=0;c<a.length;c++)Uw(o,a[c])}(a,m)}catch(l){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),l}finally{a[Yt]&=-5,qf()}}let y0=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(c,l,h){const m=typeof Zone>"u"?null:Zone.current,w=new Yd(c,R=>{this.all.has(R)&&this.queue.set(R,m)},h);let C;this.all.add(w),w.notify();const M=()=>{w.cleanup(),C?.(),this.all.delete(w),this.queue.delete(w)};return C=l?.onDestroy(M),{destroy:M}}flush(){if(0!==this.queue.size)for(const[c,l]of this.queue)this.queue.delete(c),l?l.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}}return o.\u0275prov=nn({token:o,providedIn:"root",factory:()=>new o}),o})();function Lp(o,a,c){let l=c?o.styles:null,h=c?o.classes:null,m=0;if(null!==a)for(let w=0;w<a.length;w++){const C=a[w];"number"==typeof C?m=C:1==m?h=dt(h,C):2==m&&(l=dt(l,C+": "+a[++w]+";"))}c?o.styles=l:o.stylesWithoutHost=l,c?o.classes=h:o.classesWithoutHost=h}function Bp(o,a,c,l,h=!1){for(;null!==c;){const m=a[c.index];if(null!==m&&l.push(Nn(m)),qn(m)){for(let C=$r;C<m.length;C++){const M=m[C],R=M[vt].firstChild;null!==R&&Bp(M[vt],M,R,l)}m[ro]!==m[ar]&&l.push(m[ro])}const w=c.type;if(8&w)Bp(o,a,c.child,l);else if(32&w){const C=Tm(c,a);let M;for(;M=C();)l.push(M)}else if(16&w){const C=Dv(a,c);if(Array.isArray(C))l.push(...C);else{const M=Xa(a[re]);Bp(M[vt],M,C,l,!0)}}c=h?c.projectionNext:c.next}return l}function v0(o,a,c,l=!0){const h=a[ts].rendererFactory;h.begin&&h.begin();try{Gw(o,a,o.template,c)}catch(w){throw l&&m0(a,w),w}finally{h.end&&h.end(),a[ts].effectManager?.flush()}}function Gw(o,a,c,l){const h=a[Yt];if(256!=(256&h)){a[ts].effectManager?.flush(),Hf(a);try{ao(a),function ih(o){return Jt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&rR(o,a,c,2,l);const w=3==(3&h);if(w){const R=o.preOrderCheckHooks;null!==R&&ca(a,R,null)}else{const R=o.preOrderHooks;null!==R&&Ac(a,R,0,null),pr(a,0)}if(function vR(o){for(let a=Am(o);null!==a;a=Th(a)){if(!a[Xg])continue;const c=a[io];for(let l=0;l<c.length;l++){Pu(c[l])}}}(a),$C(a,2),null!==o.contentQueries&&f0(o,a),w){const R=o.contentCheckHooks;null!==R&&ca(a,R)}else{const R=o.contentHooks;null!==R&&Ac(a,R,1),pr(a,1)}!function bV(o,a){const c=o.hostBindingOpCodes;if(null===c)return;const l=de(a,ns);try{for(let h=0;h<c.length;h++){const m=c[h];if(m<0)Fu(~m);else{const w=m,C=c[++h],M=c[++h];Gf(C,w),l.runInContext(M,2,a[w])}}}finally{null===a[ns]&&xe(a,ns),Fu(-1)}}(o,a);const C=o.components;null!==C&&GC(a,C,0);const M=o.viewQuery;if(null!==M&&Kh(2,M,l),w){const R=o.viewCheckHooks;null!==R&&ca(a,R)}else{const R=o.viewHooks;null!==R&&Ac(a,R,2),pr(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Yt]&=-73,eh(a)}finally{qf()}}}function $C(o,a){for(let c=Am(o);null!==c;c=Th(c))for(let l=$r;l<c.length;l++)zC(c[l],a)}function ER(o,a,c){zC(Ii(a,o),c)}function zC(o,a){if(!function Bf(o){return 128==(128&o[Yt])}(o))return;const c=o[vt];if(80&o[Yt]&&0===a||1024&o[Yt]||2===a)Gw(c,o,c.template,o[tr]);else if(o[No]>0){$C(o,1);const h=o[vt].components;null!==h&&GC(o,h,1)}}function GC(o,a,c){for(let l=0;l<a.length;l++)ER(o,a[l],c)}class E_{get rootNodes(){const a=this._lView,c=a[vt];return Bp(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tr]}set context(a){this._lView[tr]=a}get destroyed(){return 256==(256&this._lView[Yt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Hn];if(qn(a)){const c=a[8],l=c?c.indexOf(this):-1;l>-1&&(eu(a,l),ma(c,l))}this._attachedToViewContainer=!1}nw(this._lView[vt],this._lView)}onDestroy(a){!function jf(o,a){if(256==(256&o[Yt]))throw new le(911,!1);null===o[Fi]&&(o[Fi]=[]),o[Fi].push(a)}(this._lView,a)}markForCheck(){ba(this._cdRefInjectingView||this._lView)}detach(){this._lView[Yt]&=-129}reattach(){this._lView[Yt]|=128}detectChanges(){v0(this._lView[vt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Tv(o,a){Zu(o,a,a[U],2,null,null)}(this._lView[vt],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=a}}class IR extends E_{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;v0(a[vt],a,a[tr],!1)}checkNoChanges(){}get context(){return null}}class HC extends a_{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=yn(a);return new jp(c,this.ngModule)}}function qC(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class WC{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,l){l=fe(l);const h=this.injector.get(a,Op,l);return h!==Op||c===Op?h:this.parentInjector.get(a,c,l)}}class jp extends Jv{get inputs(){const a=this.componentDef,c=a.inputTransforms,l=qC(a.inputs);if(null!==c)for(const h of l)c.hasOwnProperty(h.propName)&&(h.transform=c[h.propName]);return l}get outputs(){return qC(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function Jg(o){return o.map(pl).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,l,h){let m=(h=h||this.ngModule)instanceof $c?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const w=m?new WC(a,m):a,C=w.get(pd,null);if(null===C)throw new le(407,!1);const k={rendererFactory:C,sanitizer:w.get(t0,null),effectManager:w.get(y0,null)},z=C.createRenderer(null,this.componentDef),ee=this.componentDef.selectors[0][0]||"div",oe=l?function Hr(o,a,c,l){const m=l.get(Cw,!1)||c===it.ShadowDom,w=o.selectRootElement(a,m);return function sR(o){p_(o)}(w),w}(z,l,this.componentDef.encapsulation,w):Sm(z,ee,function E0(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(ee)),yt=this.componentDef.signals?4608:this.componentDef.onPush?576:528,$t=c0(0,null,null,1,0,null,null,null,null,null,null),Ue=a0(null,$t,null,yt,null,null,k,z,w,null,null);let ln,hn;Hf(Ue);try{const En=this.componentDef;let gs,LE=null;En.findHostDirectiveDefs?(gs=[],LE=new Map,En.findHostDirectiveDefs(En,gs,LE),gs.push(En)):gs=[En];const xx=function wR(o,a){const c=o[vt],l=on;return o[l]=a,Vp(c,l,2,"#host",null)}(Ue,oe),al=function bR(o,a,c,l,h,m,w){const C=h[vt];!function KC(o,a,c,l){for(const h of o)a.mergedAttrs=wu(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(Lp(a,a.mergedAttrs,!0),null!==c&&xh(l,c,a))}(l,o,a,w);let M=null;null!==a&&(M=vw(a,h[no]));const R=m.rendererFactory.createRenderer(a,c);let k=16;c.signals?k=4096:c.onPush&&(k=64);const z=a0(h,u0(c),null,k,h[o.index],o,m,R,null,null,M);return C.firstCreatePass&&kw(C,o,l.length-1),y_(h,z),h[o.index]=z}(xx,oe,En,gs,Ue,k,z);hn=Pl($t,on),oe&&function QC(o,a,c,l){if(l)Mo(o,c,["ng-version",gd.full]);else{const{attrs:h,classes:m}=function dc(o){const a=[],c=[];let l=1,h=2;for(;l<o.length;){let m=o[l];if("string"==typeof m)2===h?""!==m&&a.push(m,o[++l]):8===h&&c.push(m);else{if(!es(h))break;h=m}l++}return{attrs:a,classes:c}}(a.selectors[0]);h&&Mo(o,c,h),m&&m.length>0&&cw(o,c,m.join(" "))}}(z,En,oe,l),void 0!==c&&function YC(o,a,c){const l=o.projection=[];for(let h=0;h<a.length;h++){const m=c[h];l.push(null!=m?Array.from(m):null)}}(hn,this.ngContentSelectors,c),ln=function ZC(o,a,c,l,h,m){const w=ai(),C=h[vt],M=is(w,h);m_(C,h,w,c,null,l);for(let k=0;k<c.length;k++)wi(fa(h,C,w.directiveStart+k,w),h);VC(C,h,w),M&&wi(M,h);const R=fa(h,C,w.directiveStart+w.componentOffset,w);if(o[tr]=h[tr]=R,null!==m)for(const k of m)k(R,a);return NC(C,w,o),R}(al,En,gs,LE,Ue,[JC]),jw($t,Ue,null)}finally{qf()}return new Hw(this.componentType,ln,Hh(hn,Ue),Ue,hn)}}class Hw extends Iw{constructor(a,c,l,h,m){super(),this.location=l,this._rootLView=h,this._tNode=m,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new IR(h),this.componentType=a}setInput(a,c){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const m=this._rootLView;v_(m[vt],m,h,a,c),this.previousInputValues.set(a,c),ba(Ii(this._tNode.index,m))}}get injector(){return new Ka(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function JC(){const o=ai();Bi(je()[vt],o)}function qw(o){let a=function TR(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const l=[o];for(;a;){let h;if(Vi(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new le(903,!1);h=a.\u0275dir}if(h){if(c){l.push(h);const w=o;w.inputs=Ww(o.inputs),w.inputTransforms=Ww(o.inputTransforms),w.declaredInputs=Ww(o.declaredInputs),w.outputs=Ww(o.outputs);const C=h.hostBindings;C&&SV(o,C);const M=h.viewQuery,R=h.contentQueries;if(M&&Kw(o,M),R&&DV(o,R),ft(o.inputs,h.inputs),ft(o.declaredInputs,h.declaredInputs),ft(o.outputs,h.outputs),null!==h.inputTransforms&&(null===w.inputTransforms&&(w.inputTransforms={}),ft(w.inputTransforms,h.inputTransforms)),Vi(h)&&h.data.animation){const k=o.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let w=0;w<m.length;w++){const C=m[w];C&&C.ngInherit&&C(o),C===qw&&(c=!1)}}a=Object.getPrototypeOf(a)}!function CV(o){let a=0,c=null;for(let l=o.length-1;l>=0;l--){const h=o[l];h.hostVars=a+=h.hostVars,h.hostAttrs=wu(h.hostAttrs,c=wu(c,h.hostAttrs))}}(l)}function Ww(o){return o===Rt?{}:o===Nt?[]:o}function Kw(o,a){const c=o.viewQuery;o.viewQuery=c?(l,h)=>{a(l,h),c(l,h)}:a}function DV(o,a){const c=o.contentQueries;o.contentQueries=c?(l,h,m)=>{a(l,h,m),c(l,h,m)}:a}function SV(o,a){const c=o.hostBindings;o.hostBindings=c?(l,h)=>{a(l,h),c(l,h)}:a}function nD(o){const a=o.inputConfig,c={};for(const l in a)if(a.hasOwnProperty(l)){const h=a[l];Array.isArray(h)&&h[2]&&(c[l]=h[2])}o.inputTransforms=c}function b0(o){return!!rD(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function rD(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function zs(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function Qw(o,a,c,l){const h=je();return zs(h,Fo(),a)&&(An(),nc(sr(),h,o,a,c,l)),Qw}function Hp(o,a,c,l,h,m){const C=function $p(o,a,c,l){const h=zs(o,a,c);return zs(o,a+1,l)||h}(o,function os(){return Jt.lFrame.bindingIndex}(),c,h);return as(2),C?a+ce(c)+l+ce(h)+m:pe}function kR(o,a,c,l,h,m,w,C){const M=je(),R=An(),k=o+on,z=R.firstCreatePass?function $V(o,a,c,l,h,m,w,C,M){const R=a.consts,k=Vp(a,o,4,w||null,ss(R,C));g_(a,c,k,ss(R,M)),Bi(a,k);const z=k.tView=c0(2,k,l,h,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,R,null);return null!==a.queries&&(a.queries.template(a,k),z.queries=a.queries.embeddedTView(k)),k}(k,R,M,a,c,l,h,m,w):R.data[k];vs(z,!1);const ee=FR(R,M,z,o);uh()&&Nm(R,M,ee,z),wi(ee,M),y_(M,M[k]=Bw(ee,M,ee,z)),Su(z)&&Rw(R,M,z),null!=w&&OC(M,z,C)}let FR=function VR(o,a,c,l){return Ga(!0),a[U].createComment("")};function vD(o){return function Ua(o,a){return o[a]}(function zf(){return Jt.lFrame.contextLView}(),on+o)}function nb(o,a,c){const l=je();return zs(l,Fo(),a)&&function qo(o,a,c,l,h,m,w,C){const M=is(a,c);let k,R=a.inputs;!C&&null!=R&&(k=R[l])?(v_(o,c,k,l,h),Du(a)&&function ds(o,a){const c=Ii(a,o);16&c[Yt]||(c[Yt]|=64)}(c,a.index)):3&a.type&&(l=function lR(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(l),h=null!=w?w(h,a.value||"",l):h,m.setProperty(M,l,h))}(An(),sr(),l,o,a,l[U],c,!1),nb}function rb(o,a,c,l,h){const w=h?"class":"style";v_(o,c,a.inputs[w],w,l)}function ib(o,a,c,l){const h=je(),m=An(),w=on+o,C=h[U],M=m.firstCreatePass?function ED(o,a,c,l,h,m){const w=a.consts,M=Vp(a,o,2,l,ss(w,h));return g_(a,c,M,ss(w,m)),null!==M.attrs&&Lp(M,M.attrs,!1),null!==M.mergedAttrs&&Lp(M,M.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,M),M}(w,m,h,a,c,l):m.data[w],R=BR(m,h,M,C,a,o);h[w]=R;const k=Su(M);return vs(M,!0),xh(C,R,M),32!=(32&M.flags)&&uh()&&Nm(m,h,R,M),0===function Nl(){return Jt.lFrame.elementDepthCount}()&&wi(R,h),function Ic(){Jt.lFrame.elementDepthCount++}(),k&&(Rw(m,h,M),NC(m,M,h)),null!==l&&OC(h,M),ib}function Yh(){let o=ai();wc()?function Ou(){Jt.lFrame.isParent=!1}():(o=o.parent,vs(o,!1));const a=o;(function th(o){return Jt.skipHydrationRootTNode===o})(a)&&function uv(){Jt.skipHydrationRootTNode=null}(),function Ol(){Jt.lFrame.elementDepthCount--}();const c=An();return c.firstCreatePass&&(Bi(c,o),Cu(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Cn(o){return 0!=(8&o.flags)}(a)&&rb(c,a,je(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function dh(o){return 0!=(16&o.flags)}(a)&&rb(c,a,je(),a.stylesWithoutHost,!1),Yh}function ID(o,a,c,l){return ib(o,a,c,l),Yh(),ID}let BR=(o,a,c,l,h,m)=>(Ga(!0),Sm(l,h,function za(){return Jt.lFrame.currentNamespace}()));function jR(){return je()}function CD(o){return!!o&&"function"==typeof o.then}function $R(o){return!!o&&"function"==typeof o.subscribe}function DD(o,a,c,l){const h=je(),m=An(),w=ai();return function HR(o,a,c,l,h,m,w){const C=Su(l),R=o.firstCreatePass&&g0(o),k=a[tr],z=p0(a);let ee=!0;if(3&l.type||w){const tt=is(l,a),yt=w?w(tt):tt,$t=z.length,Ue=w?hn=>w(Nn(hn[l.index])):l.index;let ln=null;if(!w&&C&&(ln=function GR(o,a,c,l){const h=o.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const w=h[m];if(w===c&&h[m+1]===l){const C=a[Qr],M=h[m+2];return C.length>M?C[M]:null}"string"==typeof w&&(m+=2)}return null}(o,a,h,l.index)),null!==ln)(ln.__ngLastListenerFn__||ln).__ngNextListenerFn__=m,ln.__ngLastListenerFn__=m,ee=!1;else{m=x0(l,a,k,m,!1);const hn=c.listen(yt,h,m);z.push(m,hn),R&&R.push(h,Ue,$t,$t+1)}}else m=x0(l,a,k,m,!1);const oe=l.outputs;let Oe;if(ee&&null!==oe&&(Oe=oe[h])){const tt=Oe.length;if(tt)for(let yt=0;yt<tt;yt+=2){const En=a[Oe[yt]][Oe[yt+1]].subscribe(m),gs=z.length;z.push(m,En),R&&R.push(h,l.index,gs,-(gs+1))}}}(m,h,h[U],w,o,a,l),DD}function SD(o,a,c,l){try{return rs(6,a,c),!1!==c(l)}catch(h){return m0(o,h),!1}finally{rs(7,a,c)}}function x0(o,a,c,l,h){return function m(w){if(w===Function)return l;ba(o.componentOffset>-1?Ii(o.index,a):a);let M=SD(a,c,l,w),R=m.__ngNextListenerFn__;for(;R;)M=SD(a,c,R,w)&&M,R=R.__ngNextListenerFn__;return h&&!1===M&&w.preventDefault(),M}}function qR(o=1){return function oh(o){return(Jt.lFrame.contextLView=function hv(o,a){for(;o>0;)a=a[_e],o--;return a}(o,Jt.lFrame.contextLView))[tr]}(o)}function M0(o,a){return o<<17|a<<2}function md(o){return o>>17&32767}function Et(o){return 2|o}function Kc(o){return(131068&o)>>2}function an(o,a){return-131069&o|a<<2}function Jh(o){return 1|o}function kD(o,a,c,l,h){const m=o[c+1],w=null===a;let C=l?md(m):Kc(m),M=!1;for(;0!==C&&(!1===M||w);){const k=o[C+1];As(o[C],a)&&(M=!0,o[C+1]=l?Jh(k):Et(k)),C=l?md(k):Kc(k)}M&&(o[c+1]=l?Et(m):Jh(m))}function As(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&ju(o,a)>=0}function N0(o,a){return function Wo(o,a,c,l){const h=je(),m=An(),w=as(2);m.firstUpdatePass&&function k0(o,a,c,l){const h=o.data;if(null===h[c+1]){const m=h[Li()],w=function O0(o,a){return a>=o.expandoStartIndex}(o,c);(function S_(o,a){return 0!=(o.flags&(a?8:16))})(m,l)&&null===a&&!w&&(a=!1),a=function lb(o,a,c,l){const h=function bc(o){const a=Jt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let m=l?a.residualClasses:a.residualStyles;if(null===h)0===(l?a.classBindings:a.styleBindings)&&(c=Zc(c=db(null,o,a,c,l),a.attrs,l),m=null);else{const w=a.directiveStylingLast;if(-1===w||o[w]!==h)if(c=db(h,o,a,c,l),null===m){let M=function LD(o,a,c){const l=c?a.classBindings:a.styleBindings;if(0!==Kc(l))return o[md(l)]}(o,a,l);void 0!==M&&Array.isArray(M)&&(M=db(null,o,a,M[1],l),M=Zc(M,a.attrs,l),function rP(o,a,c,l){o[md(c?a.classBindings:a.styleBindings)]=l}(o,a,l,M))}else m=function C_(o,a,c){let l;const h=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<h;m++)l=Zc(l,o[m].hostAttrs,c);return Zc(l,a.attrs,c)}(o,a,l)}return void 0!==m&&(l?a.residualClasses=m:a.residualStyles=m),c}(h,m,a,l),function XR(o,a,c,l,h,m){let w=m?a.classBindings:a.styleBindings,C=md(w),M=Kc(w);o[l]=c;let k,R=!1;if(Array.isArray(c)?(k=c[1],(null===k||ju(c,k)>0)&&(R=!0)):k=c,h)if(0!==M){const ee=md(o[C+1]);o[l+1]=M0(ee,C),0!==ee&&(o[ee+1]=an(o[ee+1],l)),o[C+1]=function au(o,a){return 131071&o|a<<17}(o[C+1],l)}else o[l+1]=M0(C,0),0!==C&&(o[C+1]=an(o[C+1],l)),C=l;else o[l+1]=M0(M,0),0===C?C=l:o[M+1]=an(o[M+1],l),M=l;R&&(o[l+1]=Et(o[l+1])),kD(o,k,l,!0),kD(o,k,l,!1),function eP(o,a,c,l,h){const m=h?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&ju(m,a)>=0&&(c[l+1]=Jh(c[l+1]))}(a,k,o,l,m),w=M0(C,M),m?a.classBindings=w:a.styleBindings=w}(h,m,a,c,w,l)}}(m,o,w,l),a!==pe&&zs(h,w,a)&&function UD(o,a,c,l,h,m,w,C){if(!(3&a.type))return;const M=o.data,R=M[C+1],k=function R0(o){return 1==(1&o)}(R)?fb(M,a,c,h,Kc(R),w):void 0;D_(k)||(D_(m)||function JR(o){return 2==(2&o)}(R)&&(m=fb(M,null,c,h,C,w)),function aC(o,a,c,l,h){if(a)h?o.addClass(c,l):o.removeClass(c,l);else{let m=-1===l.indexOf("-")?void 0:go.DashCase;null==h?o.removeStyle(c,l,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=go.Important),o.setStyle(c,l,h,m))}}(l,w,Ba(Li(),c),h,m))}(m,m.data[Li()],h,h[U],o,h[w+1]=function jD(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=lt(jc(o)))),o}(a,c),l,w)}(o,a,null,!0),N0}function db(o,a,c,l,h){let m=null;const w=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<w&&(m=a[C],l=Zc(l,m.hostAttrs,h),m!==o);)C++;return null!==o&&(c.directiveStylingLast=C),l}function Zc(o,a,c){const l=c?1:2;let h=-1;if(null!==a)for(let m=0;m<a.length;m++){const w=a[m];"number"==typeof w?h=w:h===l&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),ci(o,w,!!c||a[++m]))}return void 0===o?null:o}function fb(o,a,c,l,h,m){const w=null===a;let C;for(;h>0;){const M=o[h],R=Array.isArray(M),k=R?M[1]:M,z=null===k;let ee=c[h+1];ee===pe&&(ee=z?Nt:void 0);let oe=z?Mc(ee,l):k===l?ee:void 0;if(R&&!D_(oe)&&(oe=Mc(M,l)),D_(oe)&&(C=oe,w))return C;const Oe=o[h+1];h=w?md(Oe):Kc(Oe)}if(null!==a){let M=m?a.residualClasses:a.residualStyles;null!=M&&(C=Mc(M,l))}return C}function D_(o){return void 0!==o}function V0(o,a=""){const c=je(),l=An(),h=o+on,m=l.firstCreatePass?Vp(l,h,1,a,null):l.data[h],w=L0(l,c,m,a,o);c[h]=w,uh()&&Nm(l,c,w,m),vs(m,!1)}let L0=(o,a,c,l,h)=>(Ga(!0),function Cm(o,a){return o.createText(a)}(a[U],l));function B0(o){return U0("",o,""),B0}function U0(o,a,c){const l=je(),h=function Gp(o,a,c,l){return zs(o,Fo(),c)?a+ce(c)+l:pe}(l,o,a,c);return h!==pe&&su(l,Li(),h),U0}function mb(o,a,c,l,h){const m=je(),w=Hp(m,o,a,c,l,h);return w!==pe&&su(m,Li(),w),mb}const Aa=void 0;var fP=["en",[["a","p"],["AM","PM"],Aa],[["AM","PM"],Aa,Aa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Aa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Aa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Aa,"{1} 'at' {0}",Aa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hP(o){const c=Math.floor(Math.abs(o)),l=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===l?1:5}];let Ca={};function Xp(o){const a=function P_(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=Db(a);if(c)return c;const l=a.split("-")[0];if(c=Db(l),c)return c;if("en"===l)return fP;throw new le(701,!1)}function eg(o){return Xp(o)[Zt.PluralCase]}function Db(o){return o in Ca||(Ca[o]=Rn.ng&&Rn.ng.common&&Rn.ng.common.locales&&Rn.ng.common.locales[o]),Ca[o]}var Zt=(()=>((Zt=Zt||{})[Zt.LocaleId=0]="LocaleId",Zt[Zt.DayPeriodsFormat=1]="DayPeriodsFormat",Zt[Zt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Zt[Zt.DaysFormat=3]="DaysFormat",Zt[Zt.DaysStandalone=4]="DaysStandalone",Zt[Zt.MonthsFormat=5]="MonthsFormat",Zt[Zt.MonthsStandalone=6]="MonthsStandalone",Zt[Zt.Eras=7]="Eras",Zt[Zt.FirstDayOfWeek=8]="FirstDayOfWeek",Zt[Zt.WeekendRange=9]="WeekendRange",Zt[Zt.DateFormat=10]="DateFormat",Zt[Zt.TimeFormat=11]="TimeFormat",Zt[Zt.DateTimeFormat=12]="DateTimeFormat",Zt[Zt.NumberSymbols=13]="NumberSymbols",Zt[Zt.NumberFormats=14]="NumberFormats",Zt[Zt.CurrencyCode=15]="CurrencyCode",Zt[Zt.CurrencySymbol=16]="CurrencySymbol",Zt[Zt.CurrencyName=17]="CurrencyName",Zt[Zt.Currencies=18]="Currencies",Zt[Zt.Directionality=19]="Directionality",Zt[Zt.PluralCase=20]="PluralCase",Zt[Zt.ExtraData=21]="ExtraData",Zt))();const yd="en-US";let Z0=yd;function ag(o,a,c,l,h){if(o=ze(o),Array.isArray(o))for(let m=0;m<o.length;m++)ag(o[m],a,c,l,h);else{const m=An(),w=je();let C=Yu(o)?o:ze(o.provide),M=Ym(o);const R=ai(),k=1048575&R.providerIndexes,z=R.directiveStart,ee=R.providerIndexes>>20;if(Yu(o)||!o.multi){const oe=new la(M,h,h_),Oe=Fb(C,a,h?k:k+ee,z);-1===Oe?(us(Wa(R,w),m,C),iE(m,o,a.length),a.push(C),R.directiveStart++,R.directiveEnd++,h&&(R.providerIndexes+=1048576),c.push(oe),w.push(oe)):(c[Oe]=oe,w[Oe]=oe)}else{const oe=Fb(C,a,k+ee,z),Oe=Fb(C,a,k,k+ee),yt=Oe>=0&&c[Oe];if(h&&!yt||!h&&!(oe>=0&&c[oe])){us(Wa(R,w),m,C);const $t=function IS(o,a,c,l,h){const m=new la(o,c,h_);return m.multi=[],m.index=a,m.componentProviders=0,K_(m,h,l&&!c),m}(h?Z_:ES,c.length,h,l,M);!h&&yt&&(c[Oe].providerFactory=$t),iE(m,o,a.length,0),a.push(C),R.directiveStart++,R.directiveEnd++,h&&(R.providerIndexes+=1048576),c.push($t),w.push($t)}else iE(m,o,oe>-1?oe:Oe,K_(c[h?Oe:oe],M,!h&&l));!h&&l&&yt&&c[Oe].componentProviders++}}}function iE(o,a,c,l){const h=Yu(a),m=function Km(o){return!!o.useClass}(a);if(h||m){const M=(m?ze(a.useClass):a).prototype.ngOnDestroy;if(M){const R=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const k=R.indexOf(c);-1===k?R.push(c,[l,M]):R[k+1].push(l,M)}else R.push(c,M)}}}function K_(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function Fb(o,a,c,l){for(let h=c;h<l;h++)if(a[h]===o)return h;return-1}function ES(o,a,c,l){return sE(this.multi,[])}function Z_(o,a,c,l){const h=this.multi;let m;if(this.providerFactory){const w=this.providerFactory.componentProviders,C=fa(c,c[vt],this.providerFactory.index,l);m=C.slice(0,w),sE(h,m);for(let M=w;M<C.length;M++)m.push(C[M])}else m=[],sE(h,m);return m}function sE(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function oE(o,a=[]){return c=>{c.providersResolver=(l,h)=>function kb(o,a,c){const l=An();if(l.firstCreatePass){const h=Vi(o);ag(c,l.data,l.blueprint,h,!0),ag(a,l.data,l.blueprint,h,!1)}}(l,h?h(o):o,a)}}class Id{}class Vb{}function aE(o,a){return new uE(o,a??null,[])}class uE extends Id{constructor(a,c,l){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new HC(this);const h=oi(a);this._bootstrapComponents=iu(h.bootstrap),this._r3Injector=tR(a,c,[{provide:Id,useValue:this},{provide:a_,useValue:this.componentFactoryResolver},...l],lt(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Yc extends Vb{constructor(a){super(),this.moduleType=a}create(a){return new uE(this.moduleType,a,[])}}class Lb extends Id{constructor(a){super(),this.componentFactoryResolver=new HC(this),this.instance=null;const c=new Lh([...a.providers,{provide:Id,useValue:this},{provide:a_,useValue:this.componentFactoryResolver}],a.parent||ud(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Bb(o,a,c=null){return new Lb({providers:o,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let bS=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const l=Bv(0,c.type),h=l.length>0?Bb([l],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,h)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=nn({token:o,providedIn:"environment",factory:()=>new o(H($c))}),o})();function Q_(o){o.getStandaloneInjector=a=>a.get(bS).getOrCreateStandaloneInjector(o)}function Hi(o,a,c,l){return function SS(o,a,c,l,h,m){const w=a+c;return zs(o,w,h)?function Wc(o,a,c){return o[a]=c}(o,w+1,m?l.call(m,h):l(h)):function sf(o,a){const c=o[a];return c===pe?void 0:c}(o,w+1)}(je(),function Un(){const o=Jt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}(),o,a,c,l)}function Hs(o){return a=>{setTimeout(o,void 0,a)}}const Sa=class Jr extends _.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,l){let h=a,m=c||(()=>null),w=l;if(a&&"object"==typeof a){const M=a;h=M.next?.bind(M),m=M.error?.bind(M),w=M.complete?.bind(M)}this.__isAsync&&(m=Hs(m),h&&(h=Hs(h)),w&&(w=Hs(w)));const C=super.subscribe({next:h,error:m,complete:w});return a instanceof G.w0&&a.add(C),C}};function Pt(){return this._results[Symbol.iterator]()}class Vt{get changes(){return this._changes||(this._changes=new Sa)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Vt.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=Pt)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const l=this;l.dirty=!1;const h=function $i(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function _m(o,a,c){if(o.length!==a.length)return!1;for(let l=0;l<o.length;l++){let h=o[l],m=a[l];if(c&&(h=c(h),m=c(m)),m!==h)return!1}return!0}(l._results,h,c))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let fE=(()=>{class o{}return o.__NG_ELEMENT_ID__=Ze,o})();const gt=fE,Ae=class extends gt{constructor(a,c,l){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c,null)}createEmbeddedViewImpl(a,c,l){const w=this._declarationTContainer.tView,C=a0(this._declarationLView,w,a,4096&this._declarationLView[Yt]?4096:16,null,w.declTNode,null,null,null,c||null,l||null);C[st]=this._declarationLView[this._declarationTContainer.index];const R=this._declarationLView[un];return null!==R&&(C[un]=R.createEmbeddedView(w)),jw(w,C,a),new E_(C)}};function Ze(){return Kr(ai(),je())}function Kr(o,a){return 4&o.type?new Ae(a,o,Hh(o,a)):null}let ey=(()=>{class o{}return o.__NG_ELEMENT_ID__=cn,o})();function cn(){return fg(ai(),je())}const hg=ey,Zb=class extends hg{constructor(a,c,l){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=l}get element(){return Hh(this._hostTNode,this._hostLView)}get injector(){return new Ka(this._hostTNode,this._hostLView)}get parentInjector(){const a=Bo(this._hostTNode,this._hostLView);if(da(a)){const c=jl(a,this._hostLView),l=ha(a);return new Ka(c[vt].data[l+8],c)}return new Ka(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=Sr(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-$r}createEmbeddedView(a,c,l){let h,m;"number"==typeof l?h=l:null!=l&&(h=l.index,m=l.injector);const C=a.createEmbeddedViewImpl(c||{},m,null);return this.insertImpl(C,h,false),C}createComponent(a,c,l,h,m){const w=a&&!function Bu(o){return"function"==typeof o}(a);let C;if(w)C=c;else{const tt=c||{};C=tt.index,l=tt.injector,h=tt.projectableNodes,m=tt.environmentInjector||tt.ngModuleRef}const M=w?a:new jp(yn(a)),R=l||this.parentInjector;if(!m&&null==M.ngModule){const yt=(w?R:this.parentInjector).get($c,null);yt&&(m=yt)}yn(M.componentType??{});const oe=M.create(R,h,null,m);return this.insertImpl(oe.hostView,C,false),oe}insert(a,c){return this.insertImpl(a,c,!1)}insertImpl(a,c,l){const h=a._lView,m=h[vt];if(function Xd(o){return qn(o[Hn])}(h)){const M=this.indexOf(a);if(-1!==M)this.detach(M);else{const R=h[Hn],k=new Zb(R,R[Or],R[Hn]);k.detach(k.indexOf(a))}}const w=this._adjustIndex(c),C=this._lContainer;if(function Mm(o,a,c,l){const h=$r+l,m=c.length;l>0&&(c[h-1][Ar]=a),l<m-$r?(a[Ar]=c[h],ga(c,$r+l,a)):(c.push(a),a[Ar]=null),a[Hn]=c;const w=a[st];null!==w&&c!==w&&function Ho(o,a){const c=o[io];a[re]!==a[Hn][Hn][re]&&(o[Xg]=!0),null===c?o[io]=[a]:c.push(a)}(w,a);const C=a[un];null!==C&&C.insertView(o),a[Yt]|=128}(m,h,C,w),!l){const M=Ep(w,C),R=h[U],k=tu(R,C[ro]);null!==k&&function ew(o,a,c,l,h,m){l[ar]=h,l[Or]=a,Zu(o,l,c,1,h,m)}(m,C[Or],R,h,k,M)}return a.attachToViewContainerRef(),ga(jt(C),w,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=Sr(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),l=eu(this._lContainer,c);l&&(ma(jt(this._lContainer),c),nw(l[vt],l))}detach(a){const c=this._adjustIndex(a,-1),l=eu(this._lContainer,c);return l&&null!=ma(jt(this._lContainer),c)?new E_(l):null}_adjustIndex(a,c=0){return a??this.length+c}};function Sr(o){return o[8]}function jt(o){return o[8]||(o[8]=[])}function fg(o,a){let c;const l=a[o.index];return qn(l)?c=l:(c=Bw(l,a,null,o),a[o.index]=c,y_(a,c)),PS(c,a,o,l),new Zb(c,o,a)}let PS=function wr(o,a,c,l){if(o[ro])return;let h;h=8&c.type?Nn(l):function kn(o,a){const c=o[U],l=c.createComment(""),h=is(a,o);return id(c,tu(c,h),l,function Dh(o,a){return o.nextSibling(a)}(c,h),!1),l}(a,c),o[ro]=h};class ty{constructor(a){this.queryList=a,this.matches=null}clone(){return new ty(this.queryList)}setDirty(){this.queryList.setDirty()}}class el{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const l=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let m=0;m<l;m++){const w=c.getByIndex(m);h.push(this.queries[w.indexInDeclarationView].clone())}return new el(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==nl(a,c).matches&&this.queries[c].setDirty()}}class NS{constructor(a,c,l=null){this.predicate=a,this.flags=c,this.read=l}}class tl{constructor(a=[]){this.queries=a}elementStart(a,c){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let l=0;l<this.length;l++){const h=null!==c?c.length:0,m=this.getByIndex(l).embeddedTView(a,h);m&&(m.indexInDeclarationView=l,null!==c?c.push(m):c=[m])}return null!==c?new tl(c):null}template(a,c){for(let l=0;l<this.queries.length;l++)this.queries[l].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Qb{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Qb(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let l=a.parent;for(;null!==l&&8&l.type&&l.index!==c;)l=l.parent;return c===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const m=l[h];this.matchTNodeWithReadOption(a,c,gg(c,m)),this.matchTNodeWithReadOption(a,c,lo(c,a,m,!1,!1))}else l===fE?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,lo(c,a,l,!1,!1))}matchTNodeWithReadOption(a,c,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===fd||h===ey||h===fE&&4&c.type)this.addMatch(c.index,-2);else{const m=lo(c,a,h,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,l)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function gg(o,a){const c=o.localNames;if(null!==c)for(let l=0;l<c.length;l+=2)if(c[l]===a)return c[l+1];return null}function kS(o,a,c,l){return-1===c?function OS(o,a){return 11&o.type?Hh(o,a):4&o.type?Kr(o,a):null}(a,o):-2===c?function Zo(o,a,c){return c===fd?Hh(a,o):c===fE?Kr(a,o):c===ey?fg(a,o):void 0}(o,a,l):fa(o,o[vt],c,a)}function pE(o,a,c,l){const h=a[un].queries[l];if(null===h.matches){const m=o.data,w=c.matches,C=[];for(let M=0;M<w.length;M+=2){const R=w[M];C.push(R<0?null:kS(a,m[R],w[M+1],c.metadata.read))}h.matches=C}return h.matches}function gE(o,a,c,l){const h=o.queries.getByIndex(c),m=h.matches;if(null!==m){const w=pE(o,a,h,c);for(let C=0;C<m.length;C+=2){const M=m[C];if(M>0)l.push(w[C/2]);else{const R=m[C+1],k=a[-M];for(let z=$r;z<k.length;z++){const ee=k[z];ee[st]===ee[Hn]&&gE(ee[vt],ee,R,l)}if(null!==k[io]){const z=k[io];for(let ee=0;ee<z.length;ee++){const oe=z[ee];gE(oe[vt],oe,R,l)}}}}}return l}function FS(o){const a=je(),c=An(),l=sh();$a(l+1);const h=nl(c,l);if(o.dirty&&function Jd(o){return 4==(4&o[Yt])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const m=h.crossesNgTemplate?gE(c,a,l,[]):pE(c,a,h,l);o.reset(m,bw),o.notifyOnChanges()}return!0}return!1}function mE(o,a,c,l){const h=An();if(h.firstCreatePass){const m=ai();(function VS(o,a,c){null===o.queries&&(o.queries=new tl),o.queries.track(new Qb(a,c))})(h,new NS(a,c,l),m.index),function ny(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}!function xa(o,a,c){const l=new Vt(4==(4&c));(function aR(o,a,c,l){const h=p0(a);h.push(c),o.firstCreatePass&&g0(o).push(l,h.length-1)})(o,a,l,l.destroy),null===a[un]&&(a[un]=new el),a[un].queries.push(new ty(l))}(h,je(),c)}function he(){return function _E(o,a){return o[un].queries[a].queryList}(je(),sh())}function nl(o,a){return o.queries.getByIndex(a)}function uf(o){return!!oi(o)}const iy=new jn("Application Initializer");let ic=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,l)=>{this.resolve=c,this.reject=l}),this.appInits=Te(iy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const h of this.appInits){const m=h();if(CD(m))c.push(m);else if($R(m)){const w=new Promise((C,M)=>{m.subscribe({complete:C,error:M})});c.push(w)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{l()}).catch(h=>{this.reject(h)}),0===c.length&&l(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=nn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),fu=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=nn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const pu=new jn("LocaleId",{providedIn:"root",factory:()=>Te(pu,Ft.Optional|Ft.SkipSelf)||function sy(){return typeof $localize<"u"&&$localize.locale||yd}()}),YS=new jn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Ad=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new X.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=nn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();class aT{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let ay=(()=>{class o{compileModuleSync(c){return new Yc(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const l=this.compileModuleSync(c),m=iu(oi(c).declarations).reduce((w,C)=>{const M=yn(C);return M&&w.push(new jp(M)),w},[]);return new aT(l,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=nn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function cT(...o){}class Ss{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sa(!1),this.onMicrotaskEmpty=new Sa(!1),this.onStable=new Sa(!1),this.onError=new Sa(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&c,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function ex(){const o="function"==typeof Rn.requestAnimationFrame;let a=Rn[o?"requestAnimationFrame":"setTimeout"],c=Rn[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&c){const l=a[Zone.__symbol__("OriginalDelegate")];l&&(a=l);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function nx(o){const a=()=>{!function tx(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Rn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,hf(o),o.isCheckStableRunning=!0,sc(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),hf(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,l,h,m,w,C)=>{try{return rx(o),c.invokeTask(h,m,w,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),lT(o)}},onInvoke:(c,l,h,m,w,C,M)=>{try{return rx(o),c.invoke(h,m,w,C,M)}finally{o.shouldCoalesceRunChangeDetection&&a(),lT(o)}},onHasTask:(c,l,h,m)=>{c.hasTask(h,m),l===h&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,hf(o),sc(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,l,h,m)=>(c.handleError(h,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ss.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(Ss.isInAngularZone())throw new le(909,!1)}run(a,c,l){return this._inner.run(a,c,l)}runTask(a,c,l,h){const m=this._inner,w=m.scheduleEventTask("NgZoneEvent: "+h,a,br,cT,cT);try{return m.runTask(w,c,l)}finally{m.cancelTask(w)}}runGuarded(a,c,l){return this._inner.runGuarded(a,c,l)}runOutsideAngular(a){return this._outer.run(a)}}const br={};function sc(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function hf(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function rx(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function lT(o){o._nesting--,sc(o)}class Pn{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sa,this.onMicrotaskEmpty=new Sa,this.onStable=new Sa,this.onError=new Sa}run(a,c,l){return a.apply(c,l)}runGuarded(a,c,l){return a.apply(c,l)}runOutsideAngular(a){return a()}runTask(a,c,l,h){return a.apply(c,l)}}const Yn=new jn("",{providedIn:"root",factory:ff});function ff(){const o=Te(Ss);let a=!0;const c=new me.y(h=>{a=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{h.next(a),h.complete()})}),l=new me.y(h=>{let m;o.runOutsideAngular(()=>{m=o.onStable.subscribe(()=>{Ss.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(a=!0,h.next(!0))})})});const w=o.onUnstable.subscribe(()=>{Ss.assertInAngularZone(),a&&(a=!1,o.runOutsideAngular(()=>{h.next(!1)}))});return()=>{m.unsubscribe(),w.unsubscribe()}});return(0,Pe.T)(c,l.pipe((0,et.B)()))}const bE=new jn(""),TE=new jn("");let CE,ix=(()=>{class o{constructor(c,l,h){this._ngZone=c,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,CE||(function sx(o){CE=o}(h),h.addToWindow(l)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ss.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(c)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,l,h){let m=-1;l&&l>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==m),c(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:h})}whenStable(c,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,l,h){return[]}}return o.\u0275fac=function(c){return new(c||o)(H(Ss),H(AE),H(TE))},o.\u0275prov=nn({token:o,factory:o.\u0275fac}),o})(),AE=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,l){this._applications.set(c,l)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,l=!0){return CE?.findTestabilityInTree(this,c,l)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=nn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),il=null;const ox=new jn("AllowMultipleToken"),dT=new jn("PlatformDestroyListeners"),hT=new jn("appBootstrapListener");class QP{constructor(a,c){this.name=a,this.token=c}}function uy(o,a,c=[]){const l=`Platform: ${a}`,h=new jn(l);return(m=[])=>{let w=mu();if(!w||w.injector.get(ox,!1)){const C=[...c,...m,{provide:h,useValue:!0}];o?o(C):function YP(o){if(il&&!il.get(ox,!1))throw new le(400,!1);(function fT(){!function ua(o){Al=o}(()=>{throw new le(600,!1)})})(),il=o;const a=o.get(mT);(function Cd(o){o.get(cd,null)?.forEach(c=>c())})(o)}(function gT(o=[],a){return Wh.create({name:a,providers:[{provide:Vh,useValue:"platform"},{provide:dT,useValue:new Set([()=>il=null])},...o]})}(C,l))}return function SE(o){const a=mu();if(!a)throw new le(401,!1);return a}()}}function mu(){return il?.get(mT)??null}let mT=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,l){const h=function ux(o="zone.js",a){return"noop"===o?new Pn:"zone.js"===o?new Ss(a):o}(l?.ngZone,function pf(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return h.run(()=>{const m=function wS(o,a,c){return new uE(o,a,c)}(c.moduleType,this.injector,function Ig(o){return[{provide:Ss,useFactory:o},{provide:Sp,multi:!0,useFactory:()=>{const a=Te(cx,{optional:!0});return()=>a.initialize()}},{provide:ly,useFactory:dy},{provide:Yn,useFactory:ff}]}(()=>h)),w=m.injector.get(kp,null);return h.runOutsideAngular(()=>{const C=h.onError.subscribe({next:M=>{w.handleError(M)}});m.onDestroy(()=>{cy(this._modules,m),C.unsubscribe()})}),function xE(o,a,c){try{const l=c();return CD(l)?l.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):l}catch(l){throw a.runOutsideAngular(()=>o.handleError(l)),l}}(w,h,()=>{const C=m.injector.get(ic);return C.runInitializers(),C.donePromise.then(()=>(function O_(o){tn(o,"Expected localeId to be defined"),"string"==typeof o&&(Z0=o.toLowerCase().replace(/_/g,"-"))}(m.injector.get(pu,yd)||yd),this._moduleDoBootstrap(m),m))})})}bootstrapModule(c,l=[]){const h=gf({},l);return function ax(o,a,c){const l=new Yc(c);return Promise.resolve(l)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(c){const l=c.injector.get(hi);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new le(-403,!1);c.instance.ngDoBootstrap(l)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const c=this._injector.get(dT,null);c&&(c.forEach(l=>l()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(H(Wh))},o.\u0275prov=nn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function gf(o,a){return Array.isArray(a)?a.reduce(gf,o):{...o,...a}}let hi=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Te(ly),this.zoneIsStable=Te(Yn),this.componentTypes=[],this.components=[],this.isStable=Te(Ad).hasPendingTasks.pipe((0,at.w)(c=>c?(0,Ke.of)(!1):this.zoneIsStable),function Fe(o,a=Ge.y){return o=o??ht,(0,De.e)((c,l)=>{let h,m=!0;c.subscribe((0,ie.x)(l,w=>{const C=a(w);(m||!o(h,C))&&(m=!1,h=C,l.next(w))}))})}(),(0,et.B)()),this._injector=Te($c)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,l){const h=c instanceof Jv;if(!this._injector.get(ic).done)throw!h&&Ro(c),new le(405,!1);let w;w=h?c:this._injector.get(a_).resolveComponentFactory(c),this.componentTypes.push(w.componentType);const C=function ZP(o){return o.isBoundToModule}(w)?void 0:this._injector.get(Id),R=w.create(Wh.NULL,[],l||w.selector,C),k=R.location.nativeElement,z=R.injector.get(bE,null);return z?.registerApplication(k),R.onDestroy(()=>{this.detachView(R.hostView),cy(this.components,R),z?.unregisterApplication(k)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const l=c;this._views.push(l),l.attachToAppRef(this)}detachView(c){const l=c;cy(this._views,l),l.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const l=this._injector.get(hT,[]);l.push(...this._bootstrapListeners),l.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>cy(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new le(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=nn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function cy(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}const ly=new jn("",{providedIn:"root",factory:()=>Te(kp).handleError.bind(void 0)});function dy(){const o=Te(Ss),a=Te(kp);return c=>o.runOutsideAngular(()=>a.handleError(c))}let cx=(()=>{class o{constructor(){this.zone=Te(Ss),this.applicationRef=Te(hi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=nn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function dx(){return!1}let hx=(()=>{class o{}return o.__NG_ELEMENT_ID__=fy,o})();function fy(o){return function fx(o,a,c){if(Du(o)&&!c){const l=Ii(o.index,a);return new E_(l,l)}return 47&o.type?new E_(a[re],a):null}(ai(),je(),16==(16&o))}class IT{constructor(){}supports(a){return b0(a)}create(a){return new _y(a)}}const mx=(o,a)=>a;class _y{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||mx}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,l=this._removalsHead,h=0,m=null;for(;c||l;){const w=!l||c&&c.currentIndex<yy(l,h,m)?c:l,C=yy(w,h,m),M=w.currentIndex;if(w===l)h--,l=l._nextRemoved;else if(c=c._next,null==w.previousIndex)h++;else{m||(m=[]);const R=C-h,k=M-h;if(R!=k){for(let ee=0;ee<R;ee++){const oe=ee<m.length?m[ee]:m[ee]=0,Oe=oe+ee;k<=Oe&&Oe<R&&(m[ee]=oe+1)}m[w.previousIndex]=k-R}}C!==M&&a(w,C,M)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!b0(a))throw new le(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,m,w,c=this._itHead,l=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)m=a[C],w=this._trackByFn(C,m),null!==c&&Object.is(c.trackById,w)?(l&&(c=this._verifyReinsertion(c,m,w,C)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,w,C),l=!0),c=c._next}else h=0,function MV(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Symbol.iterator]();let l;for(;!(l=c.next()).done;)a(l.value)}}(a,C=>{w=this._trackByFn(h,C),null!==c&&Object.is(c.trackById,w)?(l&&(c=this._verifyReinsertion(c,C,w,h)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,w,h),l=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,l,h){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,m,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,m,h)):a=this._addAfter(new tN(c,l),m,h),a}_verifyReinsertion(a,c,l,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==m?a=this._reinsertAfter(m,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,m=a._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(a,c,l),this._addToMoves(a,l),a}_moveAfter(a,c,l){return this._unlink(a),this._insertAfter(a,c,l),this._addToMoves(a,l),a}_addAfter(a,c,l){return this._insertAfter(a,c,l),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,l){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new Tr),this._linkedRecords.put(a),a.currentIndex=l,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,l=a._next;return null===c?this._itHead=l:c._next=l,null===l?this._itTail=c:l._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Tr),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class tN{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nN{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===c||c<=l.currentIndex)&&Object.is(l.trackById,a))return l;return null}remove(a){const c=a._prevDup,l=a._nextDup;return null===c?this._head=l:c._nextDup=l,null===l?this._tail=c:l._prevDup=c,null===this._head}}class Tr{constructor(){this.map=new Map}put(a){const c=a.trackById;let l=this.map.get(c);l||(l=new nN,this.map.set(c,l)),l.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yy(o,a,c){const l=o.previousIndex;if(null===l)return l;let h=0;return c&&l<c.length&&(h=c[l]),l+a+h}class NE{constructor(){}supports(a){return a instanceof Map||rD(a)}create(){return new _x}}class _x{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||rD(a)))throw new le(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(l,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,l),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(h,l);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let l=c;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const l=a._prev;return c._next=a,c._prev=l,a._prev=c,l&&(l._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const m=h._prev,w=h._next;return m&&(m._next=w),w&&(w._prev=m),h._next=null,h._prev=null,h}const l=new rN(a);return this._records.set(a,l),l.currentValue=c,this._addToAdditions(l),l}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(l=>c(a[l],l))}}class rN{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bg(){return new wT([new IT])}let wT=(()=>{class o{constructor(c){this.factories=c}static create(c,l){if(null!=l){const h=l.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:l=>o.create(c,l||bg()),deps:[[o,new tp,new Nc]]}}find(c){const l=this.factories.find(h=>h.supports(c));if(null!=l)return l;throw new le(901,!1)}}return o.\u0275prov=nn({token:o,providedIn:"root",factory:bg}),o})();function mf(){return new _u([new NE])}let _u=(()=>{class o{constructor(c){this.factories=c}static create(c,l){if(l){const h=l.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:l=>o.create(c,l||mf()),deps:[[o,new tp,new Nc]]}}find(c){const l=this.factories.find(h=>h.supports(c));if(l)return l;throw new le(901,!1)}}return o.\u0275prov=nn({token:o,providedIn:"root",factory:mf}),o})();const bT=uy(null,"core",[]);let TT=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(H(hi))},o.\u0275mod=ml({type:o}),o.\u0275inj=mi({}),o})();function Cx(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function Sx(o){const a=yn(o);if(!a)return null;const c=new jp(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3399:(Bt,$e,j)=>{j.d($e,{Z:()=>ft});var _=j(229),G=j(5031),X=j(7592),me=j(7879);class Pe{constructor(dt,Le){this._delegate=dt,this.firebase=Le,(0,X._addComponent)(dt,new G.wA("app-compat",()=>this,"PUBLIC")),this.container=dt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(dt){this._delegate.automaticDataCollectionEnabled=dt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(dt=>{this._delegate.checkDestroyed(),dt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,X.deleteApp)(this._delegate)))}_getService(dt,Le=X._DEFAULT_ENTRY_NAME){var Ct;this._delegate.checkDestroyed();const ze=this._delegate.container.getProvider(dt);return!ze.isInitialized()&&"EXPLICIT"===(null===(Ct=ze.getComponent())||void 0===Ct?void 0:Ct.instantiationMode)&&ze.initialize(),ze.getImmediate({identifier:Le})}_removeServiceInstance(dt,Le=X._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(dt).clearInstance(Le)}_addComponent(dt){(0,X._addComponent)(this._delegate,dt)}_addOrOverwriteComponent(dt){(0,X._addOrOverwriteComponent)(this._delegate,dt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const et=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),De=function Ge(){const lt=function at(lt){const dt={},Le={__esModule:!0,initializeApp:function Be(le,W={}){const ce=X.initializeApp(le,W);if((0,_.r3)(dt,ce.name))return dt[ce.name];const ve=new lt(ce,Le);return dt[ce.name]=ve,ve},app:ze,registerVersion:X.registerVersion,setLogLevel:X.setLogLevel,onLog:X.onLog,apps:null,SDK_VERSION:X.SDK_VERSION,INTERNAL:{registerComponent:function ke(le){const W=le.name,ce=W.replace("-compat","");if(X._registerComponent(le)&&"PUBLIC"===le.type){const ve=(rn=ze())=>{if("function"!=typeof rn[ce])throw et.create("invalid-app-argument",{appName:W});return rn[ce]()};void 0!==le.serviceProps&&(0,_.ZB)(ve,le.serviceProps),Le[ce]=ve,lt.prototype[ce]=function(...rn){return this._getService.bind(this,W).apply(this,le.multipleInstances?rn:[])}}return"PUBLIC"===le.type?Le[ce]:null},removeApp:function Ct(le){delete dt[le]},useAsService:function qe(le,W){return"serverAuth"===W?null:W},modularAPIs:X}};function ze(le){if(!(0,_.r3)(dt,le=le||X._DEFAULT_ENTRY_NAME))throw et.create("no-app",{appName:le});return dt[le]}return Le.default=Le,Object.defineProperty(Le,"apps",{get:function Re(){return Object.keys(dt).map(le=>dt[le])}}),ze.App=lt,Le}(Pe);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:Ge,extendNamespace:function dt(Le){(0,_.ZB)(lt,Le)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),lt}(),ie=new me.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ft=De;!function Se(lt){(0,X.registerVersion)("@firebase/app-compat","0.2.13",lt)}()},7592:(Bt,$e,j)=>{j.r($e),j.d($e,{FirebaseError:()=>me.ZR,SDK_VERSION:()=>Rr,_DEFAULT_ENTRY_NAME:()=>Ee,_addComponent:()=>Ne,_addOrOverwriteComponent:()=>Je,_apps:()=>Me,_clearComponents:()=>Ht,_components:()=>Ie,_getProvider:()=>sn,_registerComponent:()=>zt,_removeServiceInstance:()=>wn,deleteApp:()=>mi,getApp:()=>nn,getApps:()=>ni,initializeApp:()=>Pr,onLog:()=>Xo,registerVersion:()=>Oi,setLogLevel:()=>Fs});var _=j(5861),G=j(5031),X=j(7879),me=j(229),Pe=j(1878);class Ke{constructor(Ve){this.container=Ve}getPlatformInfoString(){return this.container.getProviders().map(bt=>{if(function et(mt){const Ve=mt.getComponent();return"VERSION"===Ve?.type}(bt)){const Gt=bt.getImmediate();return`${Gt.library}/${Gt.version}`}return null}).filter(bt=>bt).join(" ")}}const at="@firebase/app",De=new X.Yd("@firebase/app"),Ee="[DEFAULT]",be={[at]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Me=new Map,Ie=new Map;function Ne(mt,Ve){try{mt.container.addComponent(Ve)}catch(bt){De.debug(`Component ${Ve.name} failed to register with FirebaseApp ${mt.name}`,bt)}}function Je(mt,Ve){mt.container.addOrOverwriteComponent(Ve)}function zt(mt){const Ve=mt.name;if(Ie.has(Ve))return De.debug(`There were multiple attempts to register component ${Ve}.`),!1;Ie.set(Ve,mt);for(const bt of Me.values())Ne(bt,mt);return!0}function sn(mt,Ve){const bt=mt.container.getProvider("heartbeat").getImmediate({optional:!0});return bt&&bt.triggerHeartbeat(),mt.container.getProvider(Ve)}function wn(mt,Ve,bt=Ee){sn(mt,Ve).clearInstance(bt)}function Ht(){Ie.clear()}const Dt=new me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class On{constructor(Ve,bt,Gt){this._isDeleted=!1,this._options=Object.assign({},Ve),this._config=Object.assign({},bt),this._name=bt.name,this._automaticDataCollectionEnabled=bt.automaticDataCollectionEnabled,this._container=Gt,this.container.addComponent(new G.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ve){this._isDeleted=Ve}checkDestroyed(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}const Rr="9.23.0";function Pr(mt,Ve={}){let bt=mt;"object"!=typeof Ve&&(Ve={name:Ve});const Gt=Object.assign({name:Ee,automaticDataCollectionEnabled:!1},Ve),pn=Gt.name;if("string"!=typeof pn||!pn)throw Dt.create("bad-app-name",{appName:String(pn)});if(bt||(bt=(0,me.aH)()),!bt)throw Dt.create("no-options");const xn=Me.get(pn);if(xn){if((0,me.vZ)(bt,xn.options)&&(0,me.vZ)(Gt,xn.config))return xn;throw Dt.create("duplicate-app",{appName:pn})}const Gn=new G.H0(pn);for(const H of Ie.values())Gn.addComponent(H);const Q=new On(bt,Gt,Gn);return Me.set(pn,Q),Q}function nn(mt=Ee){const Ve=Me.get(mt);if(!Ve&&mt===Ee&&(0,me.aH)())return Pr();if(!Ve)throw Dt.create("no-app",{appName:mt});return Ve}function ni(){return Array.from(Me.values())}function mi(mt){return ys.apply(this,arguments)}function ys(){return(ys=(0,_.Z)(function*(mt){const Ve=mt.name;Me.has(Ve)&&(Me.delete(Ve),yield Promise.all(mt.container.getProviders().map(bt=>bt.delete())),mt.isDeleted=!0)})).apply(this,arguments)}function Oi(mt,Ve,bt){var Gt;let pn=null!==(Gt=be[mt])&&void 0!==Gt?Gt:mt;bt&&(pn+=`-${bt}`);const xn=pn.match(/\s|\//),Gn=Ve.match(/\s|\//);if(xn||Gn){const Q=[`Unable to register library "${pn}" with version "${Ve}":`];return xn&&Q.push(`library name "${pn}" contains illegal characters (whitespace or "/")`),xn&&Gn&&Q.push("and"),Gn&&Q.push(`version name "${Ve}" contains illegal characters (whitespace or "/")`),void De.warn(Q.join(" "))}zt(new G.wA(`${pn}-version`,()=>({library:pn,version:Ve}),"VERSION"))}function Xo(mt,Ve){if(null!==mt&&"function"!=typeof mt)throw Dt.create("invalid-log-argument");(0,X.Am)(mt,Ve)}function Fs(mt){(0,X.Ub)(mt)}const eo="firebase-heartbeat-database",Mn=1,Mt="firebase-heartbeat-store";let Qt=null;function _i(){return Qt||(Qt=(0,Pe.X3)(eo,Mn,{upgrade:(mt,Ve)=>{0===Ve&&mt.createObjectStore(Mt)}}).catch(mt=>{throw Dt.create("idb-open",{originalErrorMessage:mt.message})})),Qt}function Ur(){return(Ur=(0,_.Z)(function*(mt){try{return yield(yield _i()).transaction(Mt).objectStore(Mt).get(yi(mt))}catch(Ve){if(Ve instanceof me.ZR)De.warn(Ve.message);else{const bt=Dt.create("idb-get",{originalErrorMessage:Ve?.message});De.warn(bt.message)}}})).apply(this,arguments)}function Vs(mt,Ve){return vn.apply(this,arguments)}function vn(){return(vn=(0,_.Z)(function*(mt,Ve){try{const Gt=(yield _i()).transaction(Mt,"readwrite");yield Gt.objectStore(Mt).put(Ve,yi(mt)),yield Gt.done}catch(bt){if(bt instanceof me.ZR)De.warn(bt.message);else{const Gt=Dt.create("idb-set",{originalErrorMessage:bt?.message});De.warn(Gt.message)}}})).apply(this,arguments)}function yi(mt){return`${mt.name}!${mt.options.appId}`}class bn{constructor(Ve){this.container=Ve,this._heartbeatsCache=null;const bt=this.container.getProvider("app").getImmediate();this._storage=new So(bt),this._heartbeatsCachePromise=this._storage.read().then(Gt=>(this._heartbeatsCache=Gt,Gt))}triggerHeartbeat(){var Ve=this;return(0,_.Z)(function*(){const Gt=Ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pn=ea();if(null===Ve._heartbeatsCache&&(Ve._heartbeatsCache=yield Ve._heartbeatsCachePromise),Ve._heartbeatsCache.lastSentHeartbeatDate!==pn&&!Ve._heartbeatsCache.heartbeats.some(xn=>xn.date===pn))return Ve._heartbeatsCache.heartbeats.push({date:pn,agent:Gt}),Ve._heartbeatsCache.heartbeats=Ve._heartbeatsCache.heartbeats.filter(xn=>{const Gn=new Date(xn.date).valueOf();return Date.now()-Gn<=2592e6}),Ve._storage.overwrite(Ve._heartbeatsCache)})()}getHeartbeatsHeader(){var Ve=this;return(0,_.Z)(function*(){if(null===Ve._heartbeatsCache&&(yield Ve._heartbeatsCachePromise),null===Ve._heartbeatsCache||0===Ve._heartbeatsCache.heartbeats.length)return"";const bt=ea(),{heartbeatsToSend:Gt,unsentEntries:pn}=function to(mt,Ve=1024){const bt=[];let Gt=mt.slice();for(const pn of mt){const xn=bt.find(Gn=>Gn.agent===pn.agent);if(xn){if(xn.dates.push(pn.date),Yi(bt)>Ve){xn.dates.pop();break}}else if(bt.push({agent:pn.agent,dates:[pn.date]}),Yi(bt)>Ve){bt.pop();break}Gt=Gt.slice(1)}return{heartbeatsToSend:bt,unsentEntries:Gt}}(Ve._heartbeatsCache.heartbeats),xn=(0,me.L)(JSON.stringify({version:2,heartbeats:Gt}));return Ve._heartbeatsCache.lastSentHeartbeatDate=bt,pn.length>0?(Ve._heartbeatsCache.heartbeats=pn,yield Ve._storage.overwrite(Ve._heartbeatsCache)):(Ve._heartbeatsCache.heartbeats=[],Ve._storage.overwrite(Ve._heartbeatsCache)),xn})()}}function ea(){return(new Date).toISOString().substring(0,10)}class So{constructor(Ve){this.app=Ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,me.hl)()&&(0,me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ve=this;return(0,_.Z)(function*(){return(yield Ve._canUseIndexedDBPromise)&&(yield function Ft(mt){return Ur.apply(this,arguments)}(Ve.app))||{heartbeats:[]}})()}overwrite(Ve){var bt=this;return(0,_.Z)(function*(){var Gt;if(yield bt._canUseIndexedDBPromise){const xn=yield bt.read();return Vs(bt.app,{lastSentHeartbeatDate:null!==(Gt=Ve.lastSentHeartbeatDate)&&void 0!==Gt?Gt:xn.lastSentHeartbeatDate,heartbeats:Ve.heartbeats})}})()}add(Ve){var bt=this;return(0,_.Z)(function*(){var Gt;if(yield bt._canUseIndexedDBPromise){const xn=yield bt.read();return Vs(bt.app,{lastSentHeartbeatDate:null!==(Gt=Ve.lastSentHeartbeatDate)&&void 0!==Gt?Gt:xn.lastSentHeartbeatDate,heartbeats:[...xn.heartbeats,...Ve.heartbeats]})}})()}}function Yi(mt){return(0,me.L)(JSON.stringify({version:2,heartbeats:mt})).length}!function Ji(mt){zt(new G.wA("platform-logger",Ve=>new Ke(Ve),"PRIVATE")),zt(new G.wA("heartbeat",Ve=>new bn(Ve),"PRIVATE")),Oi(at,"0.9.13",mt),Oi(at,"0.9.13","esm2017"),Oi("fire-js","")}("")},4097:(Bt,$e,j)=>{j.d($e,{C6:()=>_.getApps,KN:()=>_.registerVersion,Mq:()=>_.getApp,ZF:()=>_.initializeApp});var _=j(7592);(0,_.registerVersion)("firebase","9.23.0","app")},120:(Bt,$e,j)=>{j.d($e,{Z:()=>_.Z});var _=j(3399);_.Z.registerVersion("firebase","9.23.0","app-compat")},7954:(Bt,$e,j)=>{j.d($e,{Jn:()=>gl,qX:()=>pl,Xd:()=>na,KN:()=>yn});var _=j(5861),G=j(5031),X=j(7879);const et=function(U){const V=[];let q=0;for(let _e=0;_e<U.length;_e++){let re=U.charCodeAt(_e);re<128?V[q++]=re:re<2048?(V[q++]=re>>6|192,V[q++]=63&re|128):55296==(64512&re)&&_e+1<U.length&&56320==(64512&U.charCodeAt(_e+1))?(re=65536+((1023&re)<<10)+(1023&U.charCodeAt(++_e)),V[q++]=re>>18|240,V[q++]=re>>12&63|128,V[q++]=re>>6&63|128,V[q++]=63&re|128):(V[q++]=re>>12|224,V[q++]=re>>6&63|128,V[q++]=63&re|128)}return V},Ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,V){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let re=0;re<U.length;re+=3){const st=U[re],xt=re+1<U.length,un=xt?U[re+1]:0,Cr=re+2<U.length,dr=Cr?U[re+2]:0;let vr=(15&un)<<2|dr>>6,ns=63&dr;Cr||(ns=64,xt||(vr=64)),_e.push(q[st>>2],q[(3&st)<<4|un>>4],q[vr],q[ns])}return _e.join("")},encodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(U):this.encodeByteArray(et(U),V)},decodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(U):function(U){const V=[];let q=0,_e=0;for(;q<U.length;){const re=U[q++];if(re<128)V[_e++]=String.fromCharCode(re);else if(re>191&&re<224){const st=U[q++];V[_e++]=String.fromCharCode((31&re)<<6|63&st)}else if(re>239&&re<365){const Cr=((7&re)<<18|(63&U[q++])<<12|(63&U[q++])<<6|63&U[q++])-65536;V[_e++]=String.fromCharCode(55296+(Cr>>10)),V[_e++]=String.fromCharCode(56320+(1023&Cr))}else{const st=U[q++],xt=U[q++];V[_e++]=String.fromCharCode((15&re)<<12|(63&st)<<6|63&xt)}}return V.join("")}(this.decodeStringToByteArray(U,V))},decodeStringToByteArray(U,V){this.init_();const q=V?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let re=0;re<U.length;){const st=q[U.charAt(re++)],un=re<U.length?q[U.charAt(re)]:0;++re;const dr=re<U.length?q[U.charAt(re)]:64;++re;const mn=re<U.length?q[U.charAt(re)]:64;if(++re,null==st||null==un||null==dr||null==mn)throw new De;_e.push(st<<2|un>>4),64!==dr&&(_e.push(un<<4&240|dr>>2),64!==mn&&_e.push(dr<<6&192|mn))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class De extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fe=function(U){return function(U){const V=et(U);return Ge.encodeByteArray(V,!0)}(U).replace(/\./g,"")};class sn extends Error{constructor(V,q,_e){super(q),this.code=V,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wn.prototype.create)}}class wn{constructor(V,q,_e){this.service=V,this.serviceName=q,this.errors=_e}create(V,...q){const _e=q[0]||{},re=`${this.service}/${V}`,st=this.errors[V],xt=st?function Ht(U,V){return U.replace(tn,(q,_e)=>{const re=V[_e];return null!=re?String(re):`<${_e}?>`})}(st,_e):"Error";return new sn(re,`${this.serviceName}: ${xt} (${re}).`,_e)}}const tn=/\{\$([^}]+)}/g;var Te=j(1878);class fe{constructor(V){this.container=V}getPlatformInfoString(){return this.container.getProviders().map(q=>{if(function Tt(U){const V=U.getComponent();return"VERSION"===V?.type}(q)){const _e=q.getImmediate();return`${_e.library}/${_e.version}`}return null}).filter(q=>q).join(" ")}}const Ut="@firebase/app",K="0.9.23",B=new X.Yd("@firebase/app"),zd={[Ut]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ta=new Map,lc=new Map;function hl(U,V){try{U.container.addComponent(V)}catch(q){B.debug(`Component ${V.name} failed to register with FirebaseApp ${U.name}`,q)}}function na(U){const V=U.name;if(lc.has(V))return B.debug(`There were multiple attempts to register component ${V}.`),!1;lc.set(V,U);for(const q of ta.values())hl(q,U);return!0}function pl(U,V){const q=U.container.getProvider("heartbeat").getImmediate({optional:!0});return q&&q.triggerHeartbeat(),U.container.getProvider(V)}const ri=new wn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),gl="10.6.0";function yn(U,V,q){var _e;let re=null!==(_e=zd[U])&&void 0!==_e?_e:U;q&&(re+=`-${q}`);const st=re.match(/\s|\//),xt=V.match(/\s|\//);if(st||xt){const un=[`Unable to register library "${re}" with version "${V}":`];return st&&un.push(`library name "${re}" contains illegal characters (whitespace or "/")`),st&&xt&&un.push("and"),xt&&un.push(`version name "${V}" contains illegal characters (whitespace or "/")`),void B.warn(un.join(" "))}na(new G.wA(`${re}-version`,()=>({library:re,version:V}),"VERSION"))}const Ro="firebase-heartbeat-database",oi=1,Po="firebase-heartbeat-store";let Oa=null;function ka(){return Oa||(Oa=(0,Te.X3)(Ro,oi,{upgrade:(U,V)=>{0===V&&U.createObjectStore(Po)}}).catch(U=>{throw ri.create("idb-open",{originalErrorMessage:U.message})})),Oa}function yl(){return(yl=(0,_.Z)(function*(U){try{return yield(yield ka()).transaction(Po).objectStore(Po).get(Yt(U))}catch(V){if(V instanceof sn)B.warn(V.message);else{const q=ri.create("idb-get",{originalErrorMessage:V?.message});B.warn(q.message)}}})).apply(this,arguments)}function ar(U,V){return vt.apply(this,arguments)}function vt(){return(vt=(0,_.Z)(function*(U,V){try{const _e=(yield ka()).transaction(Po,"readwrite");yield _e.objectStore(Po).put(V,Yt(U)),yield _e.done}catch(q){if(q instanceof sn)B.warn(q.message);else{const _e=ri.create("idb-set",{originalErrorMessage:q?.message});B.warn(_e.message)}}})).apply(this,arguments)}function Yt(U){return`${U.name}!${U.options.appId}`}class No{constructor(V){this.container=V,this._heartbeatsCache=null;const q=this.container.getProvider("app").getImmediate();this._storage=new tr(q),this._heartbeatsCachePromise=this._storage.read().then(_e=>(this._heartbeatsCache=_e,_e))}triggerHeartbeat(){var V=this;return(0,_.Z)(function*(){var q;const re=V.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),st=Or();if(null==(null===(q=V._heartbeatsCache)||void 0===q?void 0:q.heartbeats)&&(V._heartbeatsCache=yield V._heartbeatsCachePromise),V._heartbeatsCache.lastSentHeartbeatDate!==st&&!V._heartbeatsCache.heartbeats.some(xt=>xt.date===st))return V._heartbeatsCache.heartbeats.push({date:st,agent:re}),V._heartbeatsCache.heartbeats=V._heartbeatsCache.heartbeats.filter(xt=>{const un=new Date(xt.date).valueOf();return Date.now()-un<=2592e6}),V._storage.overwrite(V._heartbeatsCache)})()}getHeartbeatsHeader(){var V=this;return(0,_.Z)(function*(){var q;if(null===V._heartbeatsCache&&(yield V._heartbeatsCachePromise),null==(null===(q=V._heartbeatsCache)||void 0===q?void 0:q.heartbeats)||0===V._heartbeatsCache.heartbeats.length)return"";const _e=Or(),{heartbeatsToSend:re,unsentEntries:st}=function Qr(U,V=1024){const q=[];let _e=U.slice();for(const re of U){const st=q.find(xt=>xt.agent===re.agent);if(st){if(st.dates.push(re.date),no(q)>V){st.dates.pop();break}}else if(q.push({agent:re.agent,dates:[re.date]}),no(q)>V){q.pop();break}_e=_e.slice(1)}return{heartbeatsToSend:q,unsentEntries:_e}}(V._heartbeatsCache.heartbeats),xt=Fe(JSON.stringify({version:2,heartbeats:re}));return V._heartbeatsCache.lastSentHeartbeatDate=_e,st.length>0?(V._heartbeatsCache.heartbeats=st,yield V._storage.overwrite(V._heartbeatsCache)):(V._heartbeatsCache.heartbeats=[],V._storage.overwrite(V._heartbeatsCache)),xt})()}}function Or(){return(new Date).toISOString().substring(0,10)}class tr{constructor(V){this.app=V,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!function Ie(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Ne(){return new Promise((U,V)=>{try{let q=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(_e);re.onsuccess=()=>{re.result.close(),q||self.indexedDB.deleteDatabase(_e),U(!0)},re.onupgradeneeded=()=>{q=!1},re.onerror=()=>{var st;V((null===(st=re.error)||void 0===st?void 0:st.message)||"")}}catch(q){V(q)}})}().then(()=>!0).catch(()=>!1)})()}read(){var V=this;return(0,_.Z)(function*(){return(yield V._canUseIndexedDBPromise)&&(yield function Au(U){return yl.apply(this,arguments)}(V.app))||{heartbeats:[]}})()}overwrite(V){var q=this;return(0,_.Z)(function*(){var _e;if(yield q._canUseIndexedDBPromise){const st=yield q.read();return ar(q.app,{lastSentHeartbeatDate:null!==(_e=V.lastSentHeartbeatDate)&&void 0!==_e?_e:st.lastSentHeartbeatDate,heartbeats:V.heartbeats})}})()}add(V){var q=this;return(0,_.Z)(function*(){var _e;if(yield q._canUseIndexedDBPromise){const st=yield q.read();return ar(q.app,{lastSentHeartbeatDate:null!==(_e=V.lastSentHeartbeatDate)&&void 0!==_e?_e:st.lastSentHeartbeatDate,heartbeats:[...st.heartbeats,...V.heartbeats]})}})()}}function no(U){return Fe(JSON.stringify({version:2,heartbeats:U})).length}!function ts(U){na(new G.wA("platform-logger",V=>new fe(V),"PRIVATE")),na(new G.wA("heartbeat",V=>new No(V),"PRIVATE")),yn(Ut,K,U),yn(Ut,K,"esm2017"),yn("fire-js","")}("")},5031:(Bt,$e,j)=>{j.d($e,{wA:()=>H,H0:()=>Ut});var _=j(5861);Error;class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,Z)=>{this.resolve=B,this.reject=Z})}wrapCallback(B){return(Z,ue)=>{Z?this.reject(Z):this.resolve(ue),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(Z):B(Z,ue))}}}class H{constructor(B,Z,ue){this.name=B,this.instanceFactory=Z,this.type=ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const te="[DEFAULT]";class Te{constructor(B,Z){this.name=B,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const Z=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(Z)){const ue=new qe;if(this.instancesDeferred.set(Z,ue),this.isInitialized(Z)||this.shouldAutoInitialize())try{const J=this.getOrInitializeService({instanceIdentifier:Z});J&&ue.resolve(J)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(B){var Z;const ue=this.normalizeInstanceIdentifier(B?.identifier),J=null!==(Z=B?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(ue)&&!this.shouldAutoInitialize()){if(J)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ue})}catch(it){if(J)return null;throw it}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function Tt(K){return"EAGER"===K.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[Z,ue]of this.instancesDeferred.entries()){const J=this.normalizeInstanceIdentifier(Z);try{const it=this.getOrInitializeService({instanceIdentifier:J});ue.resolve(it)}catch{}}}}clearInstance(B=te){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,_.Z)(function*(){const Z=Array.from(B.instances.values());yield Promise.all([...Z.filter(ue=>"INTERNAL"in ue).map(ue=>ue.INTERNAL.delete()),...Z.filter(ue=>"_delete"in ue).map(ue=>ue._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=te){return this.instances.has(B)}getOptions(B=te){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:Z={}}=B,ue=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(ue))throw Error(`${this.name}(${ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const J=this.getOrInitializeService({instanceIdentifier:ue,options:Z});for(const[it,Rt]of this.instancesDeferred.entries())ue===this.normalizeInstanceIdentifier(it)&&Rt.resolve(J);return J}onInit(B,Z){var ue;const J=this.normalizeInstanceIdentifier(Z),it=null!==(ue=this.onInitCallbacks.get(J))&&void 0!==ue?ue:new Set;it.add(B),this.onInitCallbacks.set(J,it);const Rt=this.instances.get(J);return Rt&&B(Rt,J),()=>{it.delete(B)}}invokeOnInitCallbacks(B,Z){const ue=this.onInitCallbacks.get(Z);if(ue)for(const J of ue)try{J(B,Z)}catch{}}getOrInitializeService({instanceIdentifier:B,options:Z={}}){let ue=this.instances.get(B);if(!ue&&this.component&&(ue=this.component.instanceFactory(this.container,{instanceIdentifier:(K=B,K===te?void 0:K),options:Z}),this.instances.set(B,ue),this.instancesOptions.set(B,Z),this.invokeOnInitCallbacks(ue,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,ue)}catch{}var K;return ue||null}normalizeInstanceIdentifier(B=te){return this.component?this.component.multipleInstances?B:te:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ut{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const Z=this.getProvider(B.name);if(Z.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);Z.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const Z=new Te(B,this);return this.providers.set(B,Z),Z}getProviders(){return Array.from(this.providers.values())}}},7879:(Bt,$e,j)=>{j.d($e,{Am:()=>Ge,Ub:()=>at,Yd:()=>et,in:()=>G});const _=[];var G=(()=>((G=G||{})[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",G))();const X={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},me=G.INFO,Pe={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},Ke=(De,ie,...Fe)=>{if(ie<De.logLevel)return;const ht=(new Date).toISOString(),Se=Pe[ie];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[Se](`[${ht}]  ${De.name}:`,...Fe)};class et{constructor(ie){this.name=ie,this._logLevel=me,this._logHandler=Ke,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in G))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?X[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...ie),this._logHandler(this,G.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...ie),this._logHandler(this,G.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,G.INFO,...ie),this._logHandler(this,G.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,G.WARN,...ie),this._logHandler(this,G.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...ie),this._logHandler(this,G.ERROR,...ie)}}function at(De){_.forEach(ie=>{ie.setLogLevel(De)})}function Ge(De,ie){for(const Fe of _){let ht=null;ie&&ie.level&&(ht=X[ie.level]),Fe.userLogHandler=null===De?null:(Se,ft,...lt)=>{const dt=lt.map(Le=>{if(null==Le)return null;if("string"==typeof Le)return Le;if("number"==typeof Le||"boolean"==typeof Le)return Le.toString();if(Le instanceof Error)return Le.message;try{return JSON.stringify(Le)}catch{return null}}).filter(Le=>Le).join(" ");ft>=(ht??Se.logLevel)&&De({level:G[ft].toLowerCase(),message:dt,args:lt,type:Se.name})}}}},1878:(Bt,$e,j)=>{j.d($e,{X3:()=>ze});var _=j(5861);const G=(W,ce)=>ce.some(ve=>W instanceof ve);let X,me;const et=new WeakMap,at=new WeakMap,Ge=new WeakMap,De=new WeakMap,ie=new WeakMap;let Se={get(W,ce,ve){if(W instanceof IDBTransaction){if("done"===ce)return at.get(W);if("objectStoreNames"===ce)return W.objectStoreNames||Ge.get(W);if("store"===ce)return ve.objectStoreNames[1]?void 0:ve.objectStore(ve.objectStoreNames[0])}return Le(W[ce])},set:(W,ce,ve)=>(W[ce]=ve,!0),has:(W,ce)=>W instanceof IDBTransaction&&("done"===ce||"store"===ce)||ce in W};function dt(W){return"function"==typeof W?function lt(W){return W!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ke(){return me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(W)?function(...ce){return W.apply(Ct(this),ce),Le(et.get(this))}:function(...ce){return Le(W.apply(Ct(this),ce))}:function(ce,...ve){const rn=W.call(Ct(this),ce,...ve);return Ge.set(rn,ce.sort?ce.sort():[ce]),Le(rn)}}(W):(W instanceof IDBTransaction&&function ht(W){if(at.has(W))return;const ce=new Promise((ve,rn)=>{const zn=()=>{W.removeEventListener("complete",ir),W.removeEventListener("error",Zn),W.removeEventListener("abort",Zn)},ir=()=>{ve(),zn()},Zn=()=>{rn(W.error||new DOMException("AbortError","AbortError")),zn()};W.addEventListener("complete",ir),W.addEventListener("error",Zn),W.addEventListener("abort",Zn)});at.set(W,ce)}(W),G(W,function Pe(){return X||(X=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(W,Se):W)}function Le(W){if(W instanceof IDBRequest)return function Fe(W){const ce=new Promise((ve,rn)=>{const zn=()=>{W.removeEventListener("success",ir),W.removeEventListener("error",Zn)},ir=()=>{ve(Le(W.result)),zn()},Zn=()=>{rn(W.error),zn()};W.addEventListener("success",ir),W.addEventListener("error",Zn)});return ce.then(ve=>{ve instanceof IDBCursor&&et.set(ve,W)}).catch(()=>{}),ie.set(ce,W),ce}(W);if(De.has(W))return De.get(W);const ce=dt(W);return ce!==W&&(De.set(W,ce),ie.set(ce,W)),ce}const Ct=W=>ie.get(W);function ze(W,ce,{blocked:ve,upgrade:rn,blocking:zn,terminated:ir}={}){const Zn=indexedDB.open(W,ce),Jn=Le(Zn);return rn&&Zn.addEventListener("upgradeneeded",Xn=>{rn(Le(Zn.result),Xn.oldVersion,Xn.newVersion,Le(Zn.transaction),Xn)}),ve&&Zn.addEventListener("blocked",Xn=>ve(Xn.oldVersion,Xn.newVersion,Xn)),Jn.then(Xn=>{ir&&Xn.addEventListener("close",()=>ir()),zn&&Xn.addEventListener("versionchange",Ni=>zn(Ni.oldVersion,Ni.newVersion,Ni))}).catch(()=>{}),Jn}const Re=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],qe=new Map;function le(W,ce){if(!(W instanceof IDBDatabase)||ce in W||"string"!=typeof ce)return;if(qe.get(ce))return qe.get(ce);const ve=ce.replace(/FromIndex$/,""),rn=ce!==ve,zn=ke.includes(ve);if(!(ve in(rn?IDBIndex:IDBObjectStore).prototype)||!zn&&!Re.includes(ve))return;const ir=function(){var Zn=(0,_.Z)(function*(Jn,...Xn){const Ni=this.transaction(Jn,zn?"readwrite":"readonly");let Ee=Ni.store;return rn&&(Ee=Ee.index(Xn.shift())),(yield Promise.all([Ee[ve](...Xn),zn&&Ni.done]))[0]});return function(Xn){return Zn.apply(this,arguments)}}();return qe.set(ce,ir),ir}!function ft(W){Se=W(Se)}(W=>({...W,get:(ce,ve,rn)=>le(ce,ve)||W.get(ce,ve,rn),has:(ce,ve)=>!!le(ce,ve)||W.has(ce,ve)}))},5861:(Bt,$e,j)=>{function _(X,me,Pe,Ke,et,at,Ge){try{var De=X[at](Ge),ie=De.value}catch(Fe){return void Pe(Fe)}De.done?me(ie):Promise.resolve(ie).then(Ke,et)}function G(X){return function(){var me=this,Pe=arguments;return new Promise(function(Ke,et){var at=X.apply(me,Pe);function Ge(ie){_(at,Ke,et,Ge,De,"next",ie)}function De(ie){_(at,Ke,et,Ge,De,"throw",ie)}Ge(void 0)})}}j.d($e,{Z:()=>G})},7582:(Bt,$e,j)=>{function me(Ee,be){var Me={};for(var Ie in Ee)Object.prototype.hasOwnProperty.call(Ee,Ie)&&be.indexOf(Ie)<0&&(Me[Ie]=Ee[Ie]);if(null!=Ee&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(Ie=Object.getOwnPropertySymbols(Ee);Ne<Ie.length;Ne++)be.indexOf(Ie[Ne])<0&&Object.prototype.propertyIsEnumerable.call(Ee,Ie[Ne])&&(Me[Ie[Ne]]=Ee[Ie[Ne]])}return Me}function Fe(Ee,be,Me,Ie){return new(Me||(Me=Promise))(function(Je,zt){function sn(tn){try{Ht(Ie.next(tn))}catch(Dt){zt(Dt)}}function wn(tn){try{Ht(Ie.throw(tn))}catch(Dt){zt(Dt)}}function Ht(tn){tn.done?Je(tn.value):function Ne(Je){return Je instanceof Me?Je:new Me(function(zt){zt(Je)})}(tn.value).then(sn,wn)}Ht((Ie=Ie.apply(Ee,be||[])).next())})}function Be(Ee){return this instanceof Be?(this.v=Ee,this):new Be(Ee)}function Re(Ee,be,Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,Ie=Me.apply(Ee,be||[]),Je=[];return Ne={},zt("next"),zt("throw"),zt("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function zt(On){Ie[On]&&(Ne[On]=function(Rr){return new Promise(function(Pr,nn){Je.push([On,Rr,Pr,nn])>1||sn(On,Rr)})})}function sn(On,Rr){try{!function wn(On){On.value instanceof Be?Promise.resolve(On.value.v).then(Ht,tn):Dt(Je[0][2],On)}(Ie[On](Rr))}catch(Pr){Dt(Je[0][3],Pr)}}function Ht(On){sn("next",On)}function tn(On){sn("throw",On)}function Dt(On,Rr){On(Rr),Je.shift(),Je.length&&sn(Je[0][0],Je[0][1])}}function qe(Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,be=Ee[Symbol.asyncIterator];return be?be.call(Ee):(Ee=function lt(Ee){var be="function"==typeof Symbol&&Symbol.iterator,Me=be&&Ee[be],Ie=0;if(Me)return Me.call(Ee);if(Ee&&"number"==typeof Ee.length)return{next:function(){return Ee&&Ie>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[Ie++],done:!Ee}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ee),Me={},Ie("next"),Ie("throw"),Ie("return"),Me[Symbol.asyncIterator]=function(){return this},Me);function Ie(Je){Me[Je]=Ee[Je]&&function(zt){return new Promise(function(sn,wn){!function Ne(Je,zt,sn,wn){Promise.resolve(wn).then(function(Ht){Je({value:Ht,done:sn})},zt)}(sn,wn,(zt=Ee[Je](zt)).done,zt.value)})}}}j.d($e,{FC:()=>Re,KL:()=>qe,_T:()=>me,mG:()=>Fe,qq:()=>Be}),"function"==typeof SuppressedError&&SuppressedError}},Bt=>{Bt(Bt.s=6470)}]);